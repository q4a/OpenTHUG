<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTHUG: Файл C:/git/thug/src/sys/File/ngps/FileIO/start.c</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTHUG
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">OpenTHUG: let&#39;s port THUG on Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d2a/start_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle">
<div class="title">Файл start.c</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d7/d2a/start_8c_source.html">См. исходные тексты.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Функции</h2></td></tr>
<tr class="memitem:aa5cd420ba78f48e5fa78167b0a0aa1b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d2a/start_8c.html#aa5cd420ba78f48e5fa78167b0a0aa1b4">fileio_command_loop</a> (void)</td></tr>
<tr class="separator:aa5cd420ba78f48e5fa78167b0a0aa1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92d3b835636641550b12b0f93daf21d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d2a/start_8c.html#ac92d3b835636641550b12b0f93daf21d">start</a> ()</td></tr>
<tr class="separator:ac92d3b835636641550b12b0f93daf21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:afaddb0b3487a23e3e37ac003c1864151"><td class="memItemLeft" align="right" valign="top">ModuleInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d2a/start_8c.html#afaddb0b3487a23e3e37ac003c1864151">Module</a> = {&quot;fileio_driver&quot;, 0x0112}</td></tr>
<tr class="separator:afaddb0b3487a23e3e37ac003c1864151"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Функции</h2>
<a id="aa5cd420ba78f48e5fa78167b0a0aa1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5cd420ba78f48e5fa78167b0a0aa1b4">&#9670;&nbsp;</a></span>fileio_command_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fileio_command_loop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d5/d2e/command_8c_source.html">command.c</a> строка <a class="el" href="../../d5/d2e/command_8c_source.html#l01300">1300</a></p>
<div class="fragment"><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;{</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordtype">int</span> oldStat;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22b">EDeviceType</a> cur_device;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// Create semaphore to signal command came in</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keyword">struct </span>SemaParam sem;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    sem.initCount = 0;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    sem.maxCount = 1;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    sem.attr = AT_THFIFO;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="../../d5/d2e/command_8c.html#a94fc72fd31df2526aa5728c378c8b9e1">gCmdSem</a> = CreateSema(&amp;sem);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// Init the stream queue</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="../../d5/d2e/command_8c.html#a4888ae0a16a9aca0e9513eed9e786d4f">sFirstFileIORequest</a> = 0;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="../../d5/d2e/command_8c.html#ac7c888b06f03899243de58560ffd96bf">sFreeFileIORequest</a> = 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="comment">// Init free task list</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a> = NULL;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; FILEIO_MAX_TASKS; i++)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a2cb189d23f7ecd0311be180221b47442">sFileIOTaskArray</a>[i].<a class="code" href="../../dd/de9/struct_file_i_o_task.html#af57808c7dda94a1b80f1262695f64f37">mp_file_handle</a> = NULL;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="comment">// Add to beginning of list</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a2cb189d23f7ecd0311be180221b47442">sFileIOTaskArray</a>[i].<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">mp_next</a> = <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a> = &amp;<a class="code" href="../../d5/d2e/command_8c.html#a2cb189d23f7ecd0311be180221b47442">sFileIOTaskArray</a>[i];</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="comment">// Init devices</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22ba30dd92be727e7b1ef5048933c588c520">NUM_DEVICE_TYPES</a>; i++)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#a0b21cb33183d665b71c2e87ae6c10239">m_in_use</a> = FALSE;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#ada05cfbf157bf0e59082621f4380ba0b">m_waiting_callback</a> = FALSE;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#af3e99167b2eedc0d4371ecb24e3f3d3a">mp_file_handle</a> = NULL;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#ac2ed6e07d8729c23c065f849770b081a">mp_task_list</a> = NULL;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#a2be5be57f413c33b293fc1f50f37412d">m_cur_position</a> = -1;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#a11ba2b561fc8a566264b5ca20a88f47d">m_cur_sector</a> = -1;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#ae4e5439f5f39a186fafb65db83099870">mp_buffer</a>[0] = NULL;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#ae4e5439f5f39a186fafb65db83099870">mp_buffer</a>[1] = NULL;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[i].<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#aa545c6fc20bfe1f843daa80727542039">m_buffer_index</a> = -1;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    sceSifInitRpc(0);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// set local buffer &amp; functions</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    CpuSuspendIntr(&amp;oldStat);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">// SIFCMD</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    sceSifSetCmdBuffer( &amp;<a class="code" href="../../d5/d2e/command_8c.html#ab91fdd8af9ce16812a6932c90508b529">cmdbuffer</a>[0], FILEIO_NUM_COMMAND_HANDLERS);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    sceSifAddCmdHandler(FILEIO_REQUEST_COMMAND, (<span class="keywordtype">void</span> *) <a class="code" href="../../d5/d2e/command_8c.html#ab8b02e6c133338163e67b9ced09cec4f">request_callback</a>, NULL );</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    CpuResumeIntr(oldStat);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="comment">// The loop</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="comment">//ShowFileIOInfo(&quot;waiting for command semaphore\n&quot;);</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        WaitSema(<a class="code" href="../../d5/d2e/command_8c.html#a94fc72fd31df2526aa5728c378c8b9e1">gCmdSem</a>);      <span class="comment">// Get signal from callback</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="comment">//ShowFileIOInfo(&quot;got command semaphore\n&quot;);</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="comment">// Move new requests into schedule list</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="comment">// Note that FreeStreamRequest can change in the interrupt at any time</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="comment">// Also, FirstStreamRequest is examined in the interrupt, but just to make sure we don&#39;t overflow the buffer</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d5/d2e/command_8c.html#ac7c888b06f03899243de58560ffd96bf">sFreeFileIORequest</a> != <a class="code" href="../../d5/d2e/command_8c.html#a4888ae0a16a9aca0e9513eed9e786d4f">sFirstFileIORequest</a>)</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="keyword">volatile</span> <a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html">SFileIORequestEntry</a> *p_request = &amp;(<a class="code" href="../../d5/d2e/command_8c.html#a4ef706e1c16ff01604316b0bb0305115">sFileIORequestArray</a>[<a class="code" href="../../d5/d2e/command_8c.html#a4888ae0a16a9aca0e9513eed9e786d4f">sFirstFileIORequest</a>]);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            <a class="code" href="../../dd/de9/struct_file_i_o_task.html">SFileIOTask</a> *p_new_task;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            ShowFileIOInfo(<span class="stringliteral">&quot;FileIO: got request id %d with command %x\n&quot;</span>, p_request-&gt;<a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html#a58789553e92cb4e4122d36621a71ec56">m_request_id</a>, p_request-&gt;<a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html#ae5951dd38861a861395baa6a6636ccb3">m_request</a>.<a class="code" href="../../d5/d4c/struct_s_file_i_o_request.html#ae08b8cdcc402134606a92ef59a3915c6">m_command</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="comment">// Get a new task entry</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            p_new_task = <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a> = p_new_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">mp_next</a>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            p_new_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">mp_next</a> = NULL;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <span class="comment">// Copy data</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            p_new_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a93838f61598e333e2599adb813c3dbd5">m_entry</a> = *p_request;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            p_new_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#af57808c7dda94a1b80f1262695f64f37">mp_file_handle</a> = NULL;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            p_new_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a764c62a78d35f3b2ad88587b81690c08">mp_cont</a> = NULL;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <span class="comment">// And put onto unknown device task list</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <a class="code" href="../../d5/d2e/command_8c.html#a6d097216fa3fde78ab1775909ceadd89">AppendTask</a>(&amp;<a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[<a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22baf6c26de5cb6bbe4e8ff24a92a7a297b6">DEVICE_UNKNOWN</a>], p_new_task);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            <span class="comment">// Increment request index; Note that interrupt can look at this</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <a class="code" href="../../d5/d2e/command_8c.html#a4888ae0a16a9aca0e9513eed9e786d4f">sFirstFileIORequest</a> = (<a class="code" href="../../d5/d2e/command_8c.html#a4888ae0a16a9aca0e9513eed9e786d4f">sFirstFileIORequest</a> + 1) % NUM_FILEIO_REQUESTS;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="comment">// Process device tasks</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <span class="keywordflow">for</span> (cur_device = <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22ba0cf53c9740fa409a0165090945c5181a">DEVICE_CD</a>; cur_device &lt; <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22ba30dd92be727e7b1ef5048933c588c520">NUM_DEVICE_TYPES</a>; cur_device++)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            <a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html">SFileIODevice</a> *p_device = &amp;<a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[cur_device];</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <a class="code" href="../../dd/de9/struct_file_i_o_task.html">SFileIOTask</a> *p_task;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            <span class="comment">// Skip if busy</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="keywordflow">if</span> (p_device-&gt;<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#a0b21cb33183d665b71c2e87ae6c10239">m_in_use</a>)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            p_task = p_device-&gt;<a class="code" href="../../d7/d1b/struct_s_file_i_o_device.html#ac2ed6e07d8729c23c065f849770b081a">mp_task_list</a>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keywordflow">while</span> (p_task)</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1">ERequestState</a> <a class="code" href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                <a class="code" href="../../dd/de9/struct_file_i_o_task.html">SFileIOTask</a> *p_dispatch_task;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                p_dispatch_task = p_task;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                ShowFileIOInfo(<span class="stringliteral">&quot;FileIO: doing request id %d with command %x\n&quot;</span>, p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a93838f61598e333e2599adb813c3dbd5">m_entry</a>.<a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html#a58789553e92cb4e4122d36621a71ec56">m_request_id</a>, p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a93838f61598e333e2599adb813c3dbd5">m_entry</a>.<a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html#ae5951dd38861a861395baa6a6636ccb3">m_request</a>.<a class="code" href="../../d5/d4c/struct_s_file_i_o_request.html#ae08b8cdcc402134606a92ef59a3915c6">m_command</a>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                <a class="code" href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a> = <a class="code" href="../../d5/d2e/command_8c.html#ae06a223716775ea0192f70314222de93">dispatch</a>(p_dispatch_task);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                p_task = p_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">mp_next</a>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>)</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1a6012cf9093a5d5db9ff0279cd6fbe536">REQUEST_OPEN</a>:</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                    <span class="comment">// Move to other device</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                    <span class="keywordflow">if</span> (p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#af57808c7dda94a1b80f1262695f64f37">mp_file_handle</a> &amp;&amp; (p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#af57808c7dda94a1b80f1262695f64f37">mp_file_handle</a>-&gt;<a class="code" href="../../d6/da7/struct_s_file_i_o_handle.html#a8dacc39f58e3054ad54bde61c4e8738e">m_device_type</a> != cur_device))</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                    {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        <a class="code" href="../../d5/d2e/command_8c.html#a9fb820888d3957db6ecd0379e9d73d5e">RemoveTask</a>(p_device, p_dispatch_task);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                        <a class="code" href="../../d5/d2e/command_8c.html#ac8d03fcdd5a9a47c9409fb7449117eaf">InsertTask</a>(&amp;<a class="code" href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a>[p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#af57808c7dda94a1b80f1262695f64f37">mp_file_handle</a>-&gt;<a class="code" href="../../d6/da7/struct_s_file_i_o_handle.html#a8dacc39f58e3054ad54bde61c4e8738e">m_device_type</a>], p_dispatch_task);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1af9b4e6a6f8602a116dbb889b57129cc4">REQUEST_APPEND</a>:</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                    <span class="comment">// Add the request to an existing request</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d2e/command_8c.html#a0db98196937a11b66f40ebebc487c122">AppendContRequest</a>(p_dispatch_task))</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                    {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                        ShowFileIOInfo(<span class="stringliteral">&quot;***************** FileIO: appended request id %d of command %x\n&quot;</span>, p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a93838f61598e333e2599adb813c3dbd5">m_entry</a>.<a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html#a58789553e92cb4e4122d36621a71ec56">m_request_id</a>, p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a93838f61598e333e2599adb813c3dbd5">m_entry</a>.<a class="code" href="../../d6/ddb/struct_file_i_o_request_entry.html#ae5951dd38861a861395baa6a6636ccb3">m_request</a>.<a class="code" href="../../d5/d4c/struct_s_file_i_o_request.html#ae08b8cdcc402134606a92ef59a3915c6">m_command</a>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                        <a class="code" href="../../d5/d2e/command_8c.html#a9fb820888d3957db6ecd0379e9d73d5e">RemoveTask</a>(p_device, p_dispatch_task);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                        SignalSema(<a class="code" href="../../d5/d2e/command_8c.html#a94fc72fd31df2526aa5728c378c8b9e1">gCmdSem</a>);        <span class="comment">// So the other task can be retried</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                    }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1a2ffb3a3f3130873d3fbed8bd45068ef9">REQUEST_PROCESSING</a>:</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1aeac16cd1e792fe1376963be4220ef123">REQUEST_COMPLETE</a>:</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                    <a class="code" href="../../d5/d2e/command_8c.html#a9fb820888d3957db6ecd0379e9d73d5e">RemoveTask</a>(p_device, p_dispatch_task);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                    <span class="keywordflow">if</span> (p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a764c62a78d35f3b2ad88587b81690c08">mp_cont</a>)           <span class="comment">// Check if we have a continuation request</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                    {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                        p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a764c62a78d35f3b2ad88587b81690c08">mp_cont</a>-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">mp_next</a> = <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                        <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a> = p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a764c62a78d35f3b2ad88587b81690c08">mp_cont</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                        p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a764c62a78d35f3b2ad88587b81690c08">mp_cont</a> = NULL;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                    p_dispatch_task-&gt;<a class="code" href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">mp_next</a> = <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    <a class="code" href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a> = p_dispatch_task;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d5/d2e/command_8c_source.html#l01587">AppendContRequest()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01502">AppendTask()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01285">cmdbuffer</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00042">DEVICE_CD</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00044">DEVICE_UNKNOWN</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01182">dispatch()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00046">gCmdSem</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01527">InsertTask()</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00110">SFileIODevice::m_buffer_index</a>, <a class="el" href="../../d7/d92/_file_i_o_8h_source.html#l00152">SFileIORequest::m_command</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00112">SFileIODevice::m_cur_position</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00111">SFileIODevice::m_cur_sector</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00070">SFileIOHandle::m_device_type</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00097">FileIOTask::m_entry</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00106">SFileIODevice::m_in_use</a>, <a class="el" href="../../d7/d92/_file_i_o_8h_source.html#l00184">FileIORequestEntry::m_request</a>, <a class="el" href="../../d7/d92/_file_i_o_8h_source.html#l00185">FileIORequestEntry::m_request_id</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00107">SFileIODevice::m_waiting_callback</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00109">SFileIODevice::mp_buffer</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00099">FileIOTask::mp_cont</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00098">FileIOTask::mp_file_handle</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00108">SFileIODevice::mp_file_handle</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00100">FileIOTask::mp_next</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00113">SFileIODevice::mp_task_list</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00045">NUM_DEVICE_TYPES</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01560">RemoveTask()</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00122">REQUEST_APPEND</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01478">request_callback()</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00123">REQUEST_COMPLETE</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00120">REQUEST_OPEN</a>, <a class="el" href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00121">REQUEST_PROCESSING</a>, <a class="el" href="../../dd/db2/ngc_2bgm_2bgm__com_8c_source.html#l00077">ret</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l00061">sFileIODevices</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01290">sFileIORequestArray</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01295">sFileIOTaskArray</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01291">sFirstFileIORequest</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01292">sFreeFileIORequest</a> и <a class="el" href="../../d5/d2e/command_8c_source.html#l01296">spTaskFreeList</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d7/d2a/start_8c_source.html#l00017">start()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/d2a/start_8c_aa5cd420ba78f48e5fa78167b0a0aa1b4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d7/d2a/start_8c_aa5cd420ba78f48e5fa78167b0a0aa1b4_icgraph.svg" width="250" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac92d3b835636641550b12b0f93daf21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92d3b835636641550b12b0f93daf21d">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d7/d2a/start_8c_source.html">start.c</a> строка <a class="el" href="../../d7/d2a/start_8c_source.html#l00017">17</a></p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keyword">struct </span>ThreadParam param;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordtype">int</span> th;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordflow">if</span> (!sceSifCheckInit())</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        sceSifInit();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    }</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    sceSifInitRpc(0);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;FileIO driver version 0.1\n&quot;</span>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    param.attr         = TH_C;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    param.entry        = <a class="code" href="../../d7/d2a/start_8c.html#aa5cd420ba78f48e5fa78167b0a0aa1b4">fileio_command_loop</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    param.initPriority = BASE_priority - 2;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    param.stackSize    = 0x800;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    param.option       = 0;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    th = <a class="code" href="../../d8/d76/namespace_thread.html#ad1549c943a1c4a0b057be3df3be102f1">CreateThread</a>(&amp;param);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (th &gt; 0) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        StartThread(th, 0);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d8a/ngps_2t__thread_8cpp_source.html#l00052">Thread::CreateThread()</a>, <a class="el" href="../../d5/d2e/command_8c_source.html#l01300">fileio_command_loop()</a> и <a class="el" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/d2a/start_8c_ac92d3b835636641550b12b0f93daf21d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Переменные</h2>
<a id="afaddb0b3487a23e3e37ac003c1864151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaddb0b3487a23e3e37ac003c1864151">&#9670;&nbsp;</a></span>Module</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ModuleInfo Module = {&quot;fileio_driver&quot;, 0x0112}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d7/d2a/start_8c_source.html">start.c</a> строка <a class="el" href="../../d7/d2a/start_8c_source.html#l00012">12</a></p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astruct_s_file_i_o_device_html_a0b21cb33183d665b71c2e87ae6c10239"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#a0b21cb33183d665b71c2e87ae6c10239">SFileIODevice::m_in_use</a></div><div class="ttdeci">volatile int m_in_use</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00106">FIleIO_IOP.h:106</a></div></div>
<div class="ttc" id="acommand_8c_html_a0db98196937a11b66f40ebebc487c122"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a0db98196937a11b66f40ebebc487c122">AppendContRequest</a></div><div class="ttdeci">static int AppendContRequest(SFileIOTask *p_task)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01587">command.c:1587</a></div></div>
<div class="ttc" id="angc_2bgm_2bgm__com_8c_html_a6baa346e44f4c2158d2be4f9b77b8203"><div class="ttname"><a href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/ngc_2bgm_2bgm__com_8c_source.html#l00077">bgm_com.c:77</a></div></div>
<div class="ttc" id="acommand_8c_html_a94fc72fd31df2526aa5728c378c8b9e1"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a94fc72fd31df2526aa5728c378c8b9e1">gCmdSem</a></div><div class="ttdeci">unsigned int gCmdSem</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00046">command.c:46</a></div></div>
<div class="ttc" id="acommand_8c_html_ab8b02e6c133338163e67b9ced09cec4f"><div class="ttname"><a href="../../d5/d2e/command_8c.html#ab8b02e6c133338163e67b9ced09cec4f">request_callback</a></div><div class="ttdeci">static void request_callback(void *p, void *q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01478">command.c:1478</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_aa20c4d9ef28ddbaea0bbfc5a118054f1aeac16cd1e792fe1376963be4220ef123"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1aeac16cd1e792fe1376963be4220ef123">REQUEST_COMPLETE</a></div><div class="ttdeci">@ REQUEST_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00123">FIleIO_IOP.h:123</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_a2be5be57f413c33b293fc1f50f37412d"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#a2be5be57f413c33b293fc1f50f37412d">SFileIODevice::m_cur_position</a></div><div class="ttdeci">int m_cur_position</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00112">FIleIO_IOP.h:112</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_ac2ed6e07d8729c23c065f849770b081a"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#ac2ed6e07d8729c23c065f849770b081a">SFileIODevice::mp_task_list</a></div><div class="ttdeci">SFileIOTask * mp_task_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00113">FIleIO_IOP.h:113</a></div></div>
<div class="ttc" id="acommand_8c_html_ab91fdd8af9ce16812a6932c90508b529"><div class="ttname"><a href="../../d5/d2e/command_8c.html#ab91fdd8af9ce16812a6932c90508b529">cmdbuffer</a></div><div class="ttdeci">static sceSifCmdData cmdbuffer[FILEIO_NUM_COMMAND_HANDLERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01285">command.c:1285</a></div></div>
<div class="ttc" id="acommand_8c_html_a6d097216fa3fde78ab1775909ceadd89"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a6d097216fa3fde78ab1775909ceadd89">AppendTask</a></div><div class="ttdeci">static void AppendTask(SFileIODevice *p_device, SFileIOTask *p_task)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01502">command.c:1502</a></div></div>
<div class="ttc" id="astruct_file_i_o_task_html_a764c62a78d35f3b2ad88587b81690c08"><div class="ttname"><a href="../../dd/de9/struct_file_i_o_task.html#a764c62a78d35f3b2ad88587b81690c08">FileIOTask::mp_cont</a></div><div class="ttdeci">struct FileIOTask * mp_cont</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00099">FIleIO_IOP.h:99</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_ad509a11a882b6aefd2a4def69ae3a22ba30dd92be727e7b1ef5048933c588c520"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22ba30dd92be727e7b1ef5048933c588c520">NUM_DEVICE_TYPES</a></div><div class="ttdeci">@ NUM_DEVICE_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00045">FIleIO_IOP.h:45</a></div></div>
<div class="ttc" id="acommand_8c_html_ae06a223716775ea0192f70314222de93"><div class="ttname"><a href="../../d5/d2e/command_8c.html#ae06a223716775ea0192f70314222de93">dispatch</a></div><div class="ttdeci">static ERequestState dispatch(volatile SFileIOTask *p_request_task)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01182">command.c:1182</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_aa545c6fc20bfe1f843daa80727542039"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#aa545c6fc20bfe1f843daa80727542039">SFileIODevice::m_buffer_index</a></div><div class="ttdeci">int m_buffer_index</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00110">FIleIO_IOP.h:110</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html">SFileIODevice</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00104">FIleIO_IOP.h:104</a></div></div>
<div class="ttc" id="astruct_file_i_o_task_html_a93838f61598e333e2599adb813c3dbd5"><div class="ttname"><a href="../../dd/de9/struct_file_i_o_task.html#a93838f61598e333e2599adb813c3dbd5">FileIOTask::m_entry</a></div><div class="ttdeci">SFileIORequestEntry m_entry</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00097">FIleIO_IOP.h:97</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_aa20c4d9ef28ddbaea0bbfc5a118054f1a6012cf9093a5d5db9ff0279cd6fbe536"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1a6012cf9093a5d5db9ff0279cd6fbe536">REQUEST_OPEN</a></div><div class="ttdeci">@ REQUEST_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00120">FIleIO_IOP.h:120</a></div></div>
<div class="ttc" id="astruct_file_i_o_task_html_af57808c7dda94a1b80f1262695f64f37"><div class="ttname"><a href="../../dd/de9/struct_file_i_o_task.html#af57808c7dda94a1b80f1262695f64f37">FileIOTask::mp_file_handle</a></div><div class="ttdeci">SFileIOHandle * mp_file_handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00098">FIleIO_IOP.h:98</a></div></div>
<div class="ttc" id="acommand_8c_html_a4888ae0a16a9aca0e9513eed9e786d4f"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a4888ae0a16a9aca0e9513eed9e786d4f">sFirstFileIORequest</a></div><div class="ttdeci">static volatile int sFirstFileIORequest</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01291">command.c:1291</a></div></div>
<div class="ttc" id="acommand_8c_html_ac8d03fcdd5a9a47c9409fb7449117eaf"><div class="ttname"><a href="../../d5/d2e/command_8c.html#ac8d03fcdd5a9a47c9409fb7449117eaf">InsertTask</a></div><div class="ttdeci">static void InsertTask(SFileIODevice *p_device, SFileIOTask *p_task)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01527">command.c:1527</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_ad509a11a882b6aefd2a4def69ae3a22ba0cf53c9740fa409a0165090945c5181a"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22ba0cf53c9740fa409a0165090945c5181a">DEVICE_CD</a></div><div class="ttdeci">@ DEVICE_CD</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00042">FIleIO_IOP.h:42</a></div></div>
<div class="ttc" id="astruct_file_i_o_task_html"><div class="ttname"><a href="../../dd/de9/struct_file_i_o_task.html">FileIOTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00095">FIleIO_IOP.h:95</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_a11ba2b561fc8a566264b5ca20a88f47d"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#a11ba2b561fc8a566264b5ca20a88f47d">SFileIODevice::m_cur_sector</a></div><div class="ttdeci">int m_cur_sector</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00111">FIleIO_IOP.h:111</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_ad509a11a882b6aefd2a4def69ae3a22baf6c26de5cb6bbe4e8ff24a92a7a297b6"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22baf6c26de5cb6bbe4e8ff24a92a7a297b6">DEVICE_UNKNOWN</a></div><div class="ttdeci">@ DEVICE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00044">FIleIO_IOP.h:44</a></div></div>
<div class="ttc" id="acommand_8c_html_ac7c888b06f03899243de58560ffd96bf"><div class="ttname"><a href="../../d5/d2e/command_8c.html#ac7c888b06f03899243de58560ffd96bf">sFreeFileIORequest</a></div><div class="ttdeci">static volatile int sFreeFileIORequest</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01292">command.c:1292</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_ad509a11a882b6aefd2a4def69ae3a22b"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#ad509a11a882b6aefd2a4def69ae3a22b">EDeviceType</a></div><div class="ttdeci">EDeviceType</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00040">FIleIO_IOP.h:40</a></div></div>
<div class="ttc" id="astruct_file_i_o_task_html_a461ec810dcac9b3746ee9ee5d127d356"><div class="ttname"><a href="../../dd/de9/struct_file_i_o_task.html#a461ec810dcac9b3746ee9ee5d127d356">FileIOTask::mp_next</a></div><div class="ttdeci">struct FileIOTask * mp_next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00100">FIleIO_IOP.h:100</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_aa20c4d9ef28ddbaea0bbfc5a118054f1"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1">ERequestState</a></div><div class="ttdeci">ERequestState</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00118">FIleIO_IOP.h:118</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a5fc8fd1788f18ada61dfda9f171c5a1a"><div class="ttname"><a href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a></div><div class="ttdeci">printf(&quot;%c\n&quot;, *p_itemsInList)</div></div>
<div class="ttc" id="acommand_8c_html_a2cb189d23f7ecd0311be180221b47442"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a2cb189d23f7ecd0311be180221b47442">sFileIOTaskArray</a></div><div class="ttdeci">static SFileIOTask sFileIOTaskArray[FILEIO_MAX_TASKS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01295">command.c:1295</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_request_html_ae08b8cdcc402134606a92ef59a3915c6"><div class="ttname"><a href="../../d5/d4c/struct_s_file_i_o_request.html#ae08b8cdcc402134606a92ef59a3915c6">SFileIORequest::m_command</a></div><div class="ttdeci">FileIOCommand m_command</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d92/_file_i_o_8h_source.html#l00152">FileIO.h:152</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_aa20c4d9ef28ddbaea0bbfc5a118054f1af9b4e6a6f8602a116dbb889b57129cc4"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1af9b4e6a6f8602a116dbb889b57129cc4">REQUEST_APPEND</a></div><div class="ttdeci">@ REQUEST_APPEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00122">FIleIO_IOP.h:122</a></div></div>
<div class="ttc" id="astruct_file_i_o_request_entry_html_a58789553e92cb4e4122d36621a71ec56"><div class="ttname"><a href="../../d6/ddb/struct_file_i_o_request_entry.html#a58789553e92cb4e4122d36621a71ec56">FileIORequestEntry::m_request_id</a></div><div class="ttdeci">int m_request_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d92/_file_i_o_8h_source.html#l00185">FileIO.h:185</a></div></div>
<div class="ttc" id="acommand_8c_html_a511d7c3bbd29f2b334abf67b04f3d70b"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a511d7c3bbd29f2b334abf67b04f3d70b">spTaskFreeList</a></div><div class="ttdeci">static SFileIOTask * spTaskFreeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01296">command.c:1296</a></div></div>
<div class="ttc" id="acommand_8c_html_a9fb820888d3957db6ecd0379e9d73d5e"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a9fb820888d3957db6ecd0379e9d73d5e">RemoveTask</a></div><div class="ttdeci">static void RemoveTask(SFileIODevice *p_device, SFileIOTask *p_task)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01560">command.c:1560</a></div></div>
<div class="ttc" id="acommand_8c_html_a4ef706e1c16ff01604316b0bb0305115"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a4ef706e1c16ff01604316b0bb0305115">sFileIORequestArray</a></div><div class="ttdeci">static volatile SFileIORequestEntry sFileIORequestArray[NUM_FILEIO_REQUESTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01290">command.c:1290</a></div></div>
<div class="ttc" id="anamespace_thread_html_ad1549c943a1c4a0b057be3df3be102f1"><div class="ttname"><a href="../../d8/d76/namespace_thread.html#ad1549c943a1c4a0b057be3df3be102f1">Thread::CreateThread</a></div><div class="ttdeci">HTHREAD CreateThread(PerThreadStruct *pPTS)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8a/ngps_2t__thread_8cpp_source.html#l00052">t_thread.cpp:52</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_af3e99167b2eedc0d4371ecb24e3f3d3a"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#af3e99167b2eedc0d4371ecb24e3f3d3a">SFileIODevice::mp_file_handle</a></div><div class="ttdeci">SFileIOHandle * mp_file_handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00108">FIleIO_IOP.h:108</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_ada05cfbf157bf0e59082621f4380ba0b"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#ada05cfbf157bf0e59082621f4380ba0b">SFileIODevice::m_waiting_callback</a></div><div class="ttdeci">volatile int m_waiting_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00107">FIleIO_IOP.h:107</a></div></div>
<div class="ttc" id="a_f_ile_i_o___i_o_p_8h_html_aa20c4d9ef28ddbaea0bbfc5a118054f1a2ffb3a3f3130873d3fbed8bd45068ef9"><div class="ttname"><a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h.html#aa20c4d9ef28ddbaea0bbfc5a118054f1a2ffb3a3f3130873d3fbed8bd45068ef9">REQUEST_PROCESSING</a></div><div class="ttdeci">@ REQUEST_PROCESSING</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00121">FIleIO_IOP.h:121</a></div></div>
<div class="ttc" id="astart_8c_html_aa5cd420ba78f48e5fa78167b0a0aa1b4"><div class="ttname"><a href="../../d7/d2a/start_8c.html#aa5cd420ba78f48e5fa78167b0a0aa1b4">fileio_command_loop</a></div><div class="ttdeci">int fileio_command_loop(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l01300">command.c:1300</a></div></div>
<div class="ttc" id="astruct_file_i_o_request_entry_html_ae5951dd38861a861395baa6a6636ccb3"><div class="ttname"><a href="../../d6/ddb/struct_file_i_o_request_entry.html#ae5951dd38861a861395baa6a6636ccb3">FileIORequestEntry::m_request</a></div><div class="ttdeci">SFileIORequest m_request</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d92/_file_i_o_8h_source.html#l00184">FileIO.h:184</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_handle_html_a8dacc39f58e3054ad54bde61c4e8738e"><div class="ttname"><a href="../../d6/da7/struct_s_file_i_o_handle.html#a8dacc39f58e3054ad54bde61c4e8738e">SFileIOHandle::m_device_type</a></div><div class="ttdeci">EDeviceType m_device_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00070">FIleIO_IOP.h:70</a></div></div>
<div class="ttc" id="acommand_8c_html_a5aec8026212900a1a2fa94685e558a6b"><div class="ttname"><a href="../../d5/d2e/command_8c.html#a5aec8026212900a1a2fa94685e558a6b">sFileIODevices</a></div><div class="ttdeci">static SFileIODevice sFileIODevices[NUM_DEVICE_TYPES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2e/command_8c_source.html#l00061">command.c:61</a></div></div>
<div class="ttc" id="astruct_file_i_o_request_entry_html"><div class="ttname"><a href="../../d6/ddb/struct_file_i_o_request_entry.html">FileIORequestEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d92/_file_i_o_8h_source.html#l00182">FileIO.h:182</a></div></div>
<div class="ttc" id="astruct_s_file_i_o_device_html_ae4e5439f5f39a186fafb65db83099870"><div class="ttname"><a href="../../d7/d1b/struct_s_file_i_o_device.html#ae4e5439f5f39a186fafb65db83099870">SFileIODevice::mp_buffer</a></div><div class="ttdeci">void * mp_buffer[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_f_ile_i_o___i_o_p_8h_source.html#l00109">FIleIO_IOP.h:109</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_220d2bd384b446346a1cdcf02b1b2295.html">sys</a></li><li class="navelem"><a class="el" href="../../dir_890777e0b941d77bc493513bfd7bcafd.html">File</a></li><li class="navelem"><a class="el" href="../../dir_78524fe85698d86a217af828dc4fa192.html">ngps</a></li><li class="navelem"><a class="el" href="../../dir_6b80958dd8ff6ed6f4ea8ad8219f186a.html">FileIO</a></li><li class="navelem"><a class="el" href="../../d7/d2a/start_8c.html">start.c</a></li>
    <li class="footer">Документация по OpenTHUG. Последние изменения: Вс 26 Апр 2020 03:47:47. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
