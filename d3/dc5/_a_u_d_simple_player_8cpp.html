<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTHUG: Файл C:/git/thug/src/gel/Music/ngc/divx/AUDSimplePlayer.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTHUG
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">OpenTHUG: let&#39;s port THUG on Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d3/dc5/_a_u_d_simple_player_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle">
<div class="title">Файл AUDSimplePlayer.cpp</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides the required player control functions.  
<a href="#details">Подробнее...</a></p>

<p><a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">См. исходные тексты.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Функции</h2></td></tr>
<tr class="memitem:a7b13eb2cc871b95a241e211f88e814b5"><td class="memItemLeft" align="right" valign="top">static VidChunk workChunk&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a7b13eb2cc871b95a241e211f88e814b5">ATTRIBUTE_ALIGN</a> (32)</td></tr>
<tr class="separator:a7b13eb2cc871b95a241e211f88e814b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d055291d176636e8b9ac0c91bbaa19a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback</a> (s32 result, DVDFileInfo *videoInfo)</td></tr>
<tr class="separator:a6d055291d176636e8b9ac0c91bbaa19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e25e489d4641010d3ae12384d961c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ae0e25e489d4641010d3ae12384d961c0">AUDSimpleInit</a> (VAUDAllocator _cbAlloc, VAUDDeallocator _cbFree)</td></tr>
<tr class="memdesc:ae0e25e489d4641010d3ae12384d961c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes all audio_player structures.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ae0e25e489d4641010d3ae12384d961c0">Подробнее...</a><br /></td></tr>
<tr class="separator:ae0e25e489d4641010d3ae12384d961c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9549e5723f42e69abbdbf88e963467"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a> (void)</td></tr>
<tr class="memdesc:a4b9549e5723f42e69abbdbf88e963467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request an async file transfer.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">Подробнее...</a><br /></td></tr>
<tr class="separator:a4b9549e5723f42e69abbdbf88e963467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0674d4499506c6db7f98eaea71a4552f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a0674d4499506c6db7f98eaea71a4552f">dvdDoneCallback</a> (s32 result, DVDFileInfo *_UNUSED(videoInfo))</td></tr>
<tr class="memdesc:a0674d4499506c6db7f98eaea71a4552f"><td class="mdescLeft">&#160;</td><td class="mdescRight">DVD callback if async transfer is finished (or aborted)  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a0674d4499506c6db7f98eaea71a4552f">Подробнее...</a><br /></td></tr>
<tr class="separator:a0674d4499506c6db7f98eaea71a4552f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07940dd4613d72cb287b68c858c21f5c"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a07940dd4613d72cb287b68c858c21f5c">AUDSimpleAllocDVDBuffers</a> (void)</td></tr>
<tr class="memdesc:a07940dd4613d72cb287b68c858c21f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate buffer memory for asynchronous dvd read.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a07940dd4613d72cb287b68c858c21f5c">Подробнее...</a><br /></td></tr>
<tr class="separator:a07940dd4613d72cb287b68c858c21f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcc4cd31a170750ac9a49c83bb8af0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8dcc4cd31a170750ac9a49c83bb8af0e">AUDSimpleFreeDVDBuffers</a> (void)</td></tr>
<tr class="memdesc:a8dcc4cd31a170750ac9a49c83bb8af0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free buffer memory used for dvd read.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8dcc4cd31a170750ac9a49c83bb8af0e">Подробнее...</a><br /></td></tr>
<tr class="separator:a8dcc4cd31a170750ac9a49c83bb8af0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9fd5fd103caf6f20081ac9c50e0e969"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#af9fd5fd103caf6f20081ac9c50e0e969">AUDSimpleCreateDecoder</a> (void)</td></tr>
<tr class="memdesc:af9fd5fd103caf6f20081ac9c50e0e969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new decoder instance.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#af9fd5fd103caf6f20081ac9c50e0e969">Подробнее...</a><br /></td></tr>
<tr class="separator:af9fd5fd103caf6f20081ac9c50e0e969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac876b4b5cfec26f9a1cde092877b658f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ac876b4b5cfec26f9a1cde092877b658f">AUDSimpleDestroyDecoder</a> (void)</td></tr>
<tr class="memdesc:ac876b4b5cfec26f9a1cde092877b658f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy decoder instance.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ac876b4b5cfec26f9a1cde092877b658f">Подробнее...</a><br /></td></tr>
<tr class="separator:ac876b4b5cfec26f9a1cde092877b658f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0149b550e48fe9fcde6b74732056317f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a0149b550e48fe9fcde6b74732056317f">AUDSimpleLoadStartDVDCallback</a> (s32 result, DVDFileInfo *fileInfo)</td></tr>
<tr class="separator:a0149b550e48fe9fcde6b74732056317f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429247953dca6517ba93ab4fd7cd4c3c"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a429247953dca6517ba93ab4fd7cd4c3c">AUDSimpleLoadStart</a> (BOOL loopMode)</td></tr>
<tr class="memdesc:a429247953dca6517ba93ab4fd7cd4c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preload the allocated buffers.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a429247953dca6517ba93ab4fd7cd4c3c">Подробнее...</a><br /></td></tr>
<tr class="separator:a429247953dca6517ba93ab4fd7cd4c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8828f2f742b23cef12b571f2b3100660"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8828f2f742b23cef12b571f2b3100660">AUDSimpleLoadStop</a> (void)</td></tr>
<tr class="memdesc:a8828f2f742b23cef12b571f2b3100660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the asynchronous loading process.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8828f2f742b23cef12b571f2b3100660">Подробнее...</a><br /></td></tr>
<tr class="separator:a8828f2f742b23cef12b571f2b3100660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86fa40aebf6443a608da59831d67b24f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a> (s32 result, DVDFileInfo *fileInfo)</td></tr>
<tr class="separator:a86fa40aebf6443a608da59831d67b24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae897f5f0f040431a700ac12b3d976e0e"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ae897f5f0f040431a700ac12b3d976e0e">AUDSimpleOpen</a> (char *fileName)</td></tr>
<tr class="memdesc:ae897f5f0f040431a700ac12b3d976e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open video file.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ae897f5f0f040431a700ac12b3d976e0e">Подробнее...</a><br /></td></tr>
<tr class="separator:ae897f5f0f040431a700ac12b3d976e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9b48e00e90f83a634842bee4f84cce"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a3f9b48e00e90f83a634842bee4f84cce">AUDSimpleClose</a> (void)</td></tr>
<tr class="memdesc:a3f9b48e00e90f83a634842bee4f84cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close open video file.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a3f9b48e00e90f83a634842bee4f84cce">Подробнее...</a><br /></td></tr>
<tr class="separator:a3f9b48e00e90f83a634842bee4f84cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba929b14b19068ef1836469f361b479"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a1ba929b14b19068ef1836469f361b479">AUDSimpleDecode</a> (void)</td></tr>
<tr class="memdesc:a1ba929b14b19068ef1836469f361b479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode all frame data.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a1ba929b14b19068ef1836469f361b479">Подробнее...</a><br /></td></tr>
<tr class="separator:a1ba929b14b19068ef1836469f361b479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afddd0e1778b65f6626a9bf35ba8f3033"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#afddd0e1778b65f6626a9bf35ba8f3033">AUDSimplePlayMaskChange</a> (void)</td></tr>
<tr class="memdesc:afddd0e1778b65f6626a9bf35ba8f3033"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change active play mask.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#afddd0e1778b65f6626a9bf35ba8f3033">Подробнее...</a><br /></td></tr>
<tr class="separator:afddd0e1778b65f6626a9bf35ba8f3033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca949a6715e1b1e5641467075d4045b4"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#aca949a6715e1b1e5641467075d4045b4">AUDSimpleGetAudioSampleRate</a> (void)</td></tr>
<tr class="memdesc:aca949a6715e1b1e5641467075d4045b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get audio sample rate in Hz.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#aca949a6715e1b1e5641467075d4045b4">Подробнее...</a><br /></td></tr>
<tr class="separator:aca949a6715e1b1e5641467075d4045b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac193d6579f48b6c44fda98f6b9ef52d5"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ac193d6579f48b6c44fda98f6b9ef52d5">AUDSimpleGetFrameTime</a> (void)</td></tr>
<tr class="memdesc:ac193d6579f48b6c44fda98f6b9ef52d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return time in ms of one audio frame.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ac193d6579f48b6c44fda98f6b9ef52d5">Подробнее...</a><br /></td></tr>
<tr class="separator:ac193d6579f48b6c44fda98f6b9ef52d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4b81869c1f98dbdcd1dc78a19f0a81"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a5d4b81869c1f98dbdcd1dc78a19f0a81">AUDSimpleCheckDVDError</a> (void)</td></tr>
<tr class="memdesc:a5d4b81869c1f98dbdcd1dc78a19f0a81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for drive status.  <a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a5d4b81869c1f98dbdcd1dc78a19f0a81">Подробнее...</a><br /></td></tr>
<tr class="separator:a5d4b81869c1f98dbdcd1dc78a19f0a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:a8884cb5cf6068aba72a846683d113c7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d85/struct_aud_simple_player.html">AudSimplePlayer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a></td></tr>
<tr class="separator:a8884cb5cf6068aba72a846683d113c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b370e3c94db92c543d6b3ab8db71c6"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> = 0</td></tr>
<tr class="separator:ab5b370e3c94db92c543d6b3ab8db71c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>This file provides the required player control functions. </p>
<dl class="section note"><dt>Заметки</dt><dd>This is a demonstration source only!</dd></dl>
<dl class="section date"><dt>Дата</dt><dd>05/21/03</dd></dl>
<dl class="section version"><dt>Версия</dt><dd>1.0</dd></dl>
<dl class="section author"><dt>Автор</dt><dd>Achim Moller </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a></p>
</div><h2 class="groupheader">Функции</h2>
<a id="a7b13eb2cc871b95a241e211f88e814b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b13eb2cc871b95a241e211f88e814b5">&#9670;&nbsp;</a></span>ATTRIBUTE_ALIGN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VidChunk workChunk ATTRIBUTE_ALIGN </td>
          <td>(</td>
          <td class="paramtype">32&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d055291d176636e8b9ac0c91bbaa19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d055291d176636e8b9ac0c91bbaa19a">&#9670;&nbsp;</a></span>dvdDoneCallback() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dvdDoneCallback </td>
          <td>(</td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DVDFileInfo *&#160;</td>
          <td class="paramname"><em>videoInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Используется в <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00072">ReadFrameAsync()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a6d055291d176636e8b9ac0c91bbaa19a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae0e25e489d4641010d3ae12384d961c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e25e489d4641010d3ae12384d961c0">&#9670;&nbsp;</a></span>AUDSimpleInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AUDSimpleInit </td>
          <td>(</td>
          <td class="paramtype">VAUDAllocator&#160;</td>
          <td class="paramname"><em>_cbAlloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VAUDDeallocator&#160;</td>
          <td class="paramname"><em>_cbFree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes all audio_player structures. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00055">55</a></p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    memset(&amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae8e1dc1fd7b79fddd3e1541718f26d23">cbAlloc</a> = _cbAlloc;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a20be8956d9bcff7d01fbd2f07927abbc">cbFree</a> = _cbFree;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00056">AudSimplePlayer::cbAlloc</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00057">AudSimplePlayer::cbFree</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01196">Pcm::PCMAudio_PlayMusicTrack()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_ae0e25e489d4641010d3ae12384d961c0_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4b9549e5723f42e69abbdbf88e963467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9549e5723f42e69abbdbf88e963467">&#9670;&nbsp;</a></span>ReadFrameAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ReadFrameAsync </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request an async file transfer. </p>
<p>This function starts the transfer of the next frame into a free buffer. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00072">72</a></p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> &amp;&amp; <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">preFetchState</a> == TRUE)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a> &gt;  <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameCount - 1)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a569fd55ff12e6b26ea973bbbed823067">loopMode</a>)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a> = 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5c4586b5d9c6b1c6c0ff3acea738100d">firstFrameOffset</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>  = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a51ddbd0169866ab2b5ae59874bc2983b">firstFrameSize</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a> = TRUE;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (DVDReadAsync(&amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                         <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a>,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                         (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                         (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback</a>) != TRUE )</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a> = FALSE;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> = TRUE;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AudSimplePlayer::asyncDvdRunning</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00077">AudSimplePlayer::currentFrameCount</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback()</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AudSimplePlayer::error</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00080">AudSimplePlayer::firstFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00081">AudSimplePlayer::firstFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00068">AudSimplePlayer::loopMode</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AudSimplePlayer::nextFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AudSimplePlayer::nextFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AudSimplePlayer::preFetchState</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AudReadBuffer::ptr</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00990">AUDSimpleDecode()</a> и <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00120">dvdDoneCallback()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a4b9549e5723f42e69abbdbf88e963467_cgraph.svg" width="307" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a4b9549e5723f42e69abbdbf88e963467_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0674d4499506c6db7f98eaea71a4552f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0674d4499506c6db7f98eaea71a4552f">&#9670;&nbsp;</a></span>dvdDoneCallback() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dvdDoneCallback </td>
          <td>(</td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DVDFileInfo *&#160;</td>
          <td class="paramname"><em>_UNUSED</em>videoInfo&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DVD callback if async transfer is finished (or aborted) </p>
<p>The idea here is to transfer ONE frame and additional 32 bytes for the HEADER of the NEXT frame in one transfer step. We store the size of the next frame, which is used in <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a4b9549e5723f42e69abbdbf88e963467" title="Request an async file transfer.">ReadFrameAsync()</a>.</p>
<dl class="section note"><dt>Заметки</dt><dd>There a 32 padding bytes at the end of the .vid file. So, the reading of 32 additional bytes is even possible for the LAST frame. (Otherwise, we would 'point' out of the file)</dd></dl>
<p>See Dolphin documentation for information about parameters. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00120">120</a></p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (result == DVD_RESULT_FATAL_ERROR)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> = TRUE;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == DVD_RESULT_CANCELED)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a> = FALSE;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#af346b4d955f225078ad9dc2b98f4caae">frameNumber</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ad46cea9833185d584b6e33bff31dfb55">size</a> = (u32)result; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> = TRUE;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a>++;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// move file pointer</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a> += <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a> &lt; <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameCount)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">// set read size for next &#39;FRAM&#39; chunk</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        u32* nextFrameStart = (u32*)(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a> + <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> - 32);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="comment">// some check if file structure is okay</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(nextFrameStart[0] == VID_FCC(<span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;M&#39;</span>));</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">// get the size of the next &#39;FRAM&#39; chunk to read</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> = nextFrameStart[1];</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> = 0; <span class="comment">// at end of file we have a size of &#39;0&#39;. This should be reinitialized later</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                    <span class="comment">// using the size of the first frame somwhere else! Otherwise, we get an assertion</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// use next buffer</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a> = (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a> + 1) % AUD_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// continue loading if we have a free buffer</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a>)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a>();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AudSimplePlayer::asyncDvdRunning</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00077">AudSimplePlayer::currentFrameCount</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AudSimplePlayer::error</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00051">AudReadBuffer::frameNumber</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AudSimplePlayer::nextFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AudSimplePlayer::nextFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AudReadBuffer::ptr</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00072">ReadFrameAsync()</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00050">AudReadBuffer::size</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00052">AudReadBuffer::valid</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a0674d4499506c6db7f98eaea71a4552f_cgraph.svg" width="476" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a07940dd4613d72cb287b68c858c21f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07940dd4613d72cb287b68c858c21f5c">&#9670;&nbsp;</a></span>AUDSimpleAllocDVDBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleAllocDVDBuffers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate buffer memory for asynchronous dvd read. </p>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if DVD buffer setup was successful. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00177">177</a></p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    u32 i;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    u32 bufferSize;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    u8* ptr;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    bufferSize = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.maxBufferSize;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(bufferSize);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    bufferSize += VID_CHUNK_HEADER_SIZE;    <span class="comment">// &#39;fram&#39; header</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    bufferSize += VID_CHUNK_HEADER_SIZE;    <span class="comment">// &#39;vidd&#39; header</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    bufferSize = OSRoundUp32B(bufferSize);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae8e1dc1fd7b79fddd3e1541718f26d23">cbAlloc</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">readBufferBaseMem</a> = (u8*)((*<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae8e1dc1fd7b79fddd3e1541718f26d23">cbAlloc</a>)(bufferSize * AUD_NUM_READ_BUFFERS));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">readBufferBaseMem</a>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> FALSE;   <span class="comment">// out of mem</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    ptr = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">readBufferBaseMem</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; AUD_NUM_READ_BUFFERS ; i++)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[i].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a> = ptr;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        ptr += bufferSize;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[i].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> = FALSE;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00056">AudSimplePlayer::cbAlloc</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AudReadBuffer::ptr</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00087">AudSimplePlayer::readBufferBaseMem</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00052">AudReadBuffer::valid</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a07940dd4613d72cb287b68c858c21f5c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8dcc4cd31a170750ac9a49c83bb8af0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcc4cd31a170750ac9a49c83bb8af0e">&#9670;&nbsp;</a></span>AUDSimpleFreeDVDBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AUDSimpleFreeDVDBuffers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free buffer memory used for dvd read. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">memFree</td><td>Pointer to memory deallocation function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00217">217</a></p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a20be8956d9bcff7d01fbd2f07927abbc">cbFree</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">readBufferBaseMem</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    (*<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a20be8956d9bcff7d01fbd2f07927abbc">cbFree</a>)(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">readBufferBaseMem</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00057">AudSimplePlayer::cbFree</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00087">AudSimplePlayer::readBufferBaseMem</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a> и <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01304">Pcm::PCMAudio_StopMusic()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a8dcc4cd31a170750ac9a49c83bb8af0e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af9fd5fd103caf6f20081ac9c50e0e969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9fd5fd103caf6f20081ac9c50e0e969">&#9670;&nbsp;</a></span>AUDSimpleCreateDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleCreateDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new decoder instance. </p>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if decoder creation was successful </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00234">234</a></p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    u32 skip;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a> = VAUDCreateDecoder(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae8e1dc1fd7b79fddd3e1541718f26d23">cbAlloc</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a20be8956d9bcff7d01fbd2f07927abbc">cbFree</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaud.maxHeap);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a>)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaud.maxHeap &gt; 0);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaud.preAlloc &gt; 0);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    skip = VID_CHUNK_HEADER_SIZE + <span class="keyword">sizeof</span>(u32) + (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.version &gt; 0 ? <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.size : <span class="keyword">sizeof</span>(VidAUDHVAUD));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span>(!VAUDInitDecoder(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a> + skip, ((VidChunk*)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a>)-&gt;len - skip, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaud.preAlloc))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        VAUDDestroyDecoder(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00063">AudSimplePlayer::audioHeaderChunk</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00056">AudSimplePlayer::cbAlloc</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00057">AudSimplePlayer::cbFree</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00089">AudSimplePlayer::decoder</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_af9fd5fd103caf6f20081ac9c50e0e969_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac876b4b5cfec26f9a1cde092877b658f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac876b4b5cfec26f9a1cde092877b658f">&#9670;&nbsp;</a></span>AUDSimpleDestroyDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AUDSimpleDestroyDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy decoder instance. </p>
<p>At this point the decoder returns all allocated memory by using the cbFree callback. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00266">266</a></p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    VAUDDestroyDecoder(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// Set the decoder to NULL.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">decoder</a> = NULL;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00089">AudSimplePlayer::decoder</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a> и <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01304">Pcm::PCMAudio_StopMusic()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_ac876b4b5cfec26f9a1cde092877b658f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0149b550e48fe9fcde6b74732056317f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0149b550e48fe9fcde6b74732056317f">&#9670;&nbsp;</a></span>AUDSimpleLoadStartDVDCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AUDSimpleLoadStartDVDCallback </td>
          <td>(</td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DVDFileInfo *&#160;</td>
          <td class="paramname"><em>fileInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00283">283</a></p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Deal with errors.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> )</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a> += <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ad46cea9833185d584b6e33bff31dfb55">size</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// Set read size for next &#39;FRAM&#39; chunk.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    u32* nextFrame = (u32*)(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a> + <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> - 32);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// Some sanity check if file structure is valid!</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( nextFrame[0] == VID_FCC( <span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;M&#39;</span> ));</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> = nextFrame[1];</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> );</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> = TRUE;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#af346b4d955f225078ad9dc2b98f4caae">frameNumber</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// Use next buffer.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a> = (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a> + 1) % AUD_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a>++;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span>( --<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> &gt; 0 )</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a>, (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>, (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a0149b550e48fe9fcde6b74732056317f">AUDSimpleLoadStartDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#           ifdef _DEBUG</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            OSReport(<span class="stringliteral">&quot;*** AUDSimpleLoadStart: Failed to read from file.\n&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#           endif</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> = TRUE;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">// All done.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a569fd55ff12e6b26ea973bbbed823067">loopMode</a>       = FALSE;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">preFetchState</a>  = TRUE;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00077">AudSimplePlayer::currentFrameCount</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AudSimplePlayer::error</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00051">AudReadBuffer::frameNumber</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00068">AudSimplePlayer::loopMode</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AudSimplePlayer::nextFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AudSimplePlayer::nextFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AudSimplePlayer::preFetchState</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AudReadBuffer::ptr</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00277">readNum</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00050">AudReadBuffer::size</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00052">AudReadBuffer::valid</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00349">AUDSimpleLoadStart()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a0149b550e48fe9fcde6b74732056317f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a429247953dca6517ba93ab4fd7cd4c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a429247953dca6517ba93ab4fd7cd4c3c">&#9670;&nbsp;</a></span>AUDSimpleLoadStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleLoadStart </td>
          <td>(</td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>loopMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preload the allocated buffers. </p>
<p>This functions fills all buffers with initial data</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">loopMode</td><td>TRUE if we want to operate in loop mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if preload was okay <br  />
 </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00349">349</a></p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">//  u32     i, readNum;</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">//  u32     i;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">//  u32*    nextFrame;</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( loopMode == FALSE );</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">open</a> &amp;&amp; <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">preFetchState</a> == FALSE )</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> = AUD_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="comment">// In &#39;non-loop&#39; mode we must take care if we have LESS frames than preloading buffers</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">if</span>( !loopMode &amp;&amp; <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameCount &lt; AUD_NUM_READ_BUFFERS )</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameCount;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">//      for( i = 0; i &lt; readNum; i++ )</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> &gt; 0 )</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="comment">// Read total &#39;FRAM&#39; chunk and 32 bytes of NEXT chunk.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//          if( DVDRead( &amp;audio_player.fileHandle, ptr, (s32)audio_player.nextFrameSize, (s32)audio_player.nextFrameOffset ) &lt; 0 )</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a>, (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>, (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a0149b550e48fe9fcde6b74732056317f">AUDSimpleLoadStartDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                OSReport(<span class="stringliteral">&quot;*** AUDSimpleLoadStart: Failed to read from file.\n&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> = TRUE;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">//          audio_player.nextFrameOffset += audio_player.nextFrameSize;</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">//          audio_player.readBuffer[audio_player.readIndex].size = audio_player.nextFrameSize;</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="comment">// set read size for next &#39;FRAM&#39; chunk</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">//          nextFrame = (u32*)(audio_player.readBuffer[audio_player.readIndex].ptr + audio_player.nextFrameSize - 32);</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="comment">// some sanity check if file structure is valid!</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">//          ASSERT(nextFrame[0] == VID_FCC(&#39;F&#39;,&#39;R&#39;,&#39;A&#39;,&#39;M&#39;));</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">//          audio_player.nextFrameSize = nextFrame[1];</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">//          ASSERT( audio_player.nextFrameSize );</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">//          audio_player.readBuffer[audio_player.readIndex].valid = TRUE;</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">//          audio_player.readBuffer[audio_player.readIndex].frameNumber = audio_player.currentFrameCount;</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="comment">// Use next buffer</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">//          audio_player.readIndex = (audio_player.readIndex + 1) % AUD_NUM_READ_BUFFERS;</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">//          audio_player.currentFrameCount++;</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">//          if (audio_player.currentFrameCount &gt;  audio_player.audioInfo.vaudex.frameCount - 1)</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">//              if (loopMode)</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">//              {</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">//                  audio_player.currentFrameCount = 0;</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">//                  audio_player.nextFrameOffset = audio_player.firstFrameOffset;</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">//                  audio_player.nextFrameSize  = audio_player.firstFrameSize;</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">//              }</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">//      audio_player.loopMode = loopMode;</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//      audio_player.preFetchState = TRUE;</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00283">AUDSimpleLoadStartDVDCallback()</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AudSimplePlayer::error</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AudSimplePlayer::nextFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AudSimplePlayer::nextFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00065">AudSimplePlayer::open</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AudSimplePlayer::preFetchState</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AudReadBuffer::ptr</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a> и <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00277">readNum</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a429247953dca6517ba93ab4fd7cd4c3c_cgraph.svg" width="427" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a429247953dca6517ba93ab4fd7cd4c3c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8828f2f742b23cef12b571f2b3100660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8828f2f742b23cef12b571f2b3100660">&#9670;&nbsp;</a></span>AUDSimpleLoadStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleLoadStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the asynchronous loading process. </p>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if audio_player could be stopped! <br  />
 </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00426">426</a></p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    u32 i;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">open</a>)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">// stop preloading process</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">preFetchState</a> = FALSE;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a>)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            DVDCancel(&amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>.cb);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a> = FALSE;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment">// invalidate all buffers</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">for</span> (i = 0 ; i &lt; AUD_NUM_READ_BUFFERS; i++)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[i].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> = FALSE;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5c4586b5d9c6b1c6c0ff3acea738100d">firstFrameOffset</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a51ddbd0169866ab2b5ae59874bc2983b">firstFrameSize</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a> = 0;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a>          = FALSE;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>          = 0;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>        = 0;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AudSimplePlayer::asyncDvdRunning</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00077">AudSimplePlayer::currentFrameCount</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00084">AudSimplePlayer::decodeIndex</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AudSimplePlayer::error</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00080">AudSimplePlayer::firstFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00081">AudSimplePlayer::firstFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AudSimplePlayer::nextFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AudSimplePlayer::nextFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00065">AudSimplePlayer::open</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AudSimplePlayer::preFetchState</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00052">AudReadBuffer::valid</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a> и <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01304">Pcm::PCMAudio_StopMusic()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a8828f2f742b23cef12b571f2b3100660_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a86fa40aebf6443a608da59831d67b24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86fa40aebf6443a608da59831d67b24f">&#9670;&nbsp;</a></span>AUDSimpleOpenDVDCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AUDSimpleOpenDVDCallback </td>
          <td>(</td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DVDFileInfo *&#160;</td>
          <td class="paramname"><em>fileInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00464">464</a></p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keyword">static</span> u32  fileOffset      = 0;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keyword">static</span> u32  headSize        = 0;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keyword">static</span> u32  audioInfoSize   = 0;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// Deal with errors, possibly flagged as an indication to shut down immediately.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a> )</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">// Set this back to zero so the player will be regarded as &#39;free&#39; again.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 0;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> )</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="comment">// The read of the &#39;VID1&#39; chunk has completed.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            fileOffset = 32;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="comment">// Check file id.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">if</span>( workChunk.id != VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;1&#39;</span> ))</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                OSReport(<span class="stringliteral">&quot;*** No VID1 file: &#39;%s&#39;\n&quot;</span>, fileName);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="comment">// Check for correct version of vid chunk.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="comment">// If we find this version we assume a &#39;special&#39; alignment and chunk ordering which may be invalid</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="comment">// in another version of the file format.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">if</span>( workChunk.vid.versionMajor != 1 || workChunk.vid.versionMinor != 0 )</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                OSReport(<span class="stringliteral">&quot;*** Unsupported file version: major: %d, minor: %d\n&quot;</span>, workChunk.vid.versionMajor, workChunk.vid.versionMajor);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#           ifdef _DEBUG</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="comment">// Sometimes, it&#39;s required to check for a special build of the VidConv converter.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                u32 version = VID_VERSION(workChunk.vid.vidConvMajor, workChunk.vid.vidConvMinor, workChunk.vid.vidConvBuild);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">if</span>( version &lt; VID_VERSION( 1, 0, 1 ))</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    OSReport(<span class="stringliteral">&quot;*** WARNING: Vid file created using an unsupported converter version: %d.%d.%d\n&quot;</span>, (u32)workChunk.vid.vidConvMajor, (u32)workChunk.vid.vidConvMinor, (u32)workChunk.vid.vidConvBuild);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">#           endif</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="comment">// Set callback status to indicate &#39;VID1&#39; chunk is read.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 2;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="comment">// Check types of chunks we have in this file.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="comment">// !!! Note that we assume start of &#39;HEAD&#39; chunk at byte offset 32 from file start !!!</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, &amp;workChunk, 32, (s32)fileOffset, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                OSReport(<span class="stringliteral">&quot;*** Failed to read &#39;HEAD&#39; chunk.\n&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="comment">// The read of the chunk type info has completed.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">if</span>( workChunk.id != VID_FCC(<span class="charliteral">&#39;H&#39;</span>,<span class="charliteral">&#39;E&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;D&#39;</span> ))</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                OSReport(<span class="stringliteral">&quot;*** No HEAD chunk found at expected offset\n&quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="comment">// Calculate the start of the first frame chunk (we know the header chunk starts at offset 32).</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a> = workChunk.len + 32;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="comment">// Skip &#39;HEAD&#39; chunk id, len and version fields.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            fileOffset += VID_CHUNK_HEADER_SIZE;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="comment">// The header chunk contains one or more header chunks for the different data types contained</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="comment">// in the stream. Parse them all...</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            headSize = workChunk.len - VID_CHUNK_HEADER_SIZE;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 3;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, &amp;workChunk, 32, (s32)fileOffset, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                OSReport(<span class="stringliteral">&quot;*** Error reading file at offset %d\n&quot;</span>, fileOffset);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            fileOffset  += 32;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            headSize    -= 32;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="comment">// We analyze the 1st 32 bytes of the chunk for a known header format.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">if</span>( workChunk.id == VID_FCC( <span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;H&#39;</span> ))</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="comment">// Allocate memory for audio header chunk.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a>   = (u8*)((*<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae8e1dc1fd7b79fddd3e1541718f26d23">cbAlloc</a>)(workChunk.len));</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                audioInfoSize                   = workChunk.len - VID_CHUNK_HEADER_SIZE;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="comment">// Copy the already loaded part.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                memcpy( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a>, &amp;workChunk, 32 );</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                workChunk.len -= 32;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="comment">// Read additional audio header bytes if the audio header is greater that 32 bytes</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">if</span>( workChunk.len &gt;= 32 )</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(( workChunk.len &amp; 31 ) == 0 );</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 4;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a> + 32, workChunk.len, (s32)fileOffset, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor">#                       ifdef _DEBUG</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                        OSReport(<span class="stringliteral">&quot;*** Error reading file at offset %d\n&quot;</span>, fileOffset);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="preprocessor">#                       endif</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                        DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( 0 );</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( 0 );</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            fileOffset  += workChunk.len;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            headSize    -= workChunk.len;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="comment">// Setup and calc the number of bytes which we are allowed to copy into the audioInfo struct</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            memcpy( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a> + VID_CHUNK_HEADER_SIZE, MIN( audioInfoSize, <span class="keyword">sizeof</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a> )));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="comment">// Check if we have the correct vaud file version (&gt;0).</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.version == 0 )</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                OSReport(<span class="stringliteral">&quot;*** Invalid version in vaud file.&quot;</span>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="comment">// We can only play audio files which have the following fields set.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="comment">// Note that in case of VIDEO files this fields are allowed to be 0.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.maxBufferSize &gt; 0 );</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameCount &gt; 0 );</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameTimeMs &gt; 0 );</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="comment">// Read beginning of 1st frame chunk to get required size information.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 5;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, &amp;workChunk, 32 , (s32)<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a>, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                OSReport(<span class="stringliteral">&quot;*** Failed to read &#39;FRAM&#39; chunk.\n&quot;</span>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">if</span>( workChunk.id != VID_FCC(<span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;M&#39;</span>) )</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor">#               ifdef _DEBUG</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                OSReport(<span class="stringliteral">&quot;*** No FRAM chunk found.&quot;</span>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#               endif</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = ASYNC_OPEN_FAIL;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="comment">// 32 bytes of this chunk are already consumed, but we want to &#39;preload&#39; the NEXT chunk&#39;s FRAM header.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>              = workChunk.len;        </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a>            += 32;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a5c4586b5d9c6b1c6c0ff3acea738100d">firstFrameOffset</a>           = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">nextFrameOffset</a>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a51ddbd0169866ab2b5ae59874bc2983b">firstFrameSize</a>             = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">nextFrameSize</a>;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">//          strncpy( audio_player.fileName, fileName, 64 );</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">//          audio_player.fileName[63]               = 0;</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">open</a>                       = TRUE;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a>    = ASYNC_OPEN_SUCCESS;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>                  = 0;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>                = 0;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a218356c4d70ca95517dada8ae90bf9c5">lastDecodedFrame</a>           = 0;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">error</a>                      = FALSE;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">preFetchState</a>              = FALSE;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a569fd55ff12e6b26ea973bbbed823067">loopMode</a>                   = FALSE;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a>            = FALSE;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">currentFrameCount</a>          = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">readBufferBaseMem</a>          = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>( 0 );</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AudSimplePlayer::asyncDvdRunning</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00070">AudSimplePlayer::asyncOpenCallbackStatus</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00063">AudSimplePlayer::audioHeaderChunk</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00056">AudSimplePlayer::cbAlloc</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00077">AudSimplePlayer::currentFrameCount</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00084">AudSimplePlayer::decodeIndex</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AudSimplePlayer::error</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00080">AudSimplePlayer::firstFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00081">AudSimplePlayer::firstFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00078">AudSimplePlayer::lastDecodedFrame</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00068">AudSimplePlayer::loopMode</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AudSimplePlayer::nextFrameOffset</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AudSimplePlayer::nextFrameSize</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00065">AudSimplePlayer::open</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AudSimplePlayer::preFetchState</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00087">AudSimplePlayer::readBufferBaseMem</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00719">AUDSimpleOpen()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a86fa40aebf6443a608da59831d67b24f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae897f5f0f040431a700ac12b3d976e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae897f5f0f040431a700ac12b3d976e0e">&#9670;&nbsp;</a></span>AUDSimpleOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleOpen </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open video file. </p>
<p>This functions opens a video file and parses some basic file information.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>Name of file to open</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if file could be opened and is in valid format! </dd></dl>
<p>headSize -= workChunk.len - 32;</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00719">719</a></p>
<div class="fragment"><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;{</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">//  u32 fileOffset = 0;</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">//  u32 headSize;</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">//  u32 audioInfoSize;</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">open</a> )</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">#       ifdef _DEBUG</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        OSReport( <span class="stringliteral">&quot;*** Cannot open &#39;%s&#39; because audio_player already open.\n&quot;</span>, fileName );</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// Initialise the callback status.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 0;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    s32 entry_num = DVDConvertPathToEntrynum( fileName );</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span>( entry_num == -1 )</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#       ifdef _DEBUG</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        OSReport( <span class="stringliteral">&quot;*** Cannot find &#39;%s&#39;\n&quot;</span>, filename );</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span>( DVDFastOpen( entry_num, &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> ) == FALSE )</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#       ifdef _DEBUG</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        OSReport( <span class="stringliteral">&quot;*** Cannot open: &#39;%s&#39;\n&quot;</span>, fileName );</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// Set callback status to indicate file is now open.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">asyncOpenCallbackStatus</a> = 1;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// Read &#39;VID1&#39; chunk from file and check for correct version.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">//  if( DVDRead( &amp;audio_player.fileHandle, &amp;workChunk, 32, 0 ) &lt; 0 )</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span>( DVDReadAsync( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>, &amp;workChunk, 32, 0, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a> ) &lt; 0 )</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#       ifdef _DEBUG</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        OSReport( <span class="stringliteral">&quot;*** Failed to read the header for %s.\n&quot;</span>, fileName );</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        DVDClose( &amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a> );</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    strncpy( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#af002c525171b255c950b02e804251176">fileName</a>, fileName, 64 );</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#af002c525171b255c950b02e804251176">fileName</a>[63]               = 0;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">// Nothing more to do here.</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">//  fileOffset += 32;</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// Check file id    </span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">//  if( workChunk.id != VID_FCC(&#39;V&#39;,&#39;I&#39;,&#39;D&#39;,&#39;1&#39; ))</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">//      OSReport(&quot;*** No VID1 file: &#39;%s&#39;\n&quot;, fileName);</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">//      DVDClose( &amp;audio_player.fileHandle );</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// Check for correct version of vid chunk.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// If we find this version we assume a &#39;special&#39; alignment and chunk ordering which may be invalid</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// in another version of the file format.</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">//  if( workChunk.vid.versionMajor != 1 || workChunk.vid.versionMinor != 0 )</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">//      OSReport(&quot;*** Unsupported file version: major: %d, minor: %d\n&quot;, workChunk.vid.versionMajor, workChunk.vid.versionMajor);</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">//      DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">//# ifdef _DEBUG</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// Sometimes, it&#39;s required to check for a special build of the VidConv converter.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">//      u32 version = VID_VERSION(workChunk.vid.vidConvMajor, workChunk.vid.vidConvMinor, workChunk.vid.vidConvBuild);</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">//      if(version &lt; VID_VERSION(1,0,1))</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">//      OSReport(&quot;*** WARNING: Vid file created using an unsupported converter version: %d.%d.%d\n&quot;, (u32)workChunk.vid.vidConvMajor, (u32)workChunk.vid.vidConvMinor, (u32)workChunk.vid.vidConvBuild);</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">//# endif</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// Check types of chunks we have in this file.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// !!! Note that we assume start of &#39;HEAD&#39; chunk at byte offset 32 from file start !!!</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">//  if( DVDRead( &amp;audio_player.fileHandle, &amp;workChunk, 32, (s32)fileOffset ) &lt; 0 )</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">//      OSReport(&quot;*** Failed to read &#39;HEAD&#39; chunk.\n&quot;);</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">//      DVDClose( &amp;audio_player.fileHandle );</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">//  if( workChunk.id != VID_FCC(&#39;H&#39;,&#39;E&#39;,&#39;A&#39;,&#39;D&#39; ))</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">//      OSReport(&quot;*** No HEAD chunk found at expected offset\n&quot;);</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">//      DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// Calculate the start of the first frame chunk</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// (we know the header chunk starts at offset 32)</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">//  audio_player.nextFrameOffset = workChunk.len + 32;</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">// Skip &#39;HEAD&#39; chunk id, len and version fields</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">//  fileOffset += VID_CHUNK_HEADER_SIZE;</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// The header chunk contains one or more header chunks for the different data types contained</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// in the stream. Parse them all...</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">//  headSize = workChunk.len - VID_CHUNK_HEADER_SIZE;</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">//  while( headSize &gt;= 32 )</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">//      if( DVDRead( &amp;audio_player.fileHandle, &amp;workChunk, 32, (s32)fileOffset ) &lt; 0 )</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">//#         ifdef _DEBUG</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">//          OSReport(&quot;*** Error reading file at offset %d\n&quot;, fileOffset);</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">//#         endif</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">//          DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">//          return FALSE;</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">//      fileOffset += 32;</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">//      headSize -= 32;</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="comment">// We analyze the 1st 32 bytes of the chunk for a known header format</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">//      if(workChunk.id == VID_FCC(&#39;A&#39;,&#39;U&#39;,&#39;D&#39;,&#39;H&#39;))</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="comment">// Allocate memory for audio header chunk</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">//          audio_player.audioHeaderChunk = (u8*)((*audio_player.cbAlloc)(workChunk.len));</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">//          audioInfoSize = workChunk.len - VID_CHUNK_HEADER_SIZE;</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="comment">// Copy the already loaded part</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">//          memcpy(audio_player.audioHeaderChunk, &amp;workChunk, 32);</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">//          workChunk.len -= 32;</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="comment">// Read additional audio header bytes if the audio header is greater that 32 bytes</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">//          if(workChunk.len &gt;= 32)</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//              ASSERT((workChunk.len&amp;31)==0);</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">//              if( DVDRead( &amp;audio_player.fileHandle, audio_player.audioHeaderChunk + 32, workChunk.len, (s32)fileOffset ) &lt; 0 )</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">//              {</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">//#                 ifdef _DEBUG</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">//                  OSReport(&quot;*** Error reading file at offset %d\n&quot;, fileOffset);</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">//#                 endif</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">//                  DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">//                  return FALSE;</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">//              }</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">//              fileOffset += workChunk.len;</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">//              headSize -= workChunk.len;</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="comment">// Setup and calc the number of bytes which we are allowed to copy into the audioInfo struct</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">//          memcpy(&amp;audio_player.audioInfo, audio_player.audioHeaderChunk+VID_CHUNK_HEADER_SIZE, MIN(audioInfoSize, sizeof(audio_player.audioInfo)));</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">//      else</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">//          // Skip unknown chunks. We already read 32 bytes for the header which we must subtract here.</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">//          fileOffset += workChunk.len - 32;</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment"></span><span class="comment">//      }</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">// check if we have the correct vaud file version (&gt;0)</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">//  if(audio_player.audioInfo.vaudex.version == 0)</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">//      OSReport(&quot;*** Invalid version in vaud file.&quot;);</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">//      DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// we can only play audio files which have the following fiels set.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// Note that in case of VIDEO files this fields are allowed to be 0.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">//  ASSERT(audio_player.audioInfo.vaudex.maxBufferSize &gt; 0);</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">//  ASSERT(audio_player.audioInfo.vaudex.frameCount &gt; 0);</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">//  ASSERT(audio_player.audioInfo.vaudex.frameTimeMs &gt; 0);</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// read beginning of 1st frame chunk to get required size information</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">//  if( DVDRead( &amp;audio_player.fileHandle, &amp;workChunk, 32 , (s32)audio_player.nextFrameOffset ) &lt; 0 )</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">//      OSReport(&quot;*** Failed to read &#39;FRAM&#39; chunk.\n&quot;);</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">//      DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">//  if( workChunk.id != VID_FCC(&#39;F&#39;,&#39;R&#39;,&#39;A&#39;,&#39;M&#39;) )</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">//#     ifdef _DEBUG</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">//      OSReport(&quot;*** No FRAM chunk found.&quot;);</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">//#     endif</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">//      DVDClose(&amp;audio_player.fileHandle);</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">//      return FALSE;</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">//  audio_player.nextFrameSize = workChunk.len;         // 32 bytes of this chunk are already consumed, but we want to &#39;preload&#39; the NEXT chunk&#39;s FRAM header</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">//  audio_player.nextFrameOffset += 32;</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">//  audio_player.firstFrameOffset = audio_player.nextFrameOffset;</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">//  audio_player.firstFrameSize   = audio_player.nextFrameSize;</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">//  strncpy(audio_player.fileName, fileName, 64);</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">//  audio_player.fileName[63] = 0;</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">//  audio_player.open               = TRUE;</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">//  audio_player.readIndex          = 0;</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">//  audio_player.decodeIndex            = 0;</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">//  audio_player.lastDecodedFrame       = 0;</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">//  audio_player.error              = FALSE;</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">//  audio_player.preFetchState      = FALSE;</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">//  audio_player.loopMode               = FALSE;</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">//  audio_player.asyncDvdRunning        = FALSE;</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">//  audio_player.currentFrameCount  = 0;</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">//  audio_player.readBufferBaseMem  = 0;</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">//  return TRUE;</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}   </div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00070">AudSimplePlayer::asyncOpenCallbackStatus</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00464">AUDSimpleOpenDVDCallback()</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00060">AudSimplePlayer::fileName</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00065">AudSimplePlayer::open</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01196">Pcm::PCMAudio_PlayMusicTrack()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_ae897f5f0f040431a700ac12b3d976e0e_cgraph.svg" width="376" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_ae897f5f0f040431a700ac12b3d976e0e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3f9b48e00e90f83a634842bee4f84cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f9b48e00e90f83a634842bee4f84cce">&#9670;&nbsp;</a></span>AUDSimpleClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleClose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close open video file. </p>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if file is closed sucessfully. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00956">956</a></p>
<div class="fragment"><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">open</a>)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">preFetchState</a> == FALSE)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a>)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">open</a> = FALSE;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                DVDClose(&amp;<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">fileHandle</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a> != NULL)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    (*<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a20be8956d9bcff7d01fbd2f07927abbc">cbFree</a>)(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">audioHeaderChunk</a> = NULL;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AudSimplePlayer::asyncDvdRunning</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00063">AudSimplePlayer::audioHeaderChunk</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00057">AudSimplePlayer::cbFree</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AudSimplePlayer::fileHandle</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00065">AudSimplePlayer::open</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AudSimplePlayer::preFetchState</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a> и <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01304">Pcm::PCMAudio_StopMusic()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a3f9b48e00e90f83a634842bee4f84cce_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1ba929b14b19068ef1836469f361b479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba929b14b19068ef1836469f361b479">&#9670;&nbsp;</a></span>AUDSimpleDecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleDecode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode all frame data. </p>
<p>This function operates on the full frame input data. It forwards this data to the required decoder. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00990">990</a></p>
<div class="fragment"><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;{</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    BOOL enabled;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    u8* chunkStart;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    u32 chunkSize;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    u32 frameSize;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> )</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="comment">// ptr to our (pre-) loaded data INSIDE (!) &#39;FRAM&#39; chunk</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="comment">// (in other words, the &#39;FRAM&#39; chunk itself is not visible here)</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        chunkStart = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">ptr</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="comment">// usually, we read additional 32 bytes for getting info about the NEXT chunk.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="comment">// We only deal with the actual &#39;FRAM&#39; chunk data here and adjust the size by 32 bytes.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        frameSize = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ad46cea9833185d584b6e33bff31dfb55">size</a> - 32;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="comment">// loop across ALL chunks inside &#39;FRAM&#39;</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">while</span>(frameSize &gt;= 32)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            chunkSize = VID_CHUNK_LEN(chunkStart);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <span class="keywordflow">if</span>( VID_CHUNK_ID(chunkStart) == VID_FCC(<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;D&#39;</span>) )</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                <span class="comment">// Get the data to the audio system...</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                <span class="keywordflow">if</span>(! <a class="code" href="../../de/d17/_a_u_d_simple_audio_8cpp.html#a779e8a325212eafe5e7f5a03817f3be7">AUDSimpleAudioDecode</a>(chunkStart + VID_CHUNK_HEADER_SIZE, chunkSize - VID_CHUNK_HEADER_SIZE))</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                    OSReport(<span class="stringliteral">&quot;*** AUDSimpleAudioDecode failed!\n&quot;</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                OSReport(<span class="stringliteral">&quot;*** AUDSimpleDecode: unknown chunk type!\n&quot;</span>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="comment">// goto next chunk</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            chunkStart += chunkSize;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            frameSize -= chunkSize;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a218356c4d70ca95517dada8ae90bf9c5">lastDecodedFrame</a> = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#af346b4d955f225078ad9dc2b98f4caae">frameNumber</a>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> = FALSE;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a> = (<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">decodeIndex</a> + 1) % AUD_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="comment">// check if loading is still running</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        enabled = OSDisableInterrupts();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">readBuffer</a>[<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">readIndex</a>].<a class="code" href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">valid</a> &amp;&amp; !<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">asyncDvdRunning</a>)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a>();</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        OSRestoreInterrupts(enabled);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    OSReport(<span class="stringliteral">&quot;*** AUDSimpleDecode: No valid decode buffer found (?).\n&quot;</span>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AudSimplePlayer::asyncDvdRunning</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00507">AUDSimpleAudioDecode()</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00084">AudSimplePlayer::decodeIndex</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00051">AudReadBuffer::frameNumber</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00078">AudSimplePlayer::lastDecodedFrame</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AudReadBuffer::ptr</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AudSimplePlayer::readBuffer</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00072">ReadFrameAsync()</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AudSimplePlayer::readIndex</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00050">AudReadBuffer::size</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00052">AudReadBuffer::valid</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a1ba929b14b19068ef1836469f361b479_cgraph.svg" width="100%" height="385"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_a1ba929b14b19068ef1836469f361b479_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="afddd0e1778b65f6626a9bf35ba8f3033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afddd0e1778b65f6626a9bf35ba8f3033">&#9670;&nbsp;</a></span>AUDSimplePlayMaskChange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AUDSimplePlayMaskChange </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change active play mask. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01064">1064</a></p>
<div class="fragment"><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keyword">static</span> u32 myPlayMask = 0x3;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    u32 maxChannels = <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaud.numChannels;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(maxChannels &gt; 0 &amp;&amp; maxChannels &lt;= 32);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    myPlayMask &lt;&lt;= 1;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span>(myPlayMask &gt;= ((u32)(1&lt;&lt;maxChannels)))</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;       myPlayMask |= 1;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    myPlayMask &amp;= (1&lt;&lt;maxChannels)-1;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="../../de/d17/_a_u_d_simple_audio_8cpp.html#ad84aacba3bc278e34a7457d7576811b7">AUDSimpleAudioChangePlayback</a>(&amp;myPlayMask, 1);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a>, <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a> и <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00530">AUDSimpleAudioChangePlayback()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dc5/_a_u_d_simple_player_8cpp_afddd0e1778b65f6626a9bf35ba8f3033_cgraph.svg" width="470" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aca949a6715e1b1e5641467075d4045b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca949a6715e1b1e5641467075d4045b4">&#9670;&nbsp;</a></span>AUDSimpleGetAudioSampleRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 AUDSimpleGetAudioSampleRate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get audio sample rate in Hz. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01086">1086</a></p>
<div class="fragment"><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaud.frq);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>.</p>

</div>
</div>
<a id="ac193d6579f48b6c44fda98f6b9ef52d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac193d6579f48b6c44fda98f6b9ef52d5">&#9670;&nbsp;</a></span>AUDSimpleGetFrameTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 AUDSimpleGetFrameTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return time in ms of one audio frame. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01098">1098</a></p>
<div class="fragment"><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a>.<a class="code" href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">audioInfo</a>.vaudex.frameTimeMs);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">audio_player</a> и <a class="el" href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AudSimplePlayer::audioInfo</a>.</p>

</div>
</div>
<a id="a5d4b81869c1f98dbdcd1dc78a19f0a81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d4b81869c1f98dbdcd1dc78a19f0a81">&#9670;&nbsp;</a></span>AUDSimpleCheckDVDError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL AUDSimpleCheckDVDError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for drive status. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01110">1110</a></p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">switch</span> (DVDGetDriveStatus())</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_FATAL_ERROR:</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_FATAL_ERROR\n&quot;</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_NO_DISK:</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_NO_DISK\n&quot;</span>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_COVER_OPEN:</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_COVER_OPEN\n&quot;</span>);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_WRONG_DISK:</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_WRONG_DISK\n&quot;</span>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_RETRY:</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_RETRY\n&quot;</span>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <span class="keywordflow">return</span>(TRUE);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">return</span>(FALSE);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Переменные</h2>
<a id="a8884cb5cf6068aba72a846683d113c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8884cb5cf6068aba72a846683d113c7a">&#9670;&nbsp;</a></span>audio_player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d85/struct_aud_simple_player.html">AudSimplePlayer</a> audio_player</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">36</a></p>

<p class="reference">Используется в <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00400">audioDecode()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00177">AUDSimpleAllocDVDBuffers()</a>, <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00507">AUDSimpleAudioDecode()</a>, <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00301">AUDSimpleAudioGetInfo()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00956">AUDSimpleClose()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00234">AUDSimpleCreateDecoder()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00990">AUDSimpleDecode()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00266">AUDSimpleDestroyDecoder()</a>, <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00251">AUDSimpleExitAudioDecoder()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00217">AUDSimpleFreeDVDBuffers()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01086">AUDSimpleGetAudioSampleRate()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01098">AUDSimpleGetFrameTime()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00055">AUDSimpleInit()</a>, <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00130">AUDSimpleInitAudioDecoder()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00349">AUDSimpleLoadStart()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00283">AUDSimpleLoadStartDVDCallback()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00426">AUDSimpleLoadStop()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00719">AUDSimpleOpen()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00464">AUDSimpleOpenDVDCallback()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l01064">AUDSimplePlayMaskChange()</a>, <a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00640">AXCallback()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00120">dvdDoneCallback()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01088">Pcm::PCMAudio_DecodeLoop()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01367">Pcm::PCMAudio_GetMusicStatus()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l00865">Pcm::PCMAudio_Init()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01415">Pcm::PCMAudio_Pause()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01196">Pcm::PCMAudio_PlayMusicTrack()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l02010">Pcm::PCMAudio_PreLoadMusicStreamDone()</a>, <a class="el" href="../../de/d41/ngc_2p__music_8cpp_source.html#l01304">Pcm::PCMAudio_StopMusic()</a> и <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00072">ReadFrameAsync()</a>.</p>

</div>
</div>
<a id="ab5b370e3c94db92c543d6b3ab8db71c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b370e3c94db92c543d6b3ab8db71c6">&#9670;&nbsp;</a></span>readNum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 readNum = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html">AUDSimplePlayer.cpp</a> строка <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00277">277</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00349">AUDSimpleLoadStart()</a>, <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00283">AUDSimpleLoadStartDVDCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00374">VIDSimpleLoadStart()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astruct_aud_simple_player_html_a5c4586b5d9c6b1c6c0ff3acea738100d"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a5c4586b5d9c6b1c6c0ff3acea738100d">AudSimplePlayer::firstFrameOffset</a></div><div class="ttdeci">u32 firstFrameOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00080">AUDSimplePlayer.h:80</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_ae4719a7877550bd65ec4412846ded7c5"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#ae4719a7877550bd65ec4412846ded7c5">AudSimplePlayer::readBuffer</a></div><div class="ttdeci">AudReadBuffer readBuffer[AUD_NUM_READ_BUFFERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00086">AUDSimplePlayer.h:86</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a84ef9d2e1a4fb9f31bc5f38155459ee9"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a84ef9d2e1a4fb9f31bc5f38155459ee9">AudSimplePlayer::preFetchState</a></div><div class="ttdeci">BOOL preFetchState</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00067">AUDSimplePlayer.h:67</a></div></div>
<div class="ttc" id="astruct_aud_read_buffer_html_ac2ed4ea0fbe418c69ce40fe48e3a7eb6"><div class="ttname"><a href="../../d9/d7c/struct_aud_read_buffer.html#ac2ed4ea0fbe418c69ce40fe48e3a7eb6">AudReadBuffer::valid</a></div><div class="ttdeci">volatile BOOL valid</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00052">AUDSimplePlayer.h:52</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_abede466075cbd5e01333f88a1b39053a"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#abede466075cbd5e01333f88a1b39053a">AudSimplePlayer::open</a></div><div class="ttdeci">BOOL open</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00065">AUDSimplePlayer.h:65</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a38f8b140eca168466b26397a93c1d324"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a38f8b140eca168466b26397a93c1d324">AudSimplePlayer::asyncDvdRunning</a></div><div class="ttdeci">BOOL asyncDvdRunning</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00069">AUDSimplePlayer.h:69</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_ae497e287befbc13e982d198d65e01229"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#ae497e287befbc13e982d198d65e01229">AudSimplePlayer::error</a></div><div class="ttdeci">BOOL error</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00066">AUDSimplePlayer.h:66</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_aada9b24aae0388970ebb327d88d2c7d7"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#aada9b24aae0388970ebb327d88d2c7d7">AudSimplePlayer::decodeIndex</a></div><div class="ttdeci">u32 decodeIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00084">AUDSimplePlayer.h:84</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a72a9b8bfb8c0db127ccbe8798de1ef74"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a72a9b8bfb8c0db127ccbe8798de1ef74">AudSimplePlayer::currentFrameCount</a></div><div class="ttdeci">u32 currentFrameCount</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00077">AUDSimplePlayer.h:77</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_af002c525171b255c950b02e804251176"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#af002c525171b255c950b02e804251176">AudSimplePlayer::fileName</a></div><div class="ttdeci">char fileName[64]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00060">AUDSimplePlayer.h:60</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a51ddbd0169866ab2b5ae59874bc2983b"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a51ddbd0169866ab2b5ae59874bc2983b">AudSimplePlayer::firstFrameSize</a></div><div class="ttdeci">u32 firstFrameSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00081">AUDSimplePlayer.h:81</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_a86fa40aebf6443a608da59831d67b24f"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a86fa40aebf6443a608da59831d67b24f">AUDSimpleOpenDVDCallback</a></div><div class="ttdeci">static void AUDSimpleOpenDVDCallback(s32 result, DVDFileInfo *fileInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00464">AUDSimplePlayer.cpp:464</a></div></div>
<div class="ttc" id="astruct_aud_read_buffer_html_ad46cea9833185d584b6e33bff31dfb55"><div class="ttname"><a href="../../d9/d7c/struct_aud_read_buffer.html#ad46cea9833185d584b6e33bff31dfb55">AudReadBuffer::size</a></div><div class="ttdeci">u32 size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00050">AUDSimplePlayer.h:50</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a5a02e3cec1920bc68de1a22ab6158bda"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a5a02e3cec1920bc68de1a22ab6158bda">AudSimplePlayer::decoder</a></div><div class="ttdeci">VAUDDecoder decoder</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00089">AUDSimplePlayer.h:89</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_a8884cb5cf6068aba72a846683d113c7a"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a8884cb5cf6068aba72a846683d113c7a">audio_player</a></div><div class="ttdeci">AudSimplePlayer audio_player</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00036">AUDSimplePlayer.cpp:36</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_ae8e1dc1fd7b79fddd3e1541718f26d23"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#ae8e1dc1fd7b79fddd3e1541718f26d23">AudSimplePlayer::cbAlloc</a></div><div class="ttdeci">VAUDAllocator cbAlloc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00056">AUDSimplePlayer.h:56</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a3aaef5eb112ca382bd7b298317c802a7"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a3aaef5eb112ca382bd7b298317c802a7">AudSimplePlayer::nextFrameOffset</a></div><div class="ttdeci">u32 nextFrameOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00075">AUDSimplePlayer.h:75</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a218356c4d70ca95517dada8ae90bf9c5"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a218356c4d70ca95517dada8ae90bf9c5">AudSimplePlayer::lastDecodedFrame</a></div><div class="ttdeci">u32 lastDecodedFrame</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00078">AUDSimplePlayer.h:78</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a569fd55ff12e6b26ea973bbbed823067"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a569fd55ff12e6b26ea973bbbed823067">AudSimplePlayer::loopMode</a></div><div class="ttdeci">BOOL loopMode</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00068">AUDSimplePlayer.h:68</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_ab5b370e3c94db92c543d6b3ab8db71c6"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a></div><div class="ttdeci">static u32 readNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00277">AUDSimplePlayer.cpp:277</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_aeff1f22faaab3e45eefa5a97c52feb38"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#aeff1f22faaab3e45eefa5a97c52feb38">AudSimplePlayer::asyncOpenCallbackStatus</a></div><div class="ttdeci">u32 asyncOpenCallbackStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00070">AUDSimplePlayer.h:70</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a59cf8471f3241c220a2beea25c19d39f"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a59cf8471f3241c220a2beea25c19d39f">AudSimplePlayer::audioHeaderChunk</a></div><div class="ttdeci">u8 * audioHeaderChunk</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00063">AUDSimplePlayer.h:63</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a20be8956d9bcff7d01fbd2f07927abbc"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a20be8956d9bcff7d01fbd2f07927abbc">AudSimplePlayer::cbFree</a></div><div class="ttdeci">VAUDDeallocator cbFree</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00057">AUDSimplePlayer.h:57</a></div></div>
<div class="ttc" id="a_a_u_d_simple_audio_8cpp_html_ad84aacba3bc278e34a7457d7576811b7"><div class="ttname"><a href="../../de/d17/_a_u_d_simple_audio_8cpp.html#ad84aacba3bc278e34a7457d7576811b7">AUDSimpleAudioChangePlayback</a></div><div class="ttdeci">void AUDSimpleAudioChangePlayback(const u32 *playMaskArray, u32 numMasks)</div><div class="ttdoc">Change the active audio channels.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00530">AUDSimpleAudio.cpp:530</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_abcf0bb00e91239afb2b7a21fc2e5402c"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#abcf0bb00e91239afb2b7a21fc2e5402c">AudSimplePlayer::nextFrameSize</a></div><div class="ttdeci">u32 nextFrameSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00076">AUDSimplePlayer.h:76</a></div></div>
<div class="ttc" id="astruct_aud_read_buffer_html_a99553aa58667fd2ee897c6f86e7f488f"><div class="ttname"><a href="../../d9/d7c/struct_aud_read_buffer.html#a99553aa58667fd2ee897c6f86e7f488f">AudReadBuffer::ptr</a></div><div class="ttdeci">u8 * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00049">AUDSimplePlayer.h:49</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a3fbe957b01bd9ae9685fed5a1d7bd121"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a3fbe957b01bd9ae9685fed5a1d7bd121">AudSimplePlayer::audioInfo</a></div><div class="ttdeci">VidAUDH audioInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00062">AUDSimplePlayer.h:62</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_a4b9549e5723f42e69abbdbf88e963467"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a></div><div class="ttdeci">static void ReadFrameAsync(void)</div><div class="ttdoc">Request an async file transfer.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00072">AUDSimplePlayer.cpp:72</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a126934617a788a5ab70a2180b1f389dc"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a126934617a788a5ab70a2180b1f389dc">AudSimplePlayer::readIndex</a></div><div class="ttdeci">u32 readIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00083">AUDSimplePlayer.h:83</a></div></div>
<div class="ttc" id="a_a_u_d_simple_audio_8cpp_html_a779e8a325212eafe5e7f5a03817f3be7"><div class="ttname"><a href="../../de/d17/_a_u_d_simple_audio_8cpp.html#a779e8a325212eafe5e7f5a03817f3be7">AUDSimpleAudioDecode</a></div><div class="ttdeci">BOOL AUDSimpleAudioDecode(const u8 *bitstream, u32 bitstreamLen)</div><div class="ttdoc">Receive data from bitstream and direct to required encoding facility.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d17/_a_u_d_simple_audio_8cpp_source.html#l00507">AUDSimpleAudio.cpp:507</a></div></div>
<div class="ttc" id="anamespace_script_html_a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a></div><div class="ttdeci">@ ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d49/scriptdefs_8h_source.html#l00016">scriptdefs.h:16</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_abd1c3e701e3f8350e4b5093f3302ce76"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#abd1c3e701e3f8350e4b5093f3302ce76">AudSimplePlayer::readBufferBaseMem</a></div><div class="ttdeci">u8 * readBufferBaseMem</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00087">AUDSimplePlayer.h:87</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_a6d055291d176636e8b9ac0c91bbaa19a"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback</a></div><div class="ttdeci">static void dvdDoneCallback(s32 result, DVDFileInfo *videoInfo)</div></div>
<div class="ttc" id="astruct_aud_read_buffer_html_af346b4d955f225078ad9dc2b98f4caae"><div class="ttname"><a href="../../d9/d7c/struct_aud_read_buffer.html#af346b4d955f225078ad9dc2b98f4caae">AudReadBuffer::frameNumber</a></div><div class="ttdeci">u32 frameNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00051">AUDSimplePlayer.h:51</a></div></div>
<div class="ttc" id="astruct_aud_simple_player_html_a37a139ee1650beda030fa2671a7cfb9d"><div class="ttname"><a href="../../d7/d85/struct_aud_simple_player.html#a37a139ee1650beda030fa2671a7cfb9d">AudSimplePlayer::fileHandle</a></div><div class="ttdeci">DVDFileInfo fileHandle</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/_a_u_d_simple_player_8h_source.html#l00059">AUDSimplePlayer.h:59</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_a0149b550e48fe9fcde6b74732056317f"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#a0149b550e48fe9fcde6b74732056317f">AUDSimpleLoadStartDVDCallback</a></div><div class="ttdeci">static void AUDSimpleLoadStartDVDCallback(s32 result, DVDFileInfo *fileInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00283">AUDSimplePlayer.cpp:283</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_3601fabbe3429c936523f20d8da3f5fe.html">gel</a></li><li class="navelem"><a class="el" href="../../dir_e9d4da43962330fc62f75934c483c6e5.html">Music</a></li><li class="navelem"><a class="el" href="../../dir_4101895ee902d282d59c2cec924f324c.html">ngc</a></li><li class="navelem"><a class="el" href="../../dir_c9c228da49de6d37598080a31bcff8de.html">divx</a></li><li class="navelem"><a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html">AUDSimplePlayer.cpp</a></li>
    <li class="footer">Документация по OpenTHUG. Последние изменения: Вс 26 Апр 2020 03:47:41. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
