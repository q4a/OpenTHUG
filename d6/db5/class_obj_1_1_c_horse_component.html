<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTHUG: Класс Obj::CHorseComponent</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTHUG
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">OpenTHUG: let&#39;s port THUG on Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/db5/class_obj_1_1_c_horse_component.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Классы</a> &#124;
<a href="#pub-methods">Открытые члены</a> &#124;
<a href="#pub-static-methods">Открытые статические члены</a> &#124;
<a href="#pri-types">Закрытые типы</a> &#124;
<a href="#pri-methods">Закрытые члены</a> &#124;
<a href="#pri-static-methods">Закрытые статические члены</a> &#124;
<a href="#pri-attribs">Закрытые данные</a> &#124;
<a href="#pri-static-attribs">Закрытые статические данные</a> &#124;
<a href="../../dd/dce/class_obj_1_1_c_horse_component-members.html">Полный список членов класса</a>  </div>
  <div class="headertitle">
<div class="title">Класс Obj::CHorseComponent</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф наследования:Obj::CHorseComponent:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d22/class_obj_1_1_c_horse_component__inherit__graph.svg" width="170" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Граф связей класса Obj::CHorseComponent:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d71/class_obj_1_1_c_horse_component__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Классы</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d1b/struct_obj_1_1_c_horse_component_1_1_s_collider.html">SCollider</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc3/struct_obj_1_1_c_horse_component_1_1_s_collision_point.html">SCollisionPoint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html">SContact</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d12/struct_obj_1_1_c_horse_component_1_1_s_controls.html">SControls</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html">SWallPushTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Открытые члены</h2></td></tr>
<tr class="memitem:a7bd2141ef131ad1e64ec869978ce3351"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a7bd2141ef131ad1e64ec869978ce3351">CHorseComponent</a> ()</td></tr>
<tr class="separator:a7bd2141ef131ad1e64ec869978ce3351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bba57059fff618b2cb9baed0069b6d6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0bba57059fff618b2cb9baed0069b6d6">~CHorseComponent</a> ()</td></tr>
<tr class="separator:a0bba57059fff618b2cb9baed0069b6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b02ae16feb2fafb4a25635c856801c6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b02ae16feb2fafb4a25635c856801c6">Update</a> ()</td></tr>
<tr class="separator:a8b02ae16feb2fafb4a25635c856801c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af613aa46b1893ca41c3fcf935b1ef60e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af613aa46b1893ca41c3fcf935b1ef60e">InitFromStructure</a> (<a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *pParams)</td></tr>
<tr class="separator:af613aa46b1893ca41c3fcf935b1ef60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5f4642490919591aa63c2d3d7715e0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b5f4642490919591aa63c2d3d7715e0">RefreshFromStructure</a> (<a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *pParams)</td></tr>
<tr class="separator:a8b5f4642490919591aa63c2d3d7715e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b7d26db41ff7205f84d3315f317eec"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a75b7d26db41ff7205f84d3315f317eec">Finalize</a> ()</td></tr>
<tr class="separator:a75b7d26db41ff7205f84d3315f317eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af9c3079e3758756137ca3d89199f5f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6">EMemberFunctionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1af9c3079e3758756137ca3d89199f5f">CallMemberFunction</a> (<a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> Checksum, <a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *pParams, <a class="el" href="../../db/df2/class_script_1_1_c_script.html">Script::CScript</a> *pScript)</td></tr>
<tr class="separator:a1af9c3079e3758756137ca3d89199f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3393ee0562d2f08556c094e875ceef"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1f3393ee0562d2f08556c094e875ceef">GetDebugInfo</a> (<a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_info)</td></tr>
<tr class="separator:a1f3393ee0562d2f08556c094e875ceef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b60d6878f23321bf9c97b1f120da38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a96b60d6878f23321bf9c97b1f120da38">MoveToNode</a> (<a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_node)</td></tr>
<tr class="separator:a96b60d6878f23321bf9c97b1f120da38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d094b15f7d8dc8eb796a91781ed1851"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">GetPos</a> (void)</td></tr>
<tr class="separator:a4d094b15f7d8dc8eb796a91781ed1851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8219f7ac3f3ca1f9b31a2f8007ab3b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a8219f7ac3f3ca1f9b31a2f8007ab3b">GetVel</a> (void) const</td></tr>
<tr class="separator:a0a8219f7ac3f3ca1f9b31a2f8007ab3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade56c6a81b933a923c7e56895ed47e79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade56c6a81b933a923c7e56895ed47e79">GetMatrix</a> (void)</td></tr>
<tr class="separator:ade56c6a81b933a923c7e56895ed47e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce03d05ede3ac924f92b1a0dd9fc96c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9ce03d05ede3ac924f92b1a0dd9fc96c">GetDisplayMatrix</a> (void)</td></tr>
<tr class="separator:a9ce03d05ede3ac924f92b1a0dd9fc96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64184af12a54c96c32780a2fd44cd7c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a64184af12a54c96c32780a2fd44cd7c6">AcceptRiderMount</a> (<a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *p_rider)</td></tr>
<tr class="separator:a64184af12a54c96c32780a2fd44cd7c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372a81ab71f2d060a1c18694d56a7e7b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a372a81ab71f2d060a1c18694d56a7e7b">AcceptRiderDismount</a> (<a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *p_rider)</td></tr>
<tr class="separator:a372a81ab71f2d060a1c18694d56a7e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d6eef160f1ddddce385fbea517ce91"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2d6eef160f1ddddce385fbea517ce91">ShouldUpdateCamera</a> (void)</td></tr>
<tr class="separator:af2d6eef160f1ddddce385fbea517ce91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7016247639b35590b4a7048bd2c11c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb7016247639b35590b4a7048bd2c11c">GetRider</a> (void)</td></tr>
<tr class="separator:afb7016247639b35590b4a7048bd2c11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594d723e012178cdc30872644f5ff55e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a594d723e012178cdc30872644f5ff55e">GetAnimation</a> (void)</td></tr>
<tr class="separator:a594d723e012178cdc30872644f5ff55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_obj_1_1_c_base_component"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_obj_1_1_c_base_component')"><img src="../../closed.png" alt="-"/>&#160;Открытые члены унаследованные от <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">Obj::CBaseComponent</a></td></tr>
<tr class="memitem:afeb0666533cc55fc8db1c49054a79c90 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#afeb0666533cc55fc8db1c49054a79c90">CBaseComponent</a> ()</td></tr>
<tr class="separator:afeb0666533cc55fc8db1c49054a79c90 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710c833e1f4a7b2d22a702c1f41e14b7 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a710c833e1f4a7b2d22a702c1f41e14b7">~CBaseComponent</a> ()</td></tr>
<tr class="separator:a710c833e1f4a7b2d22a702c1f41e14b7 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee042dd0cc2718d76d804fd818cd4ce inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a6ee042dd0cc2718d76d804fd818cd4ce">ProcessWait</a> (<a class="el" href="../../db/df2/class_script_1_1_c_script.html">Script::CScript</a> *pScript)</td></tr>
<tr class="separator:a6ee042dd0cc2718d76d804fd818cd4ce inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a4568201d336ba2793396703214091 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a05a4568201d336ba2793396703214091">SetObject</a> (<a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *p_object)</td></tr>
<tr class="separator:a05a4568201d336ba2793396703214091 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952f40d99323d28b3ca2f55567edfa85 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a> () const</td></tr>
<tr class="separator:a952f40d99323d28b3ca2f55567edfa85 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77efa41f12b5e09478cc8ea322d3a77b inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">CBaseComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a77efa41f12b5e09478cc8ea322d3a77b">GetNext</a> () const</td></tr>
<tr class="separator:a77efa41f12b5e09478cc8ea322d3a77b inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4309b1a671392193628ea6e7c9f885 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">CBaseComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#abf4309b1a671392193628ea6e7c9f885">GetNextSameType</a> () const</td></tr>
<tr class="separator:abf4309b1a671392193628ea6e7c9f885 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5da2863e8523582d7c8244ac2740a0 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a2a5da2863e8523582d7c8244ac2740a0">SetNextSameType</a> (<a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">CBaseComponent</a> *p_component)</td></tr>
<tr class="separator:a2a5da2863e8523582d7c8244ac2740a0 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ac6129be0d4e05999499433e9ec590 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a66ac6129be0d4e05999499433e9ec590">GetType</a> () const</td></tr>
<tr class="separator:a66ac6129be0d4e05999499433e9ec590 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b617ce9442e7fe78cc830537567a305 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a1b617ce9442e7fe78cc830537567a305">Suspend</a> (bool suspend)</td></tr>
<tr class="separator:a1b617ce9442e7fe78cc830537567a305 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537b0148d20f9d73425181e5335d524a inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a537b0148d20f9d73425181e5335d524a">IsSuspended</a> () const</td></tr>
<tr class="separator:a537b0148d20f9d73425181e5335d524a inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7976247ec2690a7cdda68e34393442e0 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a7976247ec2690a7cdda68e34393442e0">Hide</a> (bool shouldHide)</td></tr>
<tr class="separator:a7976247ec2690a7cdda68e34393442e0 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab084aab7884c99c44e99ad9912480a36 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#ab084aab7884c99c44e99ad9912480a36">Teleport</a> ()</td></tr>
<tr class="separator:ab084aab7884c99c44e99ad9912480a36 inherit pub_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_spt_1_1_class"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_spt_1_1_class')"><img src="../../closed.png" alt="-"/>&#160;Открытые члены унаследованные от <a class="el" href="../../d3/dee/class_spt_1_1_class.html">Spt::Class</a></td></tr>
<tr class="memitem:aa07abe7e9a3300e5bf481f795a9da601 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#aa07abe7e9a3300e5bf481f795a9da601">operator new</a> (size_t size)</td></tr>
<tr class="separator:aa07abe7e9a3300e5bf481f795a9da601 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fff9760178e90cc361350aa65998e03 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#a9fff9760178e90cc361350aa65998e03">operator new[]</a> (size_t size)</td></tr>
<tr class="separator:a9fff9760178e90cc361350aa65998e03 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2bca74820de6b270fedcf17fe8b05e7 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#af2bca74820de6b270fedcf17fe8b05e7">operator new</a> (size_t size, bool assert_on_fail)</td></tr>
<tr class="separator:af2bca74820de6b270fedcf17fe8b05e7 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250ec266d7ceccaaab5fd6a969984c83 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#a250ec266d7ceccaaab5fd6a969984c83">operator new[]</a> (size_t size, bool assert_on_fail)</td></tr>
<tr class="separator:a250ec266d7ceccaaab5fd6a969984c83 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da06d51d02538dd7dd1c13d2338eb71 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#a9da06d51d02538dd7dd1c13d2338eb71">operator new</a> (size_t size, <a class="el" href="../../d5/d97/class_mem_1_1_allocator.html">Mem::Allocator</a> *pAlloc, bool assert_on_fail=true)</td></tr>
<tr class="separator:a9da06d51d02538dd7dd1c13d2338eb71 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325d8814c5b6545bbcbf69813be4d1aa inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#a325d8814c5b6545bbcbf69813be4d1aa">operator new[]</a> (size_t size, <a class="el" href="../../d5/d97/class_mem_1_1_allocator.html">Mem::Allocator</a> *pAlloc, bool assert_on_fail=true)</td></tr>
<tr class="separator:a325d8814c5b6545bbcbf69813be4d1aa inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492647b2071f30f07668032bba5bbc42 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#a492647b2071f30f07668032bba5bbc42">operator new</a> (size_t size, void *pLocation)</td></tr>
<tr class="separator:a492647b2071f30f07668032bba5bbc42 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bec226f161d427622a656ef5cfe1be2 inherit pub_methods_class_spt_1_1_class"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dee/class_spt_1_1_class.html#a7bec226f161d427622a656ef5cfe1be2">operator new[]</a> (size_t size, void *pLocation)</td></tr>
<tr class="separator:a7bec226f161d427622a656ef5cfe1be2 inherit pub_methods_class_spt_1_1_class"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Открытые статические члены</h2></td></tr>
<tr class="memitem:a638d5c55da73bf90117902328d23d855"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">CBaseComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a638d5c55da73bf90117902328d23d855">s_create</a> ()</td></tr>
<tr class="separator:a638d5c55da73bf90117902328d23d855"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Закрытые типы</h2></td></tr>
<tr class="memitem:a43cf16df806a58f65c6d02231877e1a2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a> { <br />
&#160;&#160;<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2ab6314caadf83adab1ccd3035b037f42e">WALKING_HOP</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a2ba63dbd91919b88fa2ba64d3ffb91cb">WALKING_HANG</a>, 
<br />
&#160;&#160;<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a06dfcc14ad7c34a4370178f7db8ae9d1">WALKING_LADDER</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66">WALKING_ANIMWAIT</a>
<br />
 }</td></tr>
<tr class="separator:a43cf16df806a58f65c6d02231877e1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf7f70967c6ecbb67dd266df82a9574"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574">EAnimScaleSpeed</a> { <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a805216bbae42adb502b80c2e617f7888">OFF</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a67d214c15356499d3f04159975968c1c">RUNNING</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a963d619887b6615ef89c1711effe2612">HANGMOVE</a>, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574ab83b05580bb36a4f6c7169e222b4a03d">LADDERMOVE</a>
 }</td></tr>
<tr class="separator:adbf7f70967c6ecbb67dd266df82a9574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ad9d6c42c57e29739a5c156999e1f7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42ad9d6c42c57e29739a5c156999e1f7a0af76c3852ed91d7577d85006d309e3b">vVP_NUM_WHEELS</a> = 4
 }</td></tr>
<tr class="separator:a42ad9d6c42c57e29739a5c156999e1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed6456ddcfbb0d76ccf6d1cb24a5732"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> = 7, 
<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a027417afd5c775739d5338dd81609f5f">vNUM_BARRIER_HEIGHT_FEELERS</a> = 7
 }</td></tr>
<tr class="separator:afed6456ddcfbb0d76ccf6d1cb24a5732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Закрытые члены</h2></td></tr>
<tr class="memitem:ae12be300db2a7f427cb4ace9bed363ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ae12be300db2a7f427cb4ace9bed363ee">draw_debug_rendering</a> () const</td></tr>
<tr class="separator:ae12be300db2a7f427cb4ace9bed363ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a276a813f19ac77b4ae5684cd35ae4695"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a276a813f19ac77b4ae5684cd35ae4695">get_controller_input</a> (void)</td></tr>
<tr class="separator:a276a813f19ac77b4ae5684cd35ae4695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4ca5507c65a1b5b968552d62cb6490"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acb4ca5507c65a1b5b968552d62cb6490">go_on_ground_state</a> (void)</td></tr>
<tr class="separator:acb4ca5507c65a1b5b968552d62cb6490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d622352d277c36ae1b44ac1690f430"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a19d622352d277c36ae1b44ac1690f430">go_in_air_state</a> (void)</td></tr>
<tr class="separator:a19d622352d277c36ae1b44ac1690f430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd8dffec048b96240ca168a1984ed53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5bd8dffec048b96240ca168a1984ed53">lerp_upright</a> (void)</td></tr>
<tr class="separator:a5bd8dffec048b96240ca168a1984ed53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bd320ee1e00de0354957925b6ec854"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a85bd320ee1e00de0354957925b6ec854">uber_frig</a> (void)</td></tr>
<tr class="separator:a85bd320ee1e00de0354957925b6ec854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0381cc338da75ee172c2030a12c832"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b0381cc338da75ee172c2030a12c832">account_for_movable_contact</a> (void)</td></tr>
<tr class="separator:a8b0381cc338da75ee172c2030a12c832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88cee941aabec65a2afb8c0febbba98e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88cee941aabec65a2afb8c0febbba98e">setup_collision_cache</a> (void)</td></tr>
<tr class="separator:a88cee941aabec65a2afb8c0febbba98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7a2d461c00cfeba5dc38718b5a1f6c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abd7a2d461c00cfeba5dc38718b5a1f6c">calculate_desired_speed</a> (void)</td></tr>
<tr class="separator:abd7a2d461c00cfeba5dc38718b5a1f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88056b955a08ad60093a8b6a47ea7f36"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88056b955a08ad60093a8b6a47ea7f36">adjust_desired_speed_for_slope</a> (float desired_speed)</td></tr>
<tr class="separator:a88056b955a08ad60093a8b6a47ea7f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af436bd4a3aea0ae67aa7181369031782"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af436bd4a3aea0ae67aa7181369031782">adjust_horizontal_vel_for_environment</a> (bool wall_push_active)</td></tr>
<tr class="separator:af436bd4a3aea0ae67aa7181369031782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee2b8f420b2d3c3b32b0ca8757e0e08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2ee2b8f420b2d3c3b32b0ca8757e0e08">copy_state_into_object</a> (void)</td></tr>
<tr class="separator:a2ee2b8f420b2d3c3b32b0ca8757e0e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436673589a4a6f954927819ec0795ecd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a436673589a4a6f954927819ec0795ecd">adjust_facing_for_adjusted_horizontal_vel</a> (void)</td></tr>
<tr class="separator:a436673589a4a6f954927819ec0795ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa68ecf39c87401a47b3c23b47d7e7b0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa68ecf39c87401a47b3c23b47d7e7b0a">calculate_horizontal_speed_and_facing</a> (float &amp;horizontal_speed)</td></tr>
<tr class="separator:aa68ecf39c87401a47b3c23b47d7e7b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5772d55b658711f0a0cbd59c4917adbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5772d55b658711f0a0cbd59c4917adbd">calculate_feeler_offset_direction</a> (int contact)</td></tr>
<tr class="separator:a5772d55b658711f0a0cbd59c4917adbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9295612e35a396392266323acdc81dac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9295612e35a396392266323acdc81dac">adjust_curb_float_height</a> (void)</td></tr>
<tr class="separator:a9295612e35a396392266323acdc81dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ae56b622fda44f41268a77f0c741b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab3ae56b622fda44f41268a77f0c741b6">forced_run</a> (void)</td></tr>
<tr class="separator:ab3ae56b622fda44f41268a77f0c741b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234b7c94fe4c16fc0f7c48e5315336a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a234b7c94fe4c16fc0f7c48e5315336a3">respond_to_ground</a> (void)</td></tr>
<tr class="separator:a234b7c94fe4c16fc0f7c48e5315336a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0685a3a987cbf4054b3384ea2bbc9f77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0685a3a987cbf4054b3384ea2bbc9f77">leave_movable_contact_for_air</a> (<a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;horizontal_vel, float &amp;vertical_vel)</td></tr>
<tr class="separator:a0685a3a987cbf4054b3384ea2bbc9f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58f7b399f7916c8163144517735396f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa58f7b399f7916c8163144517735396f">jump</a> (float strength)</td></tr>
<tr class="separator:aa58f7b399f7916c8163144517735396f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f0fa105388082f285ceba337dc1c6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a15f0fa105388082f285ceba337dc1c6e">set_state</a> (<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a> <a class="el" href="../../d6/d01/p__ezcommon_8h.html#a89f234133d3efe315836311cbf21c64b">state</a>)</td></tr>
<tr class="separator:a15f0fa105388082f285ceba337dc1c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4d3901b156a73bf1bb051760997d22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0e4d3901b156a73bf1bb051760997d22">control_horizontal_vel</a> (void)</td></tr>
<tr class="separator:a0e4d3901b156a73bf1bb051760997d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72cbc04a4cdedc5488591e4324d75893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a72cbc04a4cdedc5488591e4324d75893">check_for_landing</a> (const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;previous_pos, const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;final_pos)</td></tr>
<tr class="separator:a72cbc04a4cdedc5488591e4324d75893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0ad3e475c01e1b028f095b65e9ead8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a7d0ad3e475c01e1b028f095b65e9ead8">adjust_vertical_vel_for_ceiling</a> (void)</td></tr>
<tr class="separator:a7d0ad3e475c01e1b028f095b65e9ead8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b3d9187e5aef6752918a0dfa58f2d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a18b3d9187e5aef6752918a0dfa58f2d2">position_rider</a> (void)</td></tr>
<tr class="separator:a18b3d9187e5aef6752918a0dfa58f2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296fc3862b9f780a6d584ae4cf357c39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a296fc3862b9f780a6d584ae4cf357c39">do_path_following</a> (void)</td></tr>
<tr class="separator:a296fc3862b9f780a6d584ae4cf357c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520cb46268fd3772798a1ec95879a609"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a520cb46268fd3772798a1ec95879a609">switch_to_node_based_path_following</a> (void)</td></tr>
<tr class="separator:a520cb46268fd3772798a1ec95879a609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be8119bc88d7dcf8cf1a1e985536b5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4be8119bc88d7dcf8cf1a1e985536b5a">cleanup_node_based_path_following</a> (void)</td></tr>
<tr class="separator:a4be8119bc88d7dcf8cf1a1e985536b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85dafed941e2aabbb56616f7d8c27457"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a85dafed941e2aabbb56616f7d8c27457">do_node_based_path_following</a> (void)</td></tr>
<tr class="separator:a85dafed941e2aabbb56616f7d8c27457"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Закрытые статические члены</h2></td></tr>
<tr class="memitem:a3ca7bae875d04b499bb9342406afd285"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a> (<a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> checksum)</td></tr>
<tr class="separator:a3ca7bae875d04b499bb9342406afd285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Закрытые данные</h2></td></tr>
<tr class="memitem:a4ed447d1bc5b8bb8cca4699871f89afe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d6d/class_obj_1_1_c_nav_node.html">Obj::CNavNode</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a></td></tr>
<tr class="separator:a4ed447d1bc5b8bb8cca4699871f89afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1660cfa11640dd51f56cfea18d9a1e77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a></td></tr>
<tr class="separator:a1660cfa11640dd51f56cfea18d9a1e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7dcd82c7e498f358fe34a9a7a62719"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">m_orientation_matrix</a></td></tr>
<tr class="separator:abc7dcd82c7e498f358fe34a9a7a62719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf85e1d7ff5c9b2cd6b7565d557492a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acf85e1d7ff5c9b2cd6b7565d557492a0">m_vel</a></td></tr>
<tr class="separator:acf85e1d7ff5c9b2cd6b7565d557492a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c560305a859a216b55438943ed6a2f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4c560305a859a216b55438943ed6a2f5">m_rotvel</a></td></tr>
<tr class="separator:a4c560305a859a216b55438943ed6a2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5f09aa2859eeadd4dbe7668b305d99"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1e5f09aa2859eeadd4dbe7668b305d99">m_time_step</a></td></tr>
<tr class="separator:a1e5f09aa2859eeadd4dbe7668b305d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d619dfe8072af194b10960aa731e9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d4f/class_nx_1_1_c_coll_cache.html">Nx::CCollCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a84d619dfe8072af194b10960aa731e9a">m_collision_cache</a></td></tr>
<tr class="separator:a84d619dfe8072af194b10960aa731e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7654ed1caca61f20f51cca41703cdd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a></td></tr>
<tr class="separator:ac7654ed1caca61f20f51cca41703cdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8d7cbff2b850f1b0a15a7ee2113929"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dc6/class_obj_1_1_c_skeleton_component.html">CSkeletonComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aea8d7cbff2b850f1b0a15a7ee2113929">mp_skeleton_component</a></td></tr>
<tr class="separator:aea8d7cbff2b850f1b0a15a7ee2113929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49da17c42ce47542798fd689e0bb20b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d0b/class_obj_1_1_c_input_component.html">CInputComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a></td></tr>
<tr class="separator:a49da17c42ce47542798fd689e0bb20b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae02a61a08b82c88a407680ac9ee301b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d52/class_obj_1_1_c_model_component.html">CModelComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ae02a61a08b82c88a407680ac9ee301b9">mp_model_component</a></td></tr>
<tr class="separator:ae02a61a08b82c88a407680ac9ee301b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7367b4dbf0d906de55223f80214cc10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d4f/class_obj_1_1_c_animation_component.html">CAnimationComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">mp_animation_component</a></td></tr>
<tr class="separator:ad7367b4dbf0d906de55223f80214cc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a960917160e0041834701b686992e56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html">CMovableContactComponent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a></td></tr>
<tr class="separator:a3a960917160e0041834701b686992e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2688f88799eacea3a91856192b81213"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">m_draw_debug_lines</a></td></tr>
<tr class="separator:ab2688f88799eacea3a91856192b81213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f125ceaa454854050fff6d3e6ba01f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html">Obj::CHorseComponent::SContact</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a> [<a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a>+1]</td></tr>
<tr class="separator:a03f125ceaa454854050fff6d3e6ba01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645c3eba97066f8e5b7b732d61970efc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a></td></tr>
<tr class="separator:a645c3eba97066f8e5b7b732d61970efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f969e8e8ff1528348df4f346e404524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a></td></tr>
<tr class="separator:a2f969e8e8ff1528348df4f346e404524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268710747967afa32520d96f2690d10f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a268710747967afa32520d96f2690d10f">m_path_follow_panic_counter</a></td></tr>
<tr class="separator:a268710747967afa32520d96f2690d10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791914ebbbcf422ca69eb788fe8e2a5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a791914ebbbcf422ca69eb788fe8e2a5e">m_offset_due_to_movable_contact</a></td></tr>
<tr class="separator:a791914ebbbcf422ca69eb788fe8e2a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2ed400ca2abf5595616eaaf4590659"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a></td></tr>
<tr class="separator:afb2ed400ca2abf5595616eaaf4590659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0b1625c95465cc6f754e18457e8d4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a6c0b1625c95465cc6f754e18457e8d4e">m_state_timestamp</a></td></tr>
<tr class="separator:a6c0b1625c95465cc6f754e18457e8d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c9b431981a160eb30b0b16de79c427"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a00c9b431981a160eb30b0b16de79c427">m_previous_state</a></td></tr>
<tr class="separator:a00c9b431981a160eb30b0b16de79c427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad859c08a42f7bd1380c731a68ddd5409"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad859c08a42f7bd1380c731a68ddd5409">m_run_toggle</a></td></tr>
<tr class="separator:ad859c08a42f7bd1380c731a68ddd5409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6e955e1be2ccb0f109b8fbe654d9bb"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html">Obj::CHorseComponent::SWallPushTest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">m_wall_push_test</a></td></tr>
<tr class="separator:a9f6e955e1be2ccb0f109b8fbe654d9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd11717108995d82557a47739f204a6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a></td></tr>
<tr class="separator:acd11717108995d82557a47739f204a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2463e61d0db12bc45f96efb73687ed9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2463e61d0db12bc45f96efb73687ed9">m_display_slerp_matrix</a></td></tr>
<tr class="separator:af2463e61d0db12bc45f96efb73687ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec5dcf8848567bc983ce216b1fb8a7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d4f/class_nx_1_1_c_coll_cache.html">Nx::CCollCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aaec5dcf8848567bc983ce216b1fb8a7e">mp_collision_cache</a></td></tr>
<tr class="separator:aaec5dcf8848567bc983ce216b1fb8a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcd877d68b0312085e29ed435160049"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aafcd877d68b0312085e29ed435160049">m_anim_standard_speed</a></td></tr>
<tr class="separator:aafcd877d68b0312085e29ed435160049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c30a22155bf0d3064e9d34bdd13909d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d35/class_c_feeler.html">CFeeler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2c30a22155bf0d3064e9d34bdd13909d">m_last_ground_feeler</a></td></tr>
<tr class="separator:a2c30a22155bf0d3064e9d34bdd13909d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84072be5eb62670856d8a10b7b8ebe4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af84072be5eb62670856d8a10b7b8ebe4">m_last_ground_feeler_valid</a></td></tr>
<tr class="separator:af84072be5eb62670856d8a10b7b8ebe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39bfaf9d71ff11f585dabf3fe6d7981"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a></td></tr>
<tr class="separator:ac39bfaf9d71ff11f585dabf3fe6d7981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c9b59420a78371ae35b889eab337c4"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a></td></tr>
<tr class="separator:a05c9b59420a78371ae35b889eab337c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade402090858c43cc50c80e5aac596f1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a></td></tr>
<tr class="separator:ade402090858c43cc50c80e5aac596f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86230cd5bfb38e34882e2c0a67d03f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a></td></tr>
<tr class="separator:aa86230cd5bfb38e34882e2c0a67d03f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8f15a35a895b3bca81772a975165cd"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a></td></tr>
<tr class="separator:a0c8f15a35a895b3bca81772a975165cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67379111faebd5c9a2f63e2ff4c19e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a></td></tr>
<tr class="separator:aa67379111faebd5c9a2f63e2ff4c19e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb10b9131cddad8dad301641d69516a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a></td></tr>
<tr class="separator:adb10b9131cddad8dad301641d69516a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3276e0b0bd8e16fc242192e815efd9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a></td></tr>
<tr class="separator:a5d3276e0b0bd8e16fc242192e815efd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4475ec0cb1bde8a041467bfa5c812f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574">EAnimScaleSpeed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aaf4475ec0cb1bde8a041467bfa5c812f">m_anim_scale_speed</a></td></tr>
<tr class="separator:aaf4475ec0cb1bde8a041467bfa5c812f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4b10e35b8087f9defbb19494ed06a4"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a></td></tr>
<tr class="separator:a3f4b10e35b8087f9defbb19494ed06a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b54c339660433227f0726b5874dded5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4b54c339660433227f0726b5874dded5">m_script_drag_factor</a></td></tr>
<tr class="separator:a4b54c339660433227f0726b5874dded5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17bba0ddceec7f3e5ba4db55737234c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a></td></tr>
<tr class="separator:ac17bba0ddceec7f3e5ba4db55737234c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5067bdecae5a4c6bc3546f965e0ede4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a></td></tr>
<tr class="separator:a5067bdecae5a4c6bc3546f965e0ede4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f36f3ca0047082c886ff25774a778f8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a></td></tr>
<tr class="separator:a8f36f3ca0047082c886ff25774a778f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7a91b61ffc1e0151fe389d6646ffd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0b7a91b61ffc1e0151fe389d6646ffd0">m_control_pegged</a></td></tr>
<tr class="separator:a0b7a91b61ffc1e0151fe389d6646ffd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42691c714a6d598e63dc3cb4f4bc1b20"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42691c714a6d598e63dc3cb4f4bc1b20">m_dpad_used_last_frame</a></td></tr>
<tr class="separator:a42691c714a6d598e63dc3cb4f4bc1b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45d9d0009a4fdd62593fec959814857"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab45d9d0009a4fdd62593fec959814857">m_dpad_use_time_stamp</a></td></tr>
<tr class="separator:ab45d9d0009a4fdd62593fec959814857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341c9856f38249f111e3b6143c13ed46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">m_frame_start_pos</a></td></tr>
<tr class="separator:a341c9856f38249f111e3b6143c13ed46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805909289bc62e5fc281cf10b816d90c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a></td></tr>
<tr class="separator:a805909289bc62e5fc281cf10b816d90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dad4829a6afdef24be5efa0efa99512"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0dad4829a6afdef24be5efa0efa99512">m_last_frame_event</a></td></tr>
<tr class="separator:a0dad4829a6afdef24be5efa0efa99512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a879a1592db1c2ed0b8050080fa1cc0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a879a1592db1c2ed0b8050080fa1cc0">m_forward_control_lock</a></td></tr>
<tr class="separator:a0a879a1592db1c2ed0b8050080fa1cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28cd0da7b8b7892abb5a0b0de938ef7e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a></td></tr>
<tr class="separator:a28cd0da7b8b7892abb5a0b0de938ef7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218bf9f1a17ec98f8efa23b0719a6761"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a218bf9f1a17ec98f8efa23b0719a6761">m_curb_float_height_adjusted</a></td></tr>
<tr class="separator:a218bf9f1a17ec98f8efa23b0719a6761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Закрытые статические данные</h2></td></tr>
<tr class="memitem:acbb45c0410a14cdc4798ad3806fba5a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dc3/struct_obj_1_1_c_horse_component_1_1_s_collision_point.html">SCollisionPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acbb45c0410a14cdc4798ad3806fba5a5">sp_collision_points</a> [4 *(<a class="el" href="../../d1/d06/namespace_nx.html#a8cee332002d03049c6b1848755d70e30">Nx::MAX_NUM_2D_COLLISIONS_REPORTED</a>+1)]</td></tr>
<tr class="separator:acbb45c0410a14cdc4798ad3806fba5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Дополнительные унаследованные члены</h2></td></tr>
<tr class="inherit_header pub_types_class_obj_1_1_c_base_component"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_obj_1_1_c_base_component')"><img src="../../closed.png" alt="-"/>&#160;Открытые типы унаследованные от <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">Obj::CBaseComponent</a></td></tr>
<tr class="memitem:aa8c2bbc27a0427b6a123d66f308c77b6 inherit pub_types_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6">EMemberFunctionResult</a> { <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6abcf1143afd4522b3edc277761a8d4ec1">MF_FALSE</a> = 0, 
<a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a44e542d6bb5fb42896e92fcc5e78b056">MF_TRUE</a> = 1, 
<a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a56171927079158674d748a0593274357">MF_NOT_EXECUTED</a> = 2
 }</td></tr>
<tr class="separator:aa8c2bbc27a0427b6a123d66f308c77b6 inherit pub_types_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79521339540f0b968793da129490c84d inherit pub_types_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a79521339540f0b968793da129490c84d">EBaseComponentFlags</a> { <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a79521339540f0b968793da129490c84dad4de607def475bcd3e5c51a74d8cac7a">BC_NO_UPDATE</a>
 }</td></tr>
<tr class="separator:a79521339540f0b968793da129490c84d inherit pub_types_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_obj_1_1_c_base_component"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_obj_1_1_c_base_component')"><img src="../../closed.png" alt="-"/>&#160;Защищенные члены унаследованные от <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">Obj::CBaseComponent</a></td></tr>
<tr class="memitem:a880a8b9b7ec5b22563c6821ae0f1903e inherit pro_methods_class_obj_1_1_c_base_component"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a880a8b9b7ec5b22563c6821ae0f1903e">SetType</a> (<a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="el" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr class="separator:a880a8b9b7ec5b22563c6821ae0f1903e inherit pro_methods_class_obj_1_1_c_base_component"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock">
<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00045">45</a></p>
</div><h2 class="groupheader">Перечисления</h2>
<a id="a43cf16df806a58f65c6d02231877e1a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43cf16df806a58f65c6d02231877e1a2">&#9670;&nbsp;</a></span>EStateType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">Obj::CHorseComponent::EStateType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Элементы перечислений</th></tr><tr><td class="fieldname"><a id="a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4"></a>WALKING_GROUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573"></a>WALKING_AIR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43cf16df806a58f65c6d02231877e1a2ab6314caadf83adab1ccd3035b037f42e"></a>WALKING_HOP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43cf16df806a58f65c6d02231877e1a2a2ba63dbd91919b88fa2ba64d3ffb91cb"></a>WALKING_HANG&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43cf16df806a58f65c6d02231877e1a2a06dfcc14ad7c34a4370178f7db8ae9d1"></a>WALKING_LADDER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66"></a>WALKING_ANIMWAIT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00047">47</a></p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2ab6314caadf83adab1ccd3035b037f42e">WALKING_HOP</a>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a2ba63dbd91919b88fa2ba64d3ffb91cb">WALKING_HANG</a>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a06dfcc14ad7c34a4370178f7db8ae9d1">WALKING_LADDER</a>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66">WALKING_ANIMWAIT</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<a id="adbf7f70967c6ecbb67dd266df82a9574"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf7f70967c6ecbb67dd266df82a9574">&#9670;&nbsp;</a></span>EAnimScaleSpeed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574">Obj::CHorseComponent::EAnimScaleSpeed</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Элементы перечислений</th></tr><tr><td class="fieldname"><a id="adbf7f70967c6ecbb67dd266df82a9574a805216bbae42adb502b80c2e617f7888"></a>OFF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adbf7f70967c6ecbb67dd266df82a9574a67d214c15356499d3f04159975968c1c"></a>RUNNING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adbf7f70967c6ecbb67dd266df82a9574a963d619887b6615ef89c1711effe2612"></a>HANGMOVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adbf7f70967c6ecbb67dd266df82a9574ab83b05580bb36a4f6c7169e222b4a03d"></a>LADDERMOVE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00057">57</a></p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a805216bbae42adb502b80c2e617f7888">OFF</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a67d214c15356499d3f04159975968c1c">RUNNING</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a963d619887b6615ef89c1711effe2612">HANGMOVE</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574ab83b05580bb36a4f6c7169e222b4a03d">LADDERMOVE</a></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a42ad9d6c42c57e29739a5c156999e1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ad9d6c42c57e29739a5c156999e1f7">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Элементы перечислений</th></tr><tr><td class="fieldname"><a id="a42ad9d6c42c57e29739a5c156999e1f7a0af76c3852ed91d7577d85006d309e3b"></a>vVP_NUM_WHEELS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00066">66</a></p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{ <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42ad9d6c42c57e29739a5c156999e1f7a0af76c3852ed91d7577d85006d309e3b">vVP_NUM_WHEELS</a> = 4 };</div>
</div><!-- fragment -->
</div>
</div>
<a id="afed6456ddcfbb0d76ccf6d1cb24a5732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed6456ddcfbb0d76ccf6d1cb24a5732">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Элементы перечислений</th></tr><tr><td class="fieldname"><a id="afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e"></a>vNUM_FEELERS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afed6456ddcfbb0d76ccf6d1cb24a5732a027417afd5c775739d5338dd81609f5f"></a>vNUM_BARRIER_HEIGHT_FEELERS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00214">214</a></p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> = 7,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a027417afd5c775739d5338dd81609f5f">vNUM_BARRIER_HEIGHT_FEELERS</a> = 7</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Конструктор(ы)</h2>
<a id="a7bd2141ef131ad1e64ec869978ce3351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd2141ef131ad1e64ec869978ce3351">&#9670;&nbsp;</a></span>CHorseComponent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Obj::CHorseComponent::CHorseComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">92</a></p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                 : <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#afeb0666533cc55fc8db1c49054a79c90">CBaseComponent</a>()</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a880a8b9b7ec5b22563c6821ae0f1903e">SetType</a>( CRC_HORSE );</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a>              = NULL;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">mp_animation_component</a>          = NULL;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>    = NULL;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aaec5dcf8848567bc983ce216b1fb8a7e">mp_collision_cache</a> = <a class="code" href="../../d3/d8f/class_nx_1_1_c_coll_cache_manager.html#ae2812510fb736b3f4b87690a2fa23a37">Nx::CCollCacheManager::sCreateCollCache</a>();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">m_draw_debug_lines</a> = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a>                        = NULL;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acf85e1d7ff5c9b2cd6b7565d557492a0">m_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>( 0.0f, 0.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>( 0.0f, 1.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>( 0.0f, 0.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>                 = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a>             = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">m_orientation_matrix</a>.<a class="code" href="../../d9/d37/class_mth_1_1_matrix.html#a06a07c27b6ed6a037b5dfaaeb5ba6cb2">Ident</a>();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/d28/matrix_8inl_source.html#l00043">Mth::Matrix::Ident()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00350">m_control_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00207">m_draw_debug_lines</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00166">m_orientation_matrix</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00245">m_primary_air_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00248">m_uncontrollable_air_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00332">m_upward</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00169">m_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00203">mp_animation_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00314">mp_collision_cache</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00201">mp_input_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">mp_rider</a>, <a class="el" href="../../d5/d09/_coll_cache_8cpp_source.html#l00268">Nx::CCollCacheManager::sCreateCollCache()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a> и <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00077">Obj::CBaseComponent::SetType()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00082">s_create()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a7bd2141ef131ad1e64ec869978ce3351_cgraph.svg" width="382" height="222"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a7bd2141ef131ad1e64ec869978ce3351_icgraph.svg" width="634" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0bba57059fff618b2cb9baed0069b6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bba57059fff618b2cb9baed0069b6d6">&#9670;&nbsp;</a></span>~CHorseComponent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Obj::CHorseComponent::~CHorseComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00120">120</a></p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Методы</h2>
<a id="a8b02ae16feb2fafb4a25635c856801c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b02ae16feb2fafb4a25635c856801c6">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::Update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Замещает <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a58ec5a042f169d14c2f41062ff15b8a9">Obj::CBaseComponent</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">196</a></p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// zero the frame event</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0dad4829a6afdef24be5efa0efa99512">m_last_frame_event</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = 0;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// get input</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a276a813f19ac77b4ae5684cd35ae4695">get_controller_input</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// extract initial state for this frame from the object</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">m_frame_start_pos</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#addf10ff084fa457e293e69afe013ee4c">GetPos</a>();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// note that m_facing and m_upward will often not be orthogonal, but will always span a plan</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// generally straight up, but now after a transition from skating</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a18d374784f1787eb7b22b92a84084dfc">GetMatrix</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a18d374784f1787eb7b22b92a84084dfc">GetMatrix</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordtype">float</span> length = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a88ad2190dc8bba653fc442dfed7c033a">Length</a>();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (length &lt; 0.001f)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// upward facing orientation matrix</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> = -<a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a18d374784f1787eb7b22b92a84084dfc">GetMatrix</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="comment">// since m_upward is now in the same plan as m_facing, push m_upward up a touch</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += 0.01f;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> /= length;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// Set the frame length.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a> = <a class="code" href="../../d1/d0d/namespace_tmr.html#a3560bd3134b7b29bed7013950d91ad06">Tmr::FrameLength</a>();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// go to our true Y position</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a218bf9f1a17ec98f8efa23b0719a6761">m_curb_float_height_adjusted</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] -= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// switch logic based on walking state</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acb4ca5507c65a1b5b968552d62cb6490">go_on_ground_state</a>();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a19d622352d277c36ae1b44ac1690f430">go_in_air_state</a>();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                                      </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2ab6314caadf83adab1ccd3035b037f42e">WALKING_HOP</a>:</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//          go_hop_state();</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                                                      </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a2ba63dbd91919b88fa2ba64d3ffb91cb">WALKING_HANG</a>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//          go_hang_state();</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a06dfcc14ad7c34a4370178f7db8ae9d1">WALKING_LADDER</a>:</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">//          go_ladder_state();</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66">WALKING_ANIMWAIT</a>:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//          go_anim_wait_state();</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// the there&#39;s no curb to adjust due to, lerp down to zero</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a218bf9f1a17ec98f8efa23b0719a6761">m_curb_float_height_adjusted</a>)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a> = <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a>, 0.0f, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x9b3388fa, <span class="stringliteral">&quot;curb_float_lerp_down_rate&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// adjust back to our curb float Y position</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// scripts may have restarted us / switched us to skating</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">//  if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// Keep the object from falling through holes in the geometry.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> || <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a> )</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a85bd320ee1e00de0354957925b6ec854">uber_frig</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// rotate to upright</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5bd8dffec048b96240ca168a1984ed53">lerp_upright</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// setup the object based on this frame&#39;s walking</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2ee2b8f420b2d3c3b32b0ca8757e0e08">copy_state_into_object</a>();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// Position the rider correctly, if one exists.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a18b3d9187e5aef6752918a0dfa58f2d2">position_rider</a>();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    Dbg_Assert(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../df/dde/class_obj_1_1_c_object.html#a4eb63ba2d07ba494d8bbaf4729f2fc68">SelfEvent</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// set the animation speeds</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/*  switch (m_anim_scale_speed)</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">        case RUNNING:</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">            if (m_anim_standard_speed &gt; 0.0f)</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">                mp_animation_component-&gt;SetAnimSpeed(m_anim_effective_speed / m_anim_standard_speed, false, false);</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">            </span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">        case HANGMOVE:</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">            mp_animation_component-&gt;SetAnimSpeed(m_anim_effective_speed / s_get_param(CRCD(0xd77ee881, &quot;hang_move_speed&quot;)), false, false);</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">                    </span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">        case LADDERMOVE:</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">            mp_animation_component-&gt;SetAnimSpeed(m_anim_effective_speed / s_get_param(CRCD(0xab2db54, &quot;ladder_move_speed&quot;)), false, false);</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">        default:</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// camera controls</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// NOTE: script parameters</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    switch (m_frame_event)</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">        case CRCC(0xf41aba21, &quot;Hop&quot;):</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">            mp_camera_component-&gt;SetOverrides(m_facing, 0.05f);</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">        </span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">        case CRCC(0x2d9815c3, &quot;HangMoveLeft&quot;):</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">            Mth::Vector facing = m_facing;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">            facing.RotateY(-0.95f);</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">            mp_camera_component-&gt;SetOverrides(facing, 0.05f);</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">            </span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">        case CRCC(0x279b1f0b, &quot;HangMoveRight&quot;):</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">            Mth::Vector facing = m_facing;</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">            facing.RotateY(0.95f);</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">            mp_camera_component-&gt;SetOverrides(facing, 0.05f);</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">                    </span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">        case CRCC(0x4194ecca, &quot;Hang&quot;):</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">            mp_camera_component-&gt;SetOverrides(m_facing, 0.05f);</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">        </span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">        case CRCC(0xc84243da, &quot;Ladder&quot;):</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">        case CRCC(0xaf5abc82, &quot;LadderMoveUp&quot;):</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">        case CRCC(0xfec9dded, &quot;LadderMoveDown&quot;):</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">            mp_camera_component-&gt;SetOverrides(m_facing, 0.05f);</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">                    </span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">        case CRCC(0x4fe6069c, &quot;AnimWait&quot;):</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">            if (m_anim_wait_camera_mode == AWC_CURRENT)</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">                mp_camera_component-&gt;SetOverrides(m_facing, 0.05f);</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">            else</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">                mp_camera_component-&gt;SetOverrides(m_drift_goal_facing, 0.05f);</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">        default:</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">            mp_camera_component-&gt;UnsetOverrides();</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../dd/d41/ngc_2p__timer_8cpp_source.html#l00430">Tmr::FrameLength()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00091">Obj::CCompositeObject::GetMatrix()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00089">Obj::CCompositeObject::GetPos()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00107">Obj::CCompositeObject::GetVel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00398">Mth::Vector::Length()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00214">Mth::Lerp()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01476">lerp_upright()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00373">m_curb_float_height</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00376">m_curb_float_height_adjusted</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">m_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00361">m_frame_start_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00367">m_last_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00332">m_upward</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01890">position_rider()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d3/d30/object_8cpp_source.html#l00927">Obj::CObject::SelfEvent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00054">WALKING_ANIMWAIT</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00052">WALKING_HANG</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00051">WALKING_HOP</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00053">WALKING_LADDER</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a8b02ae16feb2fafb4a25635c856801c6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af613aa46b1893ca41c3fcf935b1ef60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af613aa46b1893ca41c3fcf935b1ef60e">&#9670;&nbsp;</a></span>InitFromStructure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::InitFromStructure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *&#160;</td>
          <td class="paramname"><em>pParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Замещает <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aeebbda34fbc57d6fd4d1ef97d8f2672d">Obj::CBaseComponent</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">128</a></p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4b54c339660433227f0726b5874dded5">m_script_drag_factor</a>    = 1.0f;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// extract constant parameters from struct; parameters not included in the script are left unchanged</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// toggles through the debug line drawing states</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (pParams-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(CRCD(0x935ab858, <span class="stringliteral">&quot;debug&quot;</span>)))</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">m_draw_debug_lines</a> = ++<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">m_draw_debug_lines</a> % 3;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pParams-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(CRCD(0x751da48b, <span class="stringliteral">&quot;no_debug&quot;</span>)))</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">m_draw_debug_lines</a> = 0;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#addf10ff084fa457e293e69afe013ee4c">GetPos</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span>( pParams-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a847c66d2b9ed99bc36489dca616f1e70">ContainsComponentNamed</a>(CRCD(0x7f261953, <span class="stringliteral">&quot;pos&quot;</span> )))</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        pParams-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a40dfb370c37d6da857f33157b2b3bfc7">GetVector</a>(CRCD(0x7f261953, <span class="stringliteral">&quot;pos&quot;</span>), &amp;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a470af772feeecb623ea29dee9f4c2c3f">SetPos</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// Grab a pointer to the skeleton.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aea8d7cbff2b850f1b0a15a7ee2113929">mp_skeleton_component</a> = <span class="keyword">static_cast&lt;</span> CSkeletonComponent* <span class="keyword">&gt;</span>(<a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#abdda76d2430386ad7af08f3a033dac99">GetComponent</a>(CRC_SKELETON));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aea8d7cbff2b850f1b0a15a7ee2113929">mp_skeleton_component</a>, (<span class="stringliteral">&quot;HorseComponent has no peer skeleton component.&quot;</span>));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d5/d98/struct_8cpp_source.html#l01759">Script::CStruct::ContainsComponentNamed()</a>, <a class="el" href="../../d5/d98/struct_8cpp_source.html#l01846">Script::CStruct::ContainsFlag()</a>, <a class="el" href="../../d7/d95/compositeobject_8cpp_source.html#l00579">Obj::CCompositeObject::GetComponent()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00089">Obj::CCompositeObject::GetPos()</a>, <a class="el" href="../../d5/d98/struct_8cpp_source.html#l01535">Script::CStruct::GetVector()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00207">m_draw_debug_lines</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00344">m_script_drag_factor</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00200">mp_skeleton_component</a> и <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00090">Obj::CCompositeObject::SetPos()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00161">RefreshFromStructure()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_af613aa46b1893ca41c3fcf935b1ef60e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_af613aa46b1893ca41c3fcf935b1ef60e_icgraph.svg" width="583" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8b5f4642490919591aa63c2d3d7715e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5f4642490919591aa63c2d3d7715e0">&#9670;&nbsp;</a></span>RefreshFromStructure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::RefreshFromStructure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *&#160;</td>
          <td class="paramname"><em>pParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a2c708b557a93245c0c39931a03bac6c5">Obj::CBaseComponent</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00161">161</a></p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af613aa46b1893ca41c3fcf935b1ef60e">InitFromStructure</a>( pParams );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">InitFromStructure()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a8b5f4642490919591aa63c2d3d7715e0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a8b5f4642490919591aa63c2d3d7715e0_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a75b7d26db41ff7205f84d3315f317eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b7d26db41ff7205f84d3315f317eec">&#9670;&nbsp;</a></span>Finalize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::Finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a7a7ea806f07a5bcc4292e68f4deca350">Obj::CBaseComponent</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">172</a></p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ae02a61a08b82c88a407680ac9ee301b9">mp_model_component</a>              = GetModelComponentFromObject( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>());</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a>              = GetInputComponentFromObject( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>());</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">mp_animation_component</a>          = GetAnimationComponentFromObject( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>());</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>    = GetMovableContactComponentFromObject( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>());</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    Dbg_Assert( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ae02a61a08b82c88a407680ac9ee301b9">mp_model_component</a> );</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    Dbg_Assert( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a> );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    Dbg_Assert( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">mp_animation_component</a> );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    Dbg_Assert( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a> );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Enable blending for the Horse by default.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">mp_animation_component</a>-&gt;<a class="code" href="../../d3/d4f/class_obj_1_1_c_animation_component.html#a8371d0b00a707a11e7c2df11bf5d9510">EnableBlending</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2463e61d0db12bc45f96efb73687ed9">m_display_slerp_matrix</a> = <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a18d374784f1787eb7b22b92a84084dfc">GetMatrix</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01592">Obj::CAnimationComponent::EnableBlending()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00091">Obj::CCompositeObject::GetMatrix()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00311">m_display_slerp_matrix</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00203">mp_animation_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00201">mp_input_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00202">mp_model_component</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a75b7d26db41ff7205f84d3315f317eec_cgraph.svg" width="400" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a75b7d26db41ff7205f84d3315f317eec_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1af9c3079e3758756137ca3d89199f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af9c3079e3758756137ca3d89199f5f">&#9670;&nbsp;</a></span>CallMemberFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6">CBaseComponent::EMemberFunctionResult</a> Obj::CHorseComponent::CallMemberFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>Checksum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *&#160;</td>
          <td class="paramname"><em>pParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/df2/class_script_1_1_c_script.html">Script::CScript</a> *&#160;</td>
          <td class="paramname"><em>pScript</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a9a4f0d1dd6c2937941fe179ce03b4c53">Obj::CBaseComponent</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">383</a></p>
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">switch</span> ( Checksum )</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// @script | Walk_Ground |</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">case</span> CRCC( 0x893213e5, <span class="stringliteral">&quot;Walk_Ground&quot;</span> ):</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> ? <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a44e542d6bb5fb42896e92fcc5e78b056">CBaseComponent::MF_TRUE</a> : <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6abcf1143afd4522b3edc277761a8d4ec1">CBaseComponent::MF_FALSE</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">case</span> CRCC( 0x88bd4924, <span class="stringliteral">&quot;Horse_GetSpeedScale&quot;</span> ):</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> checksum;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD(0xf3649996, <span class="stringliteral">&quot;max_slow_walk_speed&quot;</span>)))</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                checksum = CRCD(0x20c5a299,<span class="stringliteral">&quot;HORSE_WALK&quot;</span>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD(0x6a5805d8, <span class="stringliteral">&quot;max_fast_walk_speed&quot;</span>)))</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                checksum = CRCD(0x8a354e68,<span class="stringliteral">&quot;HORSE_TROT&quot;</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD(0x1c94cc9c, <span class="stringliteral">&quot;max_slow_run_speed&quot;</span>)))</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                checksum = CRCD(0x1bee30eb,<span class="stringliteral">&quot;HORSE_CANTER&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                checksum = CRCD(0x2ca2c118,<span class="stringliteral">&quot;HORSE_GALLOP&quot;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            pScript-&gt;<a class="code" href="../../db/df2/class_script_1_1_c_script.html#a95b75cd110a15699d07bef528f96d7aa">GetParams</a>()-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a148f8f6bc239cff60340c410df449c71">AddChecksum</a>( CRCD( 0x92c388f, <span class="stringliteral">&quot;SpeedScale&quot;</span> ), checksum );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">// @script | Horse_Jump |</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">case</span> CRCC( 0xae7deda, <span class="stringliteral">&quot;Horse_Jump&quot;</span> ):</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="comment">// Jump strength scales with the length the jump button has been held.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa58f7b399f7916c8163144517735396f">jump</a>( <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0x246d0bf3, <span class="stringliteral">&quot;min_jump_factor&quot;</span> )), 1.0f, <a class="code" href="../../d5/db9/namespace_mth.html#a7605206f9d659981632c4d485ffb6a6b">Mth::ClampMax</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a>-&gt;<a class="code" href="../../db/d0b/class_obj_1_1_c_input_component.html#a74e410efa46e9592d9f39c84ee85adf1">GetControlPad</a>().<a class="code" href="../../de/d49/class_c_skater_pad.html#acacdfcec7b1baa226b85f7ea3f8461ef">m_x</a>.<a class="code" href="../../da/dd9/class_c_skater_button.html#a345702274dac5d99497f6f2ce2616dba">GetPressedTime</a>() / <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0x12333ebd, <span class="stringliteral">&quot;hold_time_for_max_jump&quot;</span> )), 1.0f )));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="comment">// @script | Vehicle_Kick | kicks the vehicle with a force and torque</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">case</span> CRCC(0x93b713a6, <span class="stringliteral">&quot;Vehicle_Kick&quot;</span>):</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">// @script : Vehicle_Reset | reset any parameters of the vehicle</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">case</span> CRCC(0xcdcdc05e, <span class="stringliteral">&quot;Vehicle_Reset&quot;</span>):</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b5f4642490919591aa63c2d3d7715e0">RefreshFromStructure</a>(pParams);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a75b7d26db41ff7205f84d3315f317eec">Finalize</a>();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">// @script : Vehicle_MoveToRestart | teleport the vehicle to the restart node</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">case</span> CRCC(0x4b0b27dd, <span class="stringliteral">&quot;Vehicle_MoveToRestart&quot;</span>):</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> node_name_checksum;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            pParams-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">GetChecksum</a>(NO_NAME, &amp;node_name_checksum, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a96b60d6878f23321bf9c97b1f120da38">MoveToNode</a>(<a class="code" href="../../de/dd2/namespace_skate_script.html#a3c1cee7fcc78114109258e17c1802707">SkateScript::GetNode</a>(<a class="code" href="../../de/dd2/namespace_skate_script.html#acd33f71672324e281bbe2ed96cd4c82d">SkateScript::FindNamedNode</a>(node_name_checksum, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>)));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// @script : Vehicle_PlaceBeforeCamera | moves the object before the active camera</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">case</span> CRCC(0xc33608e4, <span class="stringliteral">&quot;Vehicle_PlaceBeforeCamera&quot;</span>):</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="../../dd/daa/class_gfx_1_1_camera.html">Gfx::Camera</a>* camera = <a class="code" href="../../d0/d19/class_nx_1_1_c_viewport_manager.html#ab261671c2c6af15bf4d3b040c58c8a4b">Nx::CViewportManager::sGetActiveCamera</a>(0);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">if</span> (camera)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&amp; cam_pos = camera-&gt;<a class="code" href="../../dd/daa/class_gfx_1_1_camera.html#ae2af213dc0845ab5e04de4a7f6afa138">GetPos</a>();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <a class="code" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a>&amp; cam_mat = camera-&gt;<a class="code" href="../../dd/daa/class_gfx_1_1_camera.html#ac553ec618b57421feff839fcaf36bdb3">GetMatrix</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> = cam_pos;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> += cam_mat[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] * 12.0f * 12.0f;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> -= cam_mat[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] * 12.0f * 12.0f;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a470af772feeecb623ea29dee9f4c2c3f">SetPos</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">m_orientation_matrix</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = -cam_mat[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>];</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">m_orientation_matrix</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = cam_mat[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">m_orientation_matrix</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = -cam_mat[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a0152254b1ef89dcf96916a708e4b1a0f">SetMatrix</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">m_orientation_matrix</a> );</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a56171927079158674d748a0593274357">CBaseComponent::MF_NOT_EXECUTED</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a44e542d6bb5fb42896e92fcc5e78b056">CBaseComponent::MF_TRUE</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d5/d98/struct_8cpp_source.html#l01071">Script::CStruct::AddChecksum()</a>, <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00187">Mth::ClampMax()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">Finalize()</a>, <a class="el" href="../../d2/d8d/nodearray_8cpp_source.html#l00087">SkateScript::FindNamedNode()</a>, <a class="el" href="../../d5/d98/struct_8cpp_source.html#l01658">Script::CStruct::GetChecksum()</a>, <a class="el" href="../../d1/d1a/_input_component_8h_source.html#l00050">Obj::CInputComponent::GetControlPad()</a>, <a class="el" href="../../d1/d6b/camera_8cpp_source.html#l00300">Gfx::Camera::GetMatrix()</a>, <a class="el" href="../../d2/d8d/nodearray_8cpp_source.html#l00803">SkateScript::GetNode()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../de/d7f/script_8h_source.html#l00334">Script::CScript::GetParams()</a>, <a class="el" href="../../d1/d6b/camera_8cpp_source.html#l00280">Gfx::Camera::GetPos()</a>, <a class="el" href="../../d2/d22/_skater_button_8cpp_source.html#l00106">CSkaterButton::GetPressedTime()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00214">Mth::Lerp()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00341">m_anim_effective_speed</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00166">m_orientation_matrix</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00057">CSkaterPad::m_x</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00040">Obj::CBaseComponent::MF_FALSE</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00042">Obj::CBaseComponent::MF_NOT_EXECUTED</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00041">Obj::CBaseComponent::MF_TRUE</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00492">MoveToNode()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00201">mp_input_component</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00161">RefreshFromStructure()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00092">Obj::CCompositeObject::SetMatrix()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00090">Obj::CCompositeObject::SetPos()</a>, <a class="el" href="../../dc/de7/_nx_view_man_8cpp_source.html#l00266">Nx::CViewportManager::sGetActiveCamera()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a1af9c3079e3758756137ca3d89199f5f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1f3393ee0562d2f08556c094e875ceef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3393ee0562d2f08556c094e875ceef">&#9670;&nbsp;</a></span>GetDebugInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::GetDebugInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *&#160;</td>
          <td class="paramname"><em>p_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Переопределяет метод предка <a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html#acb60b78cb120aaaa883df1fd4d4d15bf">Obj::CBaseComponent</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00480">480</a></p>
<div class="fragment"><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    Dbg_MsgAssert(p_info, (<span class="stringliteral">&quot;NULL p_info sent to CHorseComponent::GetDebugInfo&quot;</span>));</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// we call the base component&#39;s GetDebugInfo, so we can add info from the common base component                                      </span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#acb60b78cb120aaaa883df1fd4d4d15bf">CBaseComponent::GetDebugInfo</a>(p_info);     </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d8/dbd/basecomponent_8cpp_source.html#l00113">Obj::CBaseComponent::GetDebugInfo()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a1f3393ee0562d2f08556c094e875ceef_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a638d5c55da73bf90117902328d23d855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638d5c55da73bf90117902328d23d855">&#9670;&nbsp;</a></span>s_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d7e/class_obj_1_1_c_base_component.html">CBaseComponent</a> * Obj::CHorseComponent::s_create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00082">82</a></p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span> <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#afeb0666533cc55fc8db1c49054a79c90">CBaseComponent</a>* <span class="keyword">&gt;</span>( <span class="keyword">new</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a7bd2141ef131ad1e64ec869978ce3351">CHorseComponent</a> );   </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d0/d6d/compositeobjectmanager_8cpp_source.html#l00111">Obj::CCompositeObjectManager::CCompositeObjectManager()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a638d5c55da73bf90117902328d23d855_cgraph.svg" width="588" height="222"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a638d5c55da73bf90117902328d23d855_icgraph.svg" width="427" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a96b60d6878f23321bf9c97b1f120da38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b60d6878f23321bf9c97b1f120da38">&#9670;&nbsp;</a></span>MoveToNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::MoveToNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *&#160;</td>
          <td class="paramname"><em>p_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00492">492</a></p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// move to the position relative to the given node that a ped car would be at</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> restart_pos;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="../../de/dd2/namespace_skate_script.html#a5638e95247d626e24d46bfc5c7d7d068">SkateScript::GetPosition</a>(p_node, &amp;restart_pos);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> restart_angles;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="../../de/dd2/namespace_skate_script.html#ac16f3fc967a7a8d4870b04f339477ea7">SkateScript::GetAngles</a>( p_node, &amp;restart_angles );</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> restart_matrix;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    restart_matrix.<a class="code" href="../../d9/d37/class_mth_1_1_matrix.html#adaae43c8c7e13a62dffa5186f5ef7f0b">SetFromAngles</a>( restart_angles );</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// find ground hieght</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler( restart_pos + <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>( 0.0f, 24.0f, 0.0f, 0.0f ), restart_pos + <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>( 0.0f, -800.0f, 0.0f, 0.0f ));</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (feeler.GetCollision())</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        restart_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = feeler.GetPoint()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// move the car to the restart position and allow it to settle on its suspension</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> = restart_pos;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d8d/nodearray_8cpp_source.html#l00947">SkateScript::GetAngles()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00107">CFeeler::GetPoint()</a>, <a class="el" href="../../d2/d8d/nodearray_8cpp_source.html#l00877">SkateScript::GetPosition()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../dc/d28/matrix_8inl_source.html#l01038">Mth::Matrix::SetFromAngles()</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a96b60d6878f23321bf9c97b1f120da38_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a96b60d6878f23321bf9c97b1f120da38_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4d094b15f7d8dc8eb796a91781ed1851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d094b15f7d8dc8eb796a91781ed1851">&#9670;&nbsp;</a></span>GetPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&amp; Obj::CHorseComponent::GetPos </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00139">139</a></p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#addf10ff084fa457e293e69afe013ee4c">GetPos</a>(); }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a> и <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00089">Obj::CCompositeObject::GetPos()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a>, <a class="el" href="../../de/dfb/_rider_component_8cpp_source.html#l00575">Obj::CRiderComponent::go_on_horse_state()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">setup_collision_cache()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a4d094b15f7d8dc8eb796a91781ed1851_cgraph.svg" width="376" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a4d094b15f7d8dc8eb796a91781ed1851_icgraph.svg" width="100%" height="444"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0a8219f7ac3f3ca1f9b31a2f8007ab3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8219f7ac3f3ca1f9b31a2f8007ab3b">&#9670;&nbsp;</a></span>GetVel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>&amp; Obj::CHorseComponent::GetVel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00140">140</a></p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acf85e1d7ff5c9b2cd6b7565d557492a0">m_vel</a>; }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00169">m_vel</a>.</p>

<p class="reference">Используется в <a class="el" href="../../df/da4/_horse_camera_component_8cpp_source.html#l00464">Obj::CHorseCameraComponent::calculate_attractor_direction()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a0a8219f7ac3f3ca1f9b31a2f8007ab3b_icgraph.svg" width="100%" height="437"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ade56c6a81b933a923c7e56895ed47e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade56c6a81b933a923c7e56895ed47e79">&#9670;&nbsp;</a></span>GetMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a>&amp; Obj::CHorseComponent::GetMatrix </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00142">142</a></p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a18d374784f1787eb7b22b92a84084dfc">GetMatrix</a>(); }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00091">Obj::CCompositeObject::GetMatrix()</a> и <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/dfb/_rider_component_8cpp_source.html#l00575">Obj::CRiderComponent::go_on_horse_state()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_ade56c6a81b933a923c7e56895ed47e79_cgraph.svg" width="376" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_ade56c6a81b933a923c7e56895ed47e79_icgraph.svg" width="575" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9ce03d05ede3ac924f92b1a0dd9fc96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce03d05ede3ac924f92b1a0dd9fc96c">&#9670;&nbsp;</a></span>GetDisplayMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a>&amp; Obj::CHorseComponent::GetDisplayMatrix </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00143">143</a></p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a473dbe37c34403b6a03c9f15963eac62">GetDisplayMatrix</a>(); }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00094">Obj::CCompositeObject::GetDisplayMatrix()</a> и <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/dfb/_rider_component_8cpp_source.html#l00575">Obj::CRiderComponent::go_on_horse_state()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a9ce03d05ede3ac924f92b1a0dd9fc96c_cgraph.svg" width="376" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a9ce03d05ede3ac924f92b1a0dd9fc96c_icgraph.svg" width="575" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a64184af12a54c96c32780a2fd44cd7c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64184af12a54c96c32780a2fd44cd7c6">&#9670;&nbsp;</a></span>AcceptRiderMount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::AcceptRiderMount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *&#160;</td>
          <td class="paramname"><em>p_rider</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00531">531</a></p>
<div class="fragment"><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// This is where we want to enable the associated camera.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    CHorseCameraComponent*  p_cam_component = GetHorseCameraComponentFromObject( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>());</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span>( p_cam_component )</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        p_cam_component-&gt;Suspend( <span class="keyword">false</span> );</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">// Also want to set the horse camera as active.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#af49b12363c52ae6f00363d582c3bdc7e">Script::RunScript</a>( CRCD( 0xb08469a2, <span class="stringliteral">&quot;MountHorse&quot;</span> ));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a> = p_rider;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">mp_rider</a>, <a class="el" href="../../dd/d0f/script_8cpp_source.html#l02995">Script::RunScript()</a> и <a class="el" href="../../d8/dbd/basecomponent_8cpp_source.html#l00079">Obj::CBaseComponent::Suspend()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/dfb/_rider_component_8cpp_source.html#l00488">Obj::CRiderComponent::ReadyRiderState()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a64184af12a54c96c32780a2fd44cd7c6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a64184af12a54c96c32780a2fd44cd7c6_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a372a81ab71f2d060a1c18694d56a7e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372a81ab71f2d060a1c18694d56a7e7b">&#9670;&nbsp;</a></span>AcceptRiderDismount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::AcceptRiderDismount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a> *&#160;</td>
          <td class="paramname"><em>p_rider</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00568">568</a></p>
<div class="fragment"><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// This is where we want to disable the associated camera.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    CHorseCameraComponent*  p_cam_component = GetHorseCameraComponentFromObject( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>());</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span>( p_cam_component )</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        p_cam_component-&gt;Suspend( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// Also want to set the horse camera as inactive.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#af49b12363c52ae6f00363d582c3bdc7e">Script::RunScript</a>( CRCD( 0x400b95f5, <span class="stringliteral">&quot;DismountHorse&quot;</span> ));</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a> = NULL;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">mp_rider</a>, <a class="el" href="../../dd/d0f/script_8cpp_source.html#l02995">Script::RunScript()</a> и <a class="el" href="../../d8/dbd/basecomponent_8cpp_source.html#l00079">Obj::CBaseComponent::Suspend()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/dfb/_rider_component_8cpp_source.html#l00575">Obj::CRiderComponent::go_on_horse_state()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a372a81ab71f2d060a1c18694d56a7e7b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a372a81ab71f2d060a1c18694d56a7e7b_icgraph.svg" width="575" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af2d6eef160f1ddddce385fbea517ce91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d6eef160f1ddddce385fbea517ce91">&#9670;&nbsp;</a></span>ShouldUpdateCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::ShouldUpdateCamera </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00554">554</a></p>
<div class="fragment"><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a> )</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">mp_rider</a>.</p>

<p class="reference">Используется в <a class="el" href="../../df/da4/_horse_camera_component_8cpp_source.html#l00146">Obj::CHorseCameraComponent::Update()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_af2d6eef160f1ddddce385fbea517ce91_icgraph.svg" width="422" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afb7016247639b35590b4a7048bd2c11c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7016247639b35590b4a7048bd2c11c">&#9670;&nbsp;</a></span>GetRider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a>* Obj::CHorseComponent::GetRider </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00148">148</a></p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a>; }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">mp_rider</a>.</p>

<p class="reference">Используется в <a class="el" href="../../df/da4/_horse_camera_component_8cpp_source.html#l00522">Obj::CHorseCameraComponent::do_reticle()</a> и <a class="el" href="../../df/da4/_horse_camera_component_8cpp_source.html#l00146">Obj::CHorseCameraComponent::Update()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_afb7016247639b35590b4a7048bd2c11c_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a594d723e012178cdc30872644f5ff55e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594d723e012178cdc30872644f5ff55e">&#9670;&nbsp;</a></span>GetAnimation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> Obj::CHorseComponent::GetAnimation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00520">520</a></p>
<div class="fragment"><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;{</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">mp_animation_component</a>-&gt;<a class="code" href="../../d3/d4f/class_obj_1_1_c_animation_component.html#a61e5dc15e27f03d17fa81e0eaa2c840e">GetCurrentSequence</a>();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01018">Obj::CAnimationComponent::GetCurrentSequence()</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00203">mp_animation_component</a>.</p>

<p class="reference">Используется в <a class="el" href="../../de/dfb/_rider_component_8cpp_source.html#l00575">Obj::CRiderComponent::go_on_horse_state()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a594d723e012178cdc30872644f5ff55e_cgraph.svg" width="631" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a594d723e012178cdc30872644f5ff55e_icgraph.svg" width="575" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae12be300db2a7f427cb4ace9bed363ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12be300db2a7f427cb4ace9bed363ee">&#9670;&nbsp;</a></span>draw_debug_rendering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::draw_debug_rendering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00590">590</a></p>
<div class="fragment"><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">m_draw_debug_lines</a>)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00207">m_draw_debug_lines</a>.</p>

</div>
</div>
<a id="a3ca7bae875d04b499bb9342406afd285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca7bae875d04b499bb9342406afd285">&#9670;&nbsp;</a></span>s_get_param()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::s_get_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>checksum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">385</a></p>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a>* p_params = <a class="code" href="../../d1/d54/namespace_script.html#aaf10cce8c51e44ea46f7789b3db96bc0">Script::GetStructure</a>(CRCD(0x1b38036f,<span class="stringliteral">&quot;GunslingerHorseParameters&quot;</span>));</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    Dbg_Assert(p_params);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">float</span> param;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    p_params-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#acae6f1a5a02d406ab56292ec3fcfaefd">GetFloat</a>(checksum, &amp;param, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> param;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d5/d98/struct_8cpp_source.html#l01503">Script::CStruct::GetFloat()</a> и <a class="el" href="../../d5/d7c/symboltable_8cpp_source.html#l00639">Script::GetStructure()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00747">adjust_desired_speed_for_slope()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">adjust_facing_for_adjusted_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01864">adjust_vertical_vel_for_ceiling()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">setup_collision_cache()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a3ca7bae875d04b499bb9342406afd285_cgraph.svg" width="100%" height="445"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a3ca7bae875d04b499bb9342406afd285_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a276a813f19ac77b4ae5684cd35ae4695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a276a813f19ac77b4ae5684cd35ae4695">&#9670;&nbsp;</a></span>get_controller_input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::get_controller_input </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">1296</a></p>
<div class="fragment"><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;{</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">// If no rider, ignore input.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">mp_rider</a> == NULL )</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="comment">// Set it as if we are trying to slow downn to the max.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>]  = -1.0f;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]  = 0.0f;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a>     = 1.0f;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="../../de/d49/class_c_skater_pad.html">CControlPad</a>&amp; control_pad = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a>-&gt;<a class="code" href="../../db/d0b/class_obj_1_1_c_input_component.html#a74e410efa46e9592d9f39c84ee85adf1">GetControlPad</a>();</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">//  Dbg_Assert(mp_camera);</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="comment">// rotate controller direction into camera&#39;s frame</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">//  Mth::Vector camera_forward = -mp_camera-&gt;m_matrix[Z];</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">//  camera_forward[Y] = 0.0f;</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">//  camera_forward.Normalize();</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="comment">// allow a tolerance range for pressing directly forward</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordtype">float</span> angle = control_pad.<a class="code" href="../../de/d49/class_c_skater_pad.html#a14259352998bcf74c0f9bce4a5c37a86">m_leftAngle</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>(angle) &lt; <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x4676a268, <span class="stringliteral">&quot;forward_tolerance&quot;</span>))))</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        angle = 0.0f;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordtype">float</span> sin_angle = sinf(angle);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordtype">float</span> cos_angle = cosf(angle);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">//  m_control_direction[X] = cos_angle * camera_forward[X] - sin_angle * camera_forward[Z];</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">//  m_control_direction[Z] = sin_angle * camera_forward[X] + cos_angle * camera_forward[Z];</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = cos_angle;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = sin_angle;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="comment">// different control schemes for analog stick and d-pad</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="preprocessor">#   if 0</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">if</span> (control_pad.<a class="code" href="../../de/d49/class_c_skater_pad.html#a580b0b3f34e09de76b4b217e8838771f">m_leftX</a> == 0.0f &amp;&amp; control_pad.<a class="code" href="../../de/d49/class_c_skater_pad.html#a277315379d835cdd0321539943a3081f">m_leftY</a> == 0.0f)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="comment">// d-pad control</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keywordflow">if</span> (control_pad.<a class="code" href="../../de/d49/class_c_skater_pad.html#acd0a152525af4102cb6d87661e424306">m_leftLength</a> == 0.0f)</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = 0.0f;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0b7a91b61ffc1e0151fe389d6646ffd0">m_control_pegged</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="comment">// don&#39;t reset dpad in the air</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>)</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42691c714a6d598e63dc3cb4f4bc1b20">m_dpad_used_last_frame</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42691c714a6d598e63dc3cb4f4bc1b20">m_dpad_used_last_frame</a>)</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab45d9d0009a4fdd62593fec959814857">m_dpad_use_time_stamp</a> = <a class="code" href="../../d1/d0d/namespace_tmr.html#a73fa70536cd356e6914161cb7737fd65">Tmr::GetTime</a>();</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            }</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42691c714a6d598e63dc3cb4f4bc1b20">m_dpad_used_last_frame</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                <span class="comment">// slowly ramp up to a full run</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                <a class="code" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> elapsed_time = <a class="code" href="../../d1/d0d/namespace_tmr.html#aeede2bf5e4d84e9aae6110f582389a96">Tmr::ElapsedTime</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab45d9d0009a4fdd62593fec959814857">m_dpad_use_time_stamp</a>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                <a class="code" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> full_run_dpad_delay = <span class="keyword">static_cast&lt;</span> <a class="code" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> <span class="keyword">&gt;</span>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x1832588c, <span class="stringliteral">&quot;full_run_dpad_delay&quot;</span>)));</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                <a class="code" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> start_run_dpad_delay = <span class="keyword">static_cast&lt;</span> <a class="code" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> <span class="keyword">&gt;</span>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x2c386a43, <span class="stringliteral">&quot;start_run_dpad_delay&quot;</span>)));</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                <span class="keywordflow">if</span> (elapsed_time &lt; start_run_dpad_delay)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xc1528f7f, <span class="stringliteral">&quot;walk_point&quot;</span>));</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elapsed_time &lt; full_run_dpad_delay)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a718c0eeb7953d1e1c0d092227ce6fcab">Mth::SmoothMap</a>(</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xc1528f7f, <span class="stringliteral">&quot;walk_point&quot;</span>)),</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                        1.0f,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                        elapsed_time,</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                        start_run_dpad_delay,</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                        full_run_dpad_delay</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                    );</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = 1.0f;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = 1.0f;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0b7a91b61ffc1e0151fe389d6646ffd0">m_control_pegged</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="comment">// damp dpad control directions towards forward when running</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> &amp;&amp; <a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>(angle) &lt; <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>(90.0f + 5.0f) &amp;&amp; (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab3ae56b622fda44f41268a77f0c741b6">forced_run</a>() || <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xc1528f7f, <span class="stringliteral">&quot;walk_point&quot;</span>))))</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">//          if (forced_run() || m_control_magnitude == 1.0f)</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">//              m_control_direction += s_get_param(CRCD(0x3c581621, &quot;dpad_control_damping_factor&quot;)) * camera_forward;</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">//          else</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">//              // smoothly interpolate between damping and no damping</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">//              m_control_direction += Mth::SmoothMap(0.0f, s_get_param(CRCD(0x3c581621, &quot;dpad_control_damping_factor&quot;)), m_control_magnitude, s_get_param(CRCD(0xc1528f7f, &quot;walk_point&quot;)), 1.0f)</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">//                  * camera_forward;</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="comment">// analog stick control</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = control_pad.<a class="code" href="../../de/d49/class_c_skater_pad.html#af625e82da206d3cbd47cfd506e57f78a">GetScaledLeftAnalogStickMagnitude</a>() / 0.85f;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> &gt;= 1.0f)</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = 1.0f;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0b7a91b61ffc1e0151fe389d6646ffd0">m_control_pegged</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0b7a91b61ffc1e0151fe389d6646ffd0">m_control_pegged</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="comment">// during a forward control lock, ignore all input not in the forward direction</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> &amp;&amp; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a879a1592db1c2ed0b8050080fa1cc0">m_forward_control_lock</a>)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a2b4280ae191736bc0c6d331bf95a7c87">Mth::ClampMin</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> * <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>), 0.0f);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00115">Mth::Abs()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00170">Mth::ClampMin()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00447">Mth::DegToRad()</a>, <a class="el" href="../../d4/db2/quat_8inl_source.html#l00522">Mth::DotProduct()</a>, <a class="el" href="../../d5/dd0/timer_8h_source.html#l00140">Tmr::ElapsedTime()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00401">forced_run()</a>, <a class="el" href="../../d1/d1a/_input_component_8h_source.html#l00050">Obj::CInputComponent::GetControlPad()</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00036">CSkaterPad::GetScaledLeftAnalogStickMagnitude()</a>, <a class="el" href="../../dd/d41/ngc_2p__timer_8cpp_source.html#l00546">Tmr::GetTime()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00350">m_control_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00351">m_control_magnitude</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00352">m_control_pegged</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00358">m_dpad_use_time_stamp</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00355">m_dpad_used_last_frame</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00370">m_forward_control_lock</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00074">CSkaterPad::m_leftAngle</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00075">CSkaterPad::m_leftLength</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00063">CSkaterPad::m_leftX</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00064">CSkaterPad::m_leftY</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00201">mp_input_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">mp_rider</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00255">Mth::SmoothMap()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a276a813f19ac77b4ae5684cd35ae4695_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a276a813f19ac77b4ae5684cd35ae4695_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="acb4ca5507c65a1b5b968552d62cb6490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4ca5507c65a1b5b968552d62cb6490">&#9670;&nbsp;</a></span>go_on_ground_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::go_on_ground_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">1143</a></p>
<div class="fragment"><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;{</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b0381cc338da75ee172c2030a12c832">account_for_movable_contact</a>();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88cee941aabec65a2afb8c0febbba98e">setup_collision_cache</a>();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="comment">// Calculate initial horizontal speed.</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordtype">float</span> horizontal_speed = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a88ad2190dc8bba653fc442dfed7c033a">Length</a>();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa68ecf39c87401a47b3c23b47d7e7b0a">calculate_horizontal_speed_and_facing</a>( horizontal_speed );</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="comment">// Calculate this frame&#39;s movement.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> = horizontal_speed * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// Prevent movement into walls.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af436bd4a3aea0ae67aa7181369031782">adjust_horizontal_vel_for_environment</a>( <span class="keyword">true</span> ))</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">// Turn to face newly adjusted velocity.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a436673589a4a6f954927819ec0795ecd">adjust_facing_for_adjusted_horizontal_vel</a>();</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="comment">// If we are wall pushing, we may have decided to switch states during adjust_horizontal_vel_for_environment based on our environment.</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">//  if (m_state != WALKING_GROUND || should_bail_from_frame())</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> )</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <a class="code" href="../../dc/d35/class_c_feeler.html#ae97bed02600c38d620dc9a15f2cdb507">CFeeler::sClearDefaultCache</a>();</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="comment">// Apply movement for this frame.</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="comment">// Snap up and down curbs and perhaps switch to air.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a234b7c94fe4c16fc0f7c48e5315336a3">respond_to_ground</a>();</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment">//  if (m_state != WALKING_GROUND || should_bail_from_frame())</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> )</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="../../dc/d35/class_c_feeler.html#ae97bed02600c38d620dc9a15f2cdb507">CFeeler::sClearDefaultCache</a>();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9295612e35a396392266323acdc81dac">adjust_curb_float_height</a>();</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="comment">// Deal with intelligent path following.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a296fc3862b9f780a6d584ae4cf357c39">do_path_following</a>();</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="comment">// Ensure that we do not slip through the cracks in the collision geometry which are a side-effect of moving collidable objects.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a00010acf2d35e57fd18cf272c8e7108a">CCompositeObject</a>* p_inside_object = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a16e4db6b4c9b98a1e9d9fe4734ab6e50">CheckInsideObjects</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">m_frame_start_pos</a>))</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        MESSAGE(<span class="stringliteral">&quot;WALKING_GROUND, within moving object&quot;</span>);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="comment">// allow it to push us forward, causing a bit of a stumble</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> = p_inside_object-&gt;GetVel();</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> = 0.0f;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordtype">float</span> speed_sqr = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ab77f5f45e45ad0f1ce8b7d7232a70cb1">LengthSqr</a>();</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">if</span> (speed_sqr &gt; (10.0f * 10.0f))</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> * (1.0f / sqrtf(speed_sqr));</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html#ae97bed02600c38d620dc9a15f2cdb507">CFeeler::sClearDefaultCache</a>();</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00603">account_for_movable_contact()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">adjust_facing_for_adjusted_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../dc/dff/_movable_contact_component_8cpp_source.html#l00174">Obj::CMovableContactComponent::CheckInsideObjects()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00398">Mth::Vector::Length()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00385">Mth::Vector::LengthSqr()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00361">m_frame_start_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00192">CFeeler::sClearDefaultCache()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">setup_collision_cache()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_acb4ca5507c65a1b5b968552d62cb6490_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_acb4ca5507c65a1b5b968552d62cb6490_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a19d622352d277c36ae1b44ac1690f430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19d622352d277c36ae1b44ac1690f430">&#9670;&nbsp;</a></span>go_in_air_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::go_in_air_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">1216</a></p>
<div class="fragment"><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;{</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88cee941aabec65a2afb8c0febbba98e">setup_collision_cache</a>();</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="comment">// default air event</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0x439f4704, <span class="stringliteral">&quot;Air&quot;</span>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// user control of horizontal velocity</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0e4d3901b156a73bf1bb051760997d22">control_horizontal_vel</a>();</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="comment">// prevent movement into walls</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af436bd4a3aea0ae67aa7181369031782">adjust_horizontal_vel_for_environment</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">//  if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// check for head bonking</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a7d0ad3e475c01e1b028f095b65e9ead8">adjust_vertical_vel_for_ceiling</a>();</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">// apply movement and acceleration for this frame</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a> + 0.5f * -<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xa5e2da58, <span class="stringliteral">&quot;gravity&quot;</span>)) * <a class="code" href="../../d5/db9/namespace_mth.html#adc6e7f87c6c36d52a16a9abceee925b4">Mth::Sqr</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> += -<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xa5e2da58, <span class="stringliteral">&quot;gravity&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="comment">// see if we&#39;ve landed yet</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a72cbc04a4cdedc5488591e4324d75893">check_for_landing</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">m_frame_start_pos</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">//  if (m_state != WALKING_AIR || should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a> ) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">// maybe grab a rail; delay regrabbing of hang rails</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">//  if (mp_input_component-&gt;GetControlPad().m_R1.GetPressed() &amp;&amp; !m_ignore_grab_button</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">//      &amp;&amp; ((m_previous_state != WALKING_HANG &amp;&amp; m_previous_state != WALKING_LADDER) || Tmr::ElapsedTime(m_state_timestamp) &gt; s_get_param(CRCD(0xe6e0c0a4, &quot;rehang_delay&quot;))))</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment">//      if (m_previous_state == WALKING_LADDER)</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">//          // can&#39;t regrab ladders</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">//          if (maybe_grab_to_hang(m_frame_start_pos, m_pos))</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">//              CFeeler::sClearDefaultCache();</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment">//              return;</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">//      else</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">//          if (maybe_grab_to_hang(m_frame_start_pos, m_pos) || maybe_grab_to_ladder(m_frame_start_pos, m_pos))</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">//              CFeeler::sClearDefaultCache();</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">//              return;</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">//  if (mp_input_component-&gt;GetControlPad().m_triangle.GetPressed())</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment">//      if (maybe_stick_to_rail())</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment">//          CFeeler::sClearDefaultCache();</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment">//          return;</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="comment">// insure that we do not slip through the cracks in the collision geometry which are a side-effect of moving collidable objects</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> previous_pos = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a00010acf2d35e57fd18cf272c8e7108a">CCompositeObject</a>* p_inside_object = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a16e4db6b4c9b98a1e9d9fe4734ab6e50">CheckInsideObjects</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">m_frame_start_pos</a>))</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        MESSAGE(<span class="stringliteral">&quot;WALKING_AIR, within moving object&quot;</span>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> = 0.0f;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a72cbc04a4cdedc5488591e4324d75893">check_for_landing</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>, previous_pos);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html#ae97bed02600c38d620dc9a15f2cdb507">CFeeler::sClearDefaultCache</a>();</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01864">adjust_vertical_vel_for_ceiling()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../dc/dff/_movable_contact_component_8cpp_source.html#l00174">Obj::CMovableContactComponent::CheckInsideObjects()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">m_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00361">m_frame_start_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00192">CFeeler::sClearDefaultCache()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">setup_collision_cache()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00302">Mth::Sqr()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a19d622352d277c36ae1b44ac1690f430_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a19d622352d277c36ae1b44ac1690f430_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5bd8dffec048b96240ca168a1984ed53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bd8dffec048b96240ca168a1984ed53">&#9670;&nbsp;</a></span>lerp_upright()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::lerp_upright </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01476">1476</a></p>
<div class="fragment"><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;{</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">//    if (m_upward[Y] == 1.0f) return;</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">//  if (m_upward[Y] &gt; 0.999f)</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment">//      m_upward.Set(0.0f, 1.0f, 0.0f);</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">//      return;</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">//  m_upward = Mth::Lerp(m_upward, Mth::Vector(0.0f, 1.0f, 0.0f), s_get_param(CRCD(0xf22c135, &quot;lerp_upright_rate&quot;)) * Tmr::FrameLength());</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">//  m_upward.Normalize();</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">m_ground_normal</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00332">m_upward</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a5bd8dffec048b96240ca168a1984ed53_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a85bd320ee1e00de0354957925b6ec854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85bd320ee1e00de0354957925b6ec854">&#9670;&nbsp;</a></span>uber_frig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::uber_frig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">1436</a></p>
<div class="fragment"><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;{</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">// Ensure that we don&#39;t fall to the center of the earth, even if there are holes in the geometry.</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">// Also, do lighting since we&#39;ve got the feeler anyway.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += 1.0f;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] -= FEET(400);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">if</span>( feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>())</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ae02a61a08b82c88a407680ac9ee301b9">mp_model_component</a>-&gt;<a class="code" href="../../df/d52/class_obj_1_1_c_model_component.html#a000aef42ee124576ed2623e5cf0bebf9">ApplyLightingFromCollision</a>( feeler );</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="comment">// Teleport us back to our position at the frame&#39;s start; not pretty, but this isn&#39;t supposed to be.</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">m_frame_start_pos</a>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="comment">// Zero our velocity too.</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> = 0.0f;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="comment">// Set our state to ground</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a15f0fa105388082f285ceba337dc1c6e">set_state</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> );</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af84072be5eb62670856d8a10b7b8ebe4">m_last_ground_feeler_valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="comment">// Reset our script state.</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0x57ff2a27, <span class="stringliteral">&quot;Land&quot;</span>);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d5/d14/modelcomponent_8cpp_source.html#l01760">Obj::CModelComponent::ApplyLightingFromCollision()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_end</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">m_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00361">m_frame_start_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">m_ground_normal</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00321">m_last_ground_feeler_valid</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00202">mp_model_component</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a85bd320ee1e00de0354957925b6ec854_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a85bd320ee1e00de0354957925b6ec854_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8b0381cc338da75ee172c2030a12c832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0381cc338da75ee172c2030a12c832">&#9670;&nbsp;</a></span>account_for_movable_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::account_for_movable_contact </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00603">603</a></p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">    if (!mp_movable_contact_component-&gt;UpdateContact(m_pos))</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">        return;</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">    m_pos += mp_movable_contact_component-&gt;GetContact()-&gt;GetMovement();</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">    if (mp_movable_contact_component-&gt;GetContact()-&gt;IsRotated())</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">        m_facing = mp_movable_contact_component-&gt;GetContact()-&gt;GetRotation().Rotate(m_facing);</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">        if (m_facing[Y] != 0.0f)</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">            DUMPF(m_facing[Y]);</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">            m_facing[Y] = 0.0f;</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">            m_facing.Normalize();</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a8b0381cc338da75ee172c2030a12c832_icgraph.svg" width="583" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a88cee941aabec65a2afb8c0febbba98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88cee941aabec65a2afb8c0febbba98e">&#9670;&nbsp;</a></span>setup_collision_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::setup_collision_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">657</a></p>
<div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;{</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordtype">float</span> horizontal_reach = 1.0f + <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x99978d2b, <span class="stringliteral">&quot;feeler_length&quot;</span>));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">float</span> vertical_height = 1.0f + <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x9ea1974a, <span class="stringliteral">&quot;walker_height&quot;</span>));;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordtype">float</span> vertical_depth = 1.0f + <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xaf3e4251, <span class="stringliteral">&quot;snap_down_height&quot;</span>));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="../../dc/d50/class_mth_1_1_c_b_box.html">Mth::CBBox</a> bbox(</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">GetPos</a>() - <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>(horizontal_reach, vertical_depth, horizontal_reach, 0.0f),</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">GetPos</a>() + <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>(horizontal_reach, vertical_height, horizontal_reach, 0.0f)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    );</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aaec5dcf8848567bc983ce216b1fb8a7e">mp_collision_cache</a>-&gt;<a class="code" href="../../d5/d4f/class_nx_1_1_c_coll_cache.html#ad1834000d2f81e13ad86003ce63efb8c">Update</a>(bbox);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html#a8d9be0465b6dbdbe506ed1b4a38886a3">CFeeler::sSetDefaultCache</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aaec5dcf8848567bc983ce216b1fb8a7e">mp_collision_cache</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00139">GetPos()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00314">mp_collision_cache</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00187">CFeeler::sSetDefaultCache()</a> и <a class="el" href="../../d5/d09/_coll_cache_8cpp_source.html#l00080">Nx::CCollCache::Update()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a88cee941aabec65a2afb8c0febbba98e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a88cee941aabec65a2afb8c0febbba98e_icgraph.svg" width="583" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abd7a2d461c00cfeba5dc38718b5a1f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd7a2d461c00cfeba5dc38718b5a1f6c">&#9670;&nbsp;</a></span>calculate_desired_speed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::calculate_desired_speed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">678</a></p>
<div class="fragment"><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;{</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// forced run</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">//  adjust_control_for_forced_run();</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">//  float walk_point = s_get_param(CRCD(0xc1528f7f, &quot;walk_point&quot;));</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> &gt; 0.0f )</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// Stick is in non-zero position, so adjust target speed.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="comment">// We may want two sets of these, one for speeding up, one for slowing down.</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordtype">float</span> speed_ka = 1.0f; <span class="comment">/* Script::GetFloat( CRCD( 0xcac0c1d4, &quot;GunslingerLookaroundTiltKa&quot; ), Script::ASSERT ); */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordtype">float</span> speed_ea = 2.0f; <span class="comment">/* Script::GetFloat( CRCD( 0x5443ec5a, &quot;GunslingerLookaroundTiltEa&quot; ), Script::ASSERT ); */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordtype">float</span> speed_ks = 1.0f; <span class="comment">/* Script::GetFloat( CRCD( 0x3979b09c, &quot;GunslingerLookaroundTiltKs&quot; ), Script::ASSERT ); */</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordtype">float</span> speed_es = 1.0f; <span class="comment">/* Script::GetFloat( CRCD( 0xa7fa9d12, &quot;GunslingerLookaroundTiltEs&quot; ), Script::ASSERT ); */</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordtype">float</span> target = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="comment">// Calculate acceleration.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordtype">float</span> a = speed_ka * powf( <a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>( target ), speed_ea ) * (( target &gt; 0.0f ) ? 1.0f : ( target &lt; 0.0f ) ? -1.0f : 0.0f );</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">// Calculate max speed.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordtype">float</span> s = speed_ks * powf( <a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>( target ), speed_es ) * (( target &gt; 0.0f ) ? 1.0f : ( target &lt; 0.0f ) ? -1.0f : 0.0f );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a> += a;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">if</span>( s == 0.0f )</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a> = 0.0f;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>((( s &gt; 0.0f ) &amp;&amp; ( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a> &gt; s )) || (( s &lt; 0.0f ) &amp;&amp; ( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a> &lt; s )))</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a> = s;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a> += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">m_target_speed_adjustment</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment">// Constrain to [0.0, 1.0] limits.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a> = ( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a> &lt; 0.0f ) ? 0.0f : (( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a> &gt; 1.0f ) ? 1.0f : <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a> );</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0xcc461b87, <span class="stringliteral">&quot;run_speed&quot;</span> )) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">m_target_speed</a>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">        float walk_point            = s_get_param(CRCD(0xc1528f7f, &quot;walk_point&quot;));</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">        float velocity_magnitude    = m_control_direction[X] * m_control_magnitude;</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">        if( velocity_magnitude &lt;= walk_point )</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">            m_run_toggle = false;</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">            return Mth::LinearMap( 0.0f, s_get_param( CRCD( 0x79d182ad, &quot;walk_speed&quot; )), velocity_magnitude, 0.3f, walk_point );</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">        else</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">            m_run_toggle = true;</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">            return Mth::LinearMap( s_get_param( CRCD( 0x79d182ad, &quot;walk_speed&quot; )), s_get_param( CRCD( 0xcc461b87, &quot;run_speed&quot; )), velocity_magnitude, walk_point, 1.0f );</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00115">Mth::Abs()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00350">m_control_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00351">m_control_magnitude</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00324">m_target_speed</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00325">m_target_speed_adjustment</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_abd7a2d461c00cfeba5dc38718b5a1f6c_cgraph.svg" width="100%" height="445"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_abd7a2d461c00cfeba5dc38718b5a1f6c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a88056b955a08ad60093a8b6a47ea7f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88056b955a08ad60093a8b6a47ea7f36">&#9670;&nbsp;</a></span>adjust_desired_speed_for_slope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::adjust_desired_speed_for_slope </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>desired_speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00747">747</a></p>
<div class="fragment"><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;{</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// Slow velocity up and down slopes.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="comment">// skip if there is no appreciable slope</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] &gt; 0.95f) <span class="keywordflow">return</span> desired_speed;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// skip if not running</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span> (desired_speed &lt;= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x79d182ad, <span class="stringliteral">&quot;walk_speed&quot;</span>))) <span class="keywordflow">return</span> desired_speed;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// calculate a horizontal vector up the slope</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> up_slope = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    up_slope[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    up_slope.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// horizontal factor of velocity if the velocity were pointing along the slope (instead of along the horizontal)</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordtype">float</span> movement_factor = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// factor of velocity pointing up the slope</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordtype">float</span> dot = <a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>, up_slope));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// scale the up-the-slope element of velocity based on the slope strength</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">return</span> (1.0f - dot) * desired_speed + dot * movement_factor * desired_speed;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00115">Mth::Abs()</a>, <a class="el" href="../../d4/db2/quat_8inl_source.html#l00522">Mth::DotProduct()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">m_ground_normal</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a88056b955a08ad60093a8b6a47ea7f36_cgraph.svg" width="100%" height="511"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a88056b955a08ad60093a8b6a47ea7f36_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af436bd4a3aea0ae67aa7181369031782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af436bd4a3aea0ae67aa7181369031782">&#9670;&nbsp;</a></span>adjust_horizontal_vel_for_environment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::adjust_horizontal_vel_for_environment </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wall_push_active</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">882</a></p>
<div class="fragment"><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;{</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">// We send out feeler rays to find nearby walls.  We limit velocity to be flush with the first wall found.  If two or more non-parallel walls</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// are found, velocity is zeroed.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordtype">float</span> feeler_length = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x99978d2b, <span class="stringliteral">&quot;feeler_length&quot;</span>));</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordtype">float</span> feeler_height = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x6da7f696, <span class="stringliteral">&quot;feeler_height&quot;</span>));</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordtype">bool</span> contact = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1; n++)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">// setup the the feeler</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (n == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a>)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="comment">// final feeler is for air state only and is at the feet; solves situations in which the feet impact with vertical surfaces which the</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="comment">// wall feelers are too high to touch</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a>].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#afcb9f3984399227780c3f4e37eba67b1">in_collision</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> + <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a> + 0.5f * -<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xa5e2da58, <span class="stringliteral">&quot;gravity&quot;</span>)) * <a class="code" href="../../d5/db9/namespace_mth.html#adc6e7f87c6c36d52a16a9abceee925b4">Mth::Sqr</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += feeler_height;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> + feeler_length * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5772d55b658711f0a0cbd59c4917adbd">calculate_feeler_offset_direction</a>(n);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += feeler_height;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#afcb9f3984399227780c3f4e37eba67b1">in_collision</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>();</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].in_collision)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">            #ifdef __USER_DAN__</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a>(CRCD(0xaf90c5fd, <span class="stringliteral">&quot;walking_debug_lines&quot;</span>)))</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aa2c2e4f5a505f8d992eed67fe5dc8999">DebugLine</a>(0, 0, 255, 1);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        contact = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="preprocessor">        #ifdef __USER_DAN__</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a>(CRCD(0xaf90c5fd, <span class="stringliteral">&quot;walking_debug_lines&quot;</span>)))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aa2c2e4f5a505f8d992eed67fe5dc8999">DebugLine</a>(255, 0, 0, 1);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="comment">// grab the horizontal normal of the contacted wall</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a8adeb6a3682f8f8754df933690130dfa">normal</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a857f74a78460c52a1454db73e1c0a59d">GetNormal</a>();</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a8adeb6a3682f8f8754df933690130dfa">normal</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a8adeb6a3682f8f8754df933690130dfa">normal</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="comment">// grab the distance of the contact from the object</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a9a34f81bfa409caf1e751bd2df6ec70b">distance</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a85369c8702f7abb6fffe8fae9cfacc48">GetDist</a>();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="comment">// if we&#39;re on the moving object, don&#39;t count its movement when doing collision detection, as the walker&#39;s velocity is already measured</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="comment">// relative to its movable contact&#39;s</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> (feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a9d80cbafe413f8be6c3409400c3eb517">IsMovableCollision</a>()</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            &amp;&amp; (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a7ded233e8dc3439336d8b5feef49f447">HaveContact</a>() || <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#ad831b02fddc5a82a3dc42defa6bcb665">GetContact</a>()-&gt;<a class="code" href="../../d2/d52/class_c_contact.html#a5b8f3611c64d7d04b94ba3b5620fb26a">GetObject</a>() != feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a6213a6d0794e924d7b2b310b97a5e1f2">GetMovingObject</a>()))</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a0c0b1a512e01bba22259adc5db07eff9">movement</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a6213a6d0794e924d7b2b310b97a5e1f2">GetMovingObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>(), <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a8adeb6a3682f8f8754df933690130dfa">normal</a>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a0c0b1a512e01bba22259adc5db07eff9">movement</a> = 0.0f;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// check for wall push</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">//      if (wall_push_active &amp;&amp; check_for_wall_push())</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">false</span>)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="comment">// if we&#39;re wall pushing, we may decide to switch states based on our environment</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0d/namespace_tmr.html#aeede2bf5e4d84e9aae6110f582389a96">Tmr::ElapsedTime</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">m_wall_push_test</a>.<a class="code" href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html#a99dac61330b6151f97186e0f800b8815">test_start_time</a>) &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x928e6775, <span class="stringliteral">&quot;hop_delay&quot;</span>)))</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">//              if (maybe_climb_up_ladder() || maybe_hop_to_hang() || maybe_jump_low_barrier()) return false;</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0d/namespace_tmr.html#aeede2bf5e4d84e9aae6110f582389a96">Tmr::ElapsedTime</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">m_wall_push_test</a>.<a class="code" href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html#a99dac61330b6151f97186e0f800b8815">test_start_time</a>) &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x38d36700, <span class="stringliteral">&quot;barrier_jump_delay&quot;</span>)))</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">//              if (maybe_climb_up_ladder() || maybe_jump_low_barrier()) return false;</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">//      else if (mp_input_component-&gt;GetControlPad().m_R1.GetPressed() &amp;&amp; !m_ignore_grab_button)</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">//          if (maybe_climb_up_ladder(true)) return false;</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">if</span> (!contact) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// push away from walls</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1; n++)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].in_collision) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                        </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].distance &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xa20c43b7, <span class="stringliteral">&quot;push_feeler_length&quot;</span>)) / feeler_length)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x4d16f37d, <span class="stringliteral">&quot;push_strength&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a8adeb6a3682f8f8754df933690130dfa">normal</a>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="comment">// from here on we ignore collisions we&#39;re moving out of</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    contact = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1; n++)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].in_collision) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="comment">// don&#39;t count collisions we&#39;re moving out of</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].normal, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>) &gt;= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d0/db2/p__camera_8cpp.html#af1e98e1845604922bcc08e0088e8f74f">movement</a>)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#afcb9f3984399227780c3f4e37eba67b1">in_collision</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            contact = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (!contact) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// Now we calculate how our movement is effected by our collisions.  The movement must have a non-negative dot product with all collision normals.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">// The algorithm used should be valid for all convex environments.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="comment">// if any of the colllision normals are more than right angles to one another, no movement is possible</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// NOTE: not valid with movable contacts; could cause jerky movement in corners where walls are movable</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1; n++)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].in_collision) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> m = n + 1; m &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1; m++)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[m].in_collision) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].normal, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[m].normal) &lt;= 0.0f)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> = <a class="code" href="../../d5/db9/namespace_mth.html#ab8f7791305c26c5bd278c0d38bb7cbeb">Mth::Min</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xbd6a05d, <span class="stringliteral">&quot;min_anim_run_speed&quot;</span>)), <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="comment">// direction of proposed movement</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> movement_direction = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    movement_direction.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> adjusted_vel = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// loop over the contacts (from backward to forward)</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> contact_idxs[] = { 7, 4, 3, 5, 2, 6, 1, 0 };</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1; i++)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordtype">int</span> n = contact_idxs[i];</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].in_collision) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="comment">// check to see if the movement still violates this constraint</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordtype">float</span> normal_vel = <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(adjusted_vel, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].normal);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">if</span> (normal_vel &gt;= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d0/db2/p__camera_8cpp.html#af1e98e1845604922bcc08e0088e8f74f">movement</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="comment">// adjust the movement to the closest direction allowed by this contraint</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        adjusted_vel -= (normal_vel - <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].<a class="code" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a0c0b1a512e01bba22259adc5db07eff9">movement</a>) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>[n].normal;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="comment">// if the mvoement direction no longer points in the direction of the proposed movement, no movement occurs</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(adjusted_vel, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>) &lt;= 0.0f)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> = <a class="code" href="../../d5/db9/namespace_mth.html#ab8f7791305c26c5bd278c0d38bb7cbeb">Mth::Min</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xbd6a05d, <span class="stringliteral">&quot;min_anim_run_speed&quot;</span>)), <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">// insure that the adjusted velocity in the final direction is not larger than the projection of the initial velocity into that direction</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordtype">float</span> adjusted_speed = adjusted_vel.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a88ad2190dc8bba653fc442dfed7c033a">Length</a>();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> adjusted_vel_direction = adjusted_vel;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    adjusted_vel_direction *= 1.0f / adjusted_speed;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordtype">float</span> projected_vel = <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>, adjusted_vel_direction);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (adjusted_speed &gt; projected_vel)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        adjusted_vel = adjusted_vel_direction * projected_vel;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="comment">// only the velocity along the movement direction is retained</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> = adjusted_vel;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordtype">float</span> final_horiz_vel = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a88ad2190dc8bba653fc442dfed7c033a">Length</a>();</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xbd6a05d, <span class="stringliteral">&quot;min_anim_run_speed&quot;</span>)))</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> = final_horiz_vel;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> = <a class="code" href="../../d5/db9/namespace_mth.html#ae729e489f6c4e17060888db3cb5b2a8c">Mth::Max</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xbd6a05d, <span class="stringliteral">&quot;min_anim_run_speed&quot;</span>)), <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01540">calculate_feeler_offset_direction()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00409">CFeeler::DebugLine()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00229">Obj::CHorseComponent::SContact::distance</a>, <a class="el" href="../../d4/db2/quat_8inl_source.html#l00522">Mth::DotProduct()</a>, <a class="el" href="../../d5/dd0/timer_8h_source.html#l00140">Tmr::ElapsedTime()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00055">Obj::CMovableContactComponent::GetContact()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00102">CFeeler::GetDist()</a>, <a class="el" href="../../d5/d7c/symboltable_8cpp_source.html#l00514">Script::GetInteger()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00396">CFeeler::GetMovingObject()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00112">CFeeler::GetNormal()</a>, <a class="el" href="../../dc/dcf/contact_8h_source.html#l00032">CContact::GetObject()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00107">Obj::CCompositeObject::GetVel()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00090">Obj::CMovableContactComponent::HaveContact()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00223">Obj::CHorseComponent::SContact::in_collision</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00378">CFeeler::IsMovableCollision()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00398">Mth::Vector::Length()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00341">m_anim_effective_speed</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_end</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">m_wall_push_test</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00265">Mth::Max()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00275">Mth::Min()</a>, <a class="el" href="../../d0/db2/p__camera_8cpp.html#af1e98e1845604922bcc08e0088e8f74f">movement</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00235">Obj::CHorseComponent::SContact::movement</a>, <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">mp_contacts</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00226">Obj::CHorseComponent::SContact::normal</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00302">Mth::Sqr()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00302">Obj::CHorseComponent::SWallPushTest::test_start_time</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00216">vNUM_FEELERS</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_af436bd4a3aea0ae67aa7181369031782_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_af436bd4a3aea0ae67aa7181369031782_icgraph.svg" width="583" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2ee2b8f420b2d3c3b32b0ca8757e0e08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ee2b8f420b2d3c3b32b0ca8757e0e08">&#9670;&nbsp;</a></span>copy_state_into_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::copy_state_into_object </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">1498</a></p>
<div class="fragment"><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;{</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// Build the object&#39;s matrix based on our facing.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="code" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> matrix;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="comment">// A horse requires special consideration, since it will necessarily tilt to match it&#39;s environment along it&#39;s long axis,</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="comment">// but will need to remain upright (or very nearly so) along it&#39;s shortest axis, since otherwise given it&#39;s high center</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="comment">// of gravity, it would topple over when standing sideways on a steep slope.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>]       = <a class="code" href="../../d5/db9/namespace_mth.html#aaca09fd5728158c602a3970017204614">Mth::CrossProduct</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> );</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>]    = 0.0f;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>].Normalize();</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>]       = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">m_upward</a>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]       = <a class="code" href="../../d5/db9/namespace_mth.html#aaca09fd5728158c602a3970017204614">Mth::CrossProduct</a>( matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>], matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] );</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>].Normalize();</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>]       = <a class="code" href="../../d5/db9/namespace_mth.html#aaca09fd5728158c602a3970017204614">Mth::CrossProduct</a>( matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>], matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] );</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    matrix[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>].Set( 0.0f, 0.0f, 0.0f, 1.0f );</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a470af772feeecb623ea29dee9f4c2c3f">SetPos</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> );</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a0152254b1ef89dcf96916a708e4b1a0f">SetMatrix</a>( matrix );</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="comment">// The display matrix is slerped towards the current matrix.</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <a class="code" href="../../d7/d2a/class_mth_1_1_slerp_interpolator.html">Mth::SlerpInterpolator</a> slerper( &amp;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2463e61d0db12bc45f96efb73687ed9">m_display_slerp_matrix</a>, &amp;matrix );</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="comment">// Apply the slerping.</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    slerper.getMatrix( &amp;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2463e61d0db12bc45f96efb73687ed9">m_display_slerp_matrix</a>, <a class="code" href="../../d2/d10/namespace_obj.html#a25104fb2105a70d19e7433b726225de1">GetTimeAdjustedSlerp</a>( 0.1f, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a> ));</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a1910e90938159a2b294eb774c4748490">SetDisplayMatrix</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2463e61d0db12bc45f96efb73687ed9">m_display_slerp_matrix</a> );</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="comment">// Construct the object&#39;s velocity.</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a4383081077e64d717b48969750fc083a">SetVel</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> );</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d5f/vector_8inl_source.html#l01000">Mth::CrossProduct()</a>, <a class="el" href="../../da/df7/slerp_8cpp_source.html#l00191">Mth::SlerpInterpolator::getMatrix()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../d8/d0b/_camera_util_8cpp_source.html#l00060">Obj::GetTimeAdjustedSlerp()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00107">Obj::CCompositeObject::GetVel()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00311">m_display_slerp_matrix</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00332">m_upward</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00093">Obj::CCompositeObject::SetDisplayMatrix()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00092">Obj::CCompositeObject::SetMatrix()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00090">Obj::CCompositeObject::SetPos()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00108">Obj::CCompositeObject::SetVel()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">W</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a2ee2b8f420b2d3c3b32b0ca8757e0e08_cgraph.svg" width="607" height="566"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a2ee2b8f420b2d3c3b32b0ca8757e0e08_icgraph.svg" width="382" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a436673589a4a6f954927819ec0795ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a436673589a4a6f954927819ec0795ecd">&#9670;&nbsp;</a></span>adjust_facing_for_adjusted_horizontal_vel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::adjust_facing_for_adjusted_horizontal_vel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">1096</a></p>
<div class="fragment"><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;{</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">// We adjust facing due to adjustment in horizontal velocity due to environment.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// Basically, we want to object to turn to face the velocity that the environment has forced upon it.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// IDEA: shift to basing turn amount on angle difference and not speed</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordtype">float</span> horizontal_speed = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a88ad2190dc8bba653fc442dfed7c033a">Length</a>();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// the new facing is in the direction of our adjusted velocity</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> new_facing = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    new_facing.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// Smoothly transition between no wall turning to full wall turning.</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordtype">float</span> turn_ratio;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">if</span>( horizontal_speed &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0xe6c1cd0d, <span class="stringliteral">&quot;max_wall_turn_speed_threshold&quot;</span> )))</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        turn_ratio = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0x7a583b9b, <span class="stringliteral">&quot;wall_turn_factor&quot;</span> )) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        turn_ratio = <a class="code" href="../../d5/db9/namespace_mth.html#ab1c1b5804cee65f8c4f453adf4eaf30c">Mth::LinearMap</a>(    0.0f,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0x7a583b9b, <span class="stringliteral">&quot;wall_turn_factor&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                        horizontal_speed,</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">//                                      s_get_param( CRCD( 0x0515a933, &quot;wall_turn_speed_threshold&quot;)),</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                        0.0f,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0xe6c1cd0d, <span class="stringliteral">&quot;max_wall_turn_speed_threshold&quot;</span> )));</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">// Exponentially approach new facing.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span>( turn_ratio &gt;= 1.0f )</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> = new_facing;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> = <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>, new_facing, turn_ratio );</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d5f/vector_8inl_source.html#l00398">Mth::Vector::Length()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00214">Mth::Lerp()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00224">Mth::LinearMap()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a436673589a4a6f954927819ec0795ecd_cgraph.svg" width="100%" height="538"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a436673589a4a6f954927819ec0795ecd_icgraph.svg" width="607" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa68ecf39c87401a47b3c23b47d7e7b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa68ecf39c87401a47b3c23b47d7e7b0a">&#9670;&nbsp;</a></span>calculate_horizontal_speed_and_facing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::calculate_horizontal_speed_and_facing </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>horizontal_speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">778</a></p>
<div class="fragment"><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;{</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// calculate user&#39;s desired speed</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordtype">float</span> desired_speed = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#abd7a2d461c00cfeba5dc38718b5a1f6c">calculate_desired_speed</a>();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// adjust speed by the script set drag factor</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    desired_speed *= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4b54c339660433227f0726b5874dded5">m_script_drag_factor</a>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// setup frame&#39;s event</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> (desired_speed &lt;= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x74e8227d, <span class="stringliteral">&quot;max_stand_speed&quot;</span>)))</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0x9b46e749, <span class="stringliteral">&quot;Stand&quot;</span>);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0xaf895b3f, <span class="stringliteral">&quot;Run&quot;</span>);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">bool</span> special_acceleration = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// HorseComponent version.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// The required rate of turn depends on the x axis component of the control direction.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">//  if( horizontal_speed &lt; s_get_param( CRCD( 0x52582d5b, &quot;max_rotate_in_place_speed&quot; )))</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span>( 1 )</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment">// Low speed rotate to desired orientation with no speed change.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0xb557804b, <span class="stringliteral">&quot;rotate_in_place_rate&quot;</span> ))) * -<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad859c08a42f7bd1380c731a68ddd5409">m_run_toggle</a> )</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> *= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0x7b446c98, <span class="stringliteral">&quot;walk_rotate_factor&quot;</span> ));</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> != 0.0f )</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordtype">float</span> cos_delta_angle   = cosf( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> );</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordtype">float</span> sin_delta_angle   = sinf( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> );</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            <span class="keywordtype">float</span> adjusted_vel      = cos_delta_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + sin_delta_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]             = -sin_delta_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + cos_delta_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>]             = adjusted_vel;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="comment">// check for overturn</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">//          if (left_turn != (-m_facing[Z] * m_control_direction[X] + m_facing[X] * m_control_direction[Z] &lt; 0.0f))</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">//          {</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">//              m_facing = m_control_direction;</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">//          }</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="comment">// no acceleration until we reach the desired orientation</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">//          special_acceleration = true;</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="comment">// setup the event</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = ( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> &lt; 0.0f ) ? CRCD( 0xf28adbfc, <span class="stringliteral">&quot;RotateLeft&quot;</span> ) : CRCD( 0x912220f8, <span class="stringliteral">&quot;RotateRight&quot;</span> );</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">if</span> (special_acceleration) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// Store desired speed for animation speed scaling.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">m_anim_effective_speed</a> = desired_speed;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">// adjust desired speed for slope</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    desired_speed = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88056b955a08ad60093a8b6a47ea7f36">adjust_desired_speed_for_slope</a>( desired_speed );</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// linear acceleration; exponential deceleration</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span> (horizontal_speed &gt; desired_speed)</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        horizontal_speed = <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>(horizontal_speed, desired_speed, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xacfa4e0c, <span class="stringliteral">&quot;decel_factor&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">if</span> (desired_speed == 0.0f)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">if</span> (horizontal_speed &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x79d182ad, <span class="stringliteral">&quot;walk_speed&quot;</span>)))</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0x1d537eff, <span class="stringliteral">&quot;Skid&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0dad4829a6afdef24be5efa0efa99512">m_last_frame_event</a> == CRCD(0x1d537eff, <span class="stringliteral">&quot;Skid&quot;</span>) &amp;&amp; horizontal_speed &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x311d02b2, <span class="stringliteral">&quot;stop_skidding_speed&quot;</span>)))</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0x1d537eff, <span class="stringliteral">&quot;Skid&quot;</span>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad859c08a42f7bd1380c731a68ddd5409">m_run_toggle</a>)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            horizontal_speed += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x4f47c998, <span class="stringliteral">&quot;run_accel_rate&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            horizontal_speed += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x6590a49b, <span class="stringliteral">&quot;walk_accel_rate&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">if</span> (horizontal_speed &gt; desired_speed)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            horizontal_speed = desired_speed;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00747">adjust_desired_speed_for_slope()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00447">Mth::DegToRad()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00214">Mth::Lerp()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00341">m_anim_effective_speed</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00350">m_control_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00351">m_control_magnitude</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00335">m_delta_angle</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">m_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00367">m_last_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00294">m_run_toggle</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00344">m_script_drag_factor</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_aa68ecf39c87401a47b3c23b47d7e7b0a_cgraph.svg" width="100%" height="541"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_aa68ecf39c87401a47b3c23b47d7e7b0a_icgraph.svg" width="583" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5772d55b658711f0a0cbd59c4917adbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5772d55b658711f0a0cbd59c4917adbd">&#9670;&nbsp;</a></span>calculate_feeler_offset_direction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::calculate_feeler_offset_direction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>contact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01540">1540</a></p>
<div class="fragment"><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;{</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordtype">float</span> angle = contact * (2.0f * <a class="code" href="../../d5/db9/namespace_mth.html#ab37069f5ecb0bab9cec330d926a9eeb4">Mth::PI</a> / <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="keywordtype">float</span> cos_angle = cosf(angle);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordtype">float</span> sin_angle = sinf(angle);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> end_offset_direction;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] - sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = 0.0f;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">return</span> end_offset_direction;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00440">Mth::PI</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00216">vNUM_FEELERS</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">W</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>.</p>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a5772d55b658711f0a0cbd59c4917adbd_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9295612e35a396392266323acdc81dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9295612e35a396392266323acdc81dac">&#9670;&nbsp;</a></span>adjust_curb_float_height()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::adjust_curb_float_height </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">1562</a></p>
<div class="fragment"><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">// adjust m_curb_float_height to smooth out moving up stairs</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">// When facing a curb, we smoothly increase m_curb_float_height to the height of the curb.  When we snap up the curb, m_curb_float_height is then</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="comment">// reduced by an amount equal to the snap distance.</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="comment">// When we snap down a curb, m_curb_float_height is increased by the snap distance.  We then drop m_curb_float_height smoothly to zero.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="comment">// determine appropriate direction to search for a curb</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> feeler_direction = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    feeler_direction.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a66f11c6027ceb3ee7527e4a70690b71d">ProjectToPlane</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    feeler_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = <a class="code" href="../../d5/db9/namespace_mth.html#a2b4280ae191736bc0c6d331bf95a7c87">Mth::ClampMin</a>(feeler_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>], 0.0f);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    feeler_direction.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="comment">// look for a curb</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += 0.5f;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> + <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x11edcc52, <span class="stringliteral">&quot;curb_float_feeler_length&quot;</span>)) * feeler_direction;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += 0.5f;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="preprocessor">    #ifdef __USER_DAN__</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a>(CRCD(0xaf90c5fd, <span class="stringliteral">&quot;walking_debug_lines&quot;</span>)))</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aa2c2e4f5a505f8d992eed67fe5dc8999">DebugLine</a>(0, 255, 0, 1);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">if</span> (feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>())</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="comment">// grab the distance to the curb</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="keywordtype">float</span> distance_to_curb = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a85369c8702f7abb6fffe8fae9cfacc48">GetDist</a>();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="comment">// look up from the curb to find the curb height</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">GetPoint</a>() + 0.5f * feeler_direction;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] + <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xcee3a3e1, <span class="stringliteral">&quot;snap_up_height&quot;</span>));</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="preprocessor">        #ifdef __USER_DAN__</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a>(CRCD(0xaf90c5fd, <span class="stringliteral">&quot;walking_debug_lines&quot;</span>)))</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aa2c2e4f5a505f8d992eed67fe5dc8999">DebugLine</a>(0, 255, 255, 1);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">if</span> (feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>())</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <span class="comment">// calculate the m_curb_float_height we should have based on the curb height and distance</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordtype">float</span> appropriate_curb_float_height = (1.0f - distance_to_curb) * (feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">GetPoint</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] - <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>]);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            </div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a>) &lt; 0.01f &amp;&amp; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> == 0.0f &amp;&amp; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ab77f5f45e45ad0f1ce8b7d7232a70cb1">LengthSqr</a>() &lt; <a class="code" href="../../d5/db9/namespace_mth.html#adc6e7f87c6c36d52a16a9abceee925b4">Mth::Sqr</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x227d72ee, <span class="stringliteral">&quot;min_curb_height_adjust_vel&quot;</span>))))</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <span class="comment">// don&#39;t update the curb height if we&#39;re on the ground and standing still; this is mostly to prevent snapping up right after landing a jump</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                <span class="comment">// lerp to the appropriate height</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a> = <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a>, appropriate_curb_float_height, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x856a80d3, <span class="stringliteral">&quot;curb_float_lerp_up_rate&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a218bf9f1a17ec98f8efa23b0719a6761">m_curb_float_height_adjusted</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00115">Mth::Abs()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00170">Mth::ClampMin()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00409">CFeeler::DebugLine()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00102">CFeeler::GetDist()</a>, <a class="el" href="../../d5/d7c/symboltable_8cpp_source.html#l00514">Script::GetInteger()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00107">CFeeler::GetPoint()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00385">Mth::Vector::LengthSqr()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00214">Mth::Lerp()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00351">m_control_magnitude</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00373">m_curb_float_height</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00376">m_curb_float_height_adjusted</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_end</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">m_ground_normal</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a>, <a class="el" href="../../d4/d1b/vector_8cpp_source.html#l00151">Mth::Vector::ProjectToPlane()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00302">Mth::Sqr()</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a9295612e35a396392266323acdc81dac_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a9295612e35a396392266323acdc81dac_icgraph.svg" width="595" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab3ae56b622fda44f41268a77f0c741b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ae56b622fda44f41268a77f0c741b6">&#9670;&nbsp;</a></span>forced_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::forced_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00401">401</a></p>
<div class="fragment"><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_ab3ae56b622fda44f41268a77f0c741b6_icgraph.svg" width="583" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a234b7c94fe4c16fc0f7c48e5315336a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234b7c94fe4c16fc0f7c48e5315336a3">&#9670;&nbsp;</a></span>respond_to_ground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::respond_to_ground </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">1631</a></p>
<div class="fragment"><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;{</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="comment">// Reset ground normal to straight up.</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>( 0.0f, 1.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="comment">// Look for the ground below us.  If we find it, snap to it.  If not, go to air state.</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xcee3a3e1, <span class="stringliteral">&quot;snap_up_height&quot;</span>));</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] -= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xaf3e4251, <span class="stringliteral">&quot;snap_down_height&quot;</span>));</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">if</span> (!feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>())</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="comment">// no ground</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">//      if (m_last_ground_feeler_valid)</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">//          mp_trigger_component-&gt;CheckFeelerForTrigger(TRIGGER_SKATE_OFF_EDGE, m_last_ground_feeler);</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="comment">//          if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="comment">// go to air state</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a15f0fa105388082f285ceba337dc1c6e">set_state</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0685a3a987cbf4054b3384ea2bbc9f77">leave_movable_contact_for_air</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a>);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0xabf1f6ac, <span class="stringliteral">&quot;WalkOffEdge&quot;</span>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordtype">float</span> snap_distance = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">GetPoint</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] - <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="comment">// no not send event for very small snaps</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>(snap_distance) &gt; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xd3193d8e, <span class="stringliteral">&quot;max_unnoticed_ground_snap&quot;</span>)))</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../df/dde/class_obj_1_1_c_object.html#a4eb63ba2d07ba494d8bbaf4729f2fc68">SelfEvent</a>(snap_distance &gt; 0.0f ? CRCD(0x93fcf3ed, <span class="stringliteral">&quot;SnapUpEdge&quot;</span>) : CRCD(0x56e21153, <span class="stringliteral">&quot;SnapDownEdge&quot;</span>));</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="comment">// snap position to the ground</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">GetPoint</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">// adjust stair float distance</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a2b4280ae191736bc0c6d331bf95a7c87">Mth::ClampMin</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">m_curb_float_height</a> - snap_distance, 0.0f);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">// see if we&#39;ve changed sectors</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2c30a22155bf0d3064e9d34bdd13909d">m_last_ground_feeler</a>.<a class="code" href="../../dc/d35/class_c_feeler.html#a80fea312ec3a472e288443b2f4435d7c">GetSector</a>() != feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a80fea312ec3a472e288443b2f4435d7c">GetSector</a>())</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">//      if (m_last_ground_feeler_valid)</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">//      {</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">//          mp_trigger_component-&gt;CheckFeelerForTrigger(TRIGGER_SKATE_OFF, m_last_ground_feeler);</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment">//          if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="comment">//      mp_trigger_component-&gt;CheckFeelerForTrigger(TRIGGER_SKATE_ONTO, feeler);</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment">//      if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="comment">// stash the ground feeler so that we can trip the group&#39;s triggers at a later time</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2c30a22155bf0d3064e9d34bdd13909d">m_last_ground_feeler</a> = feeler;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af84072be5eb62670856d8a10b7b8ebe4">m_last_ground_feeler_valid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="comment">// set the ground normal for next frame&#39;s velocity slope adjustment</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a857f74a78460c52a1454db73e1c0a59d">GetNormal</a>();</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="comment">// NOTE: need to repeat this code anywhere we enter the ground state</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a99fadd1411647c164bebaefc636c10f7">CheckForMovableContact</a>(feeler);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00115">Mth::Abs()</a>, <a class="el" href="../../dc/dff/_movable_contact_component_8cpp_source.html#l00121">Obj::CMovableContactComponent::CheckForMovableContact()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00170">Mth::ClampMin()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00112">CFeeler::GetNormal()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00107">CFeeler::GetPoint()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00132">CFeeler::GetSector()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">leave_movable_contact_for_air()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00373">m_curb_float_height</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_end</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">m_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">m_ground_normal</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00320">m_last_ground_feeler</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00321">m_last_ground_feeler_valid</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00245">m_primary_air_direction</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d3/d30/object_8cpp_source.html#l00927">Obj::CObject::SelfEvent()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a234b7c94fe4c16fc0f7c48e5315336a3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a234b7c94fe4c16fc0f7c48e5315336a3_icgraph.svg" width="583" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0685a3a987cbf4054b3384ea2bbc9f77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0685a3a987cbf4054b3384ea2bbc9f77">&#9670;&nbsp;</a></span>leave_movable_contact_for_air()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::leave_movable_contact_for_air </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>horizontal_vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>vertical_vel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">1703</a></p>
<div class="fragment"><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;{</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="comment">// use movement from the latest movable contact update call</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a7ded233e8dc3439336d8b5feef49f447">HaveContact</a>())</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="comment">// keep track of the horizontal velocity due to our old contact</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#ad831b02fddc5a82a3dc42defa6bcb665">GetContact</a>()-&gt;<a class="code" href="../../d2/d52/class_c_contact.html#a5b8f3611c64d7d04b94ba3b5620fb26a">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>();</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>, horizontal_vel) &gt; 0.0f)</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            <span class="comment">// extra kicker; dangerous as there&#39;s no collision detection; without this slight extra movement, when we walk off the front of a movable object,</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            <span class="comment">// the object will move back under us before our next frame, and we will clip its edge and land on it</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="comment">// add movable contact&#39;s velocity into our launch velocity</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        vertical_vel += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        horizontal_vel += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    }</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a4d5c894c757536ef2b8a60cac5395802">LoseAnyContact</a>();</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/db2/quat_8inl_source.html#l00522">Mth::DotProduct()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00055">Obj::CMovableContactComponent::GetContact()</a>, <a class="el" href="../../dc/dcf/contact_8h_source.html#l00032">CContact::GetObject()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00107">Obj::CCompositeObject::GetVel()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00090">Obj::CMovableContactComponent::HaveContact()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00074">Obj::CMovableContactComponent::LoseAnyContact()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00248">m_uncontrollable_air_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>.</p>
<div id="dynsection-64" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a0685a3a987cbf4054b3384ea2bbc9f77_cgraph.svg" width="100%" height="591"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-65" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a0685a3a987cbf4054b3384ea2bbc9f77_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa58f7b399f7916c8163144517735396f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58f7b399f7916c8163144517735396f">&#9670;&nbsp;</a></span>jump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::jump </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>strength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">630</a></p>
<div class="fragment"><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;{</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// switch to air state and give the object an upwards velocity</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// if we&#39;re jumping from the ground, trip the ground&#39;s triggers</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> &amp;&amp; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af84072be5eb62670856d8a10b7b8ebe4">m_last_ground_feeler_valid</a>)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">//      mp_trigger_component-&gt;CheckFeelerForTrigger(TRIGGER_JUMP_OFF, m_last_ground_feeler);</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">//      if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// Called by script from outside of the component update, so m_vertical_vel is not used.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = strength * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>( CRCD( 0x63d62a21, <span class="stringliteral">&quot;jump_velocity&quot;</span> ));</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0685a3a987cbf4054b3384ea2bbc9f77">leave_movable_contact_for_air</a>( <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a8219f7ac3f3ca1f9b31a2f8007ab3b">GetVel</a>(), <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a8219f7ac3f3ca1f9b31a2f8007ab3b">GetVel</a>()[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] );</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a15f0fa105388082f285ceba337dc1c6e">set_state</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a> );</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00107">Obj::CCompositeObject::GetVel()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00140">GetVel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">leave_movable_contact_for_air()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00321">m_last_ground_feeler_valid</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00245">m_primary_air_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>.</p>
<div id="dynsection-66" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_aa58f7b399f7916c8163144517735396f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-67" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-67-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-67-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-67-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_aa58f7b399f7916c8163144517735396f_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a15f0fa105388082f285ceba337dc1c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f0fa105388082f285ceba337dc1c6e">&#9670;&nbsp;</a></span>set_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::set_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">411</a></p>
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d01/p__ezcommon_8h.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a00c9b431981a160eb30b0b16de79c427">m_previous_state</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">m_wall_push_test</a>.<a class="code" href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html#afe18037c7206c8f8150515bf7341b9d9">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad859c08a42f7bd1380c731a68ddd5409">m_run_toggle</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a> &amp;&amp; <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> != <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">WALKING_AIR</a>)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42691c714a6d598e63dc3cb4f4bc1b20">m_dpad_used_last_frame</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> = <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a89f234133d3efe315836311cbf21c64b">state</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a6c0b1625c95465cc6f754e18457e8d4e">m_state_timestamp</a> = <a class="code" href="../../d1/d0d/namespace_tmr.html#a73fa70536cd356e6914161cb7737fd65">Tmr::GetTime</a>();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">m_state</a> == <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66">WALKING_ANIMWAIT</a>)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a791914ebbbcf422ca69eb788fe8e2a5e">m_offset_due_to_movable_contact</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00299">Obj::CHorseComponent::SWallPushTest::active</a>, <a class="el" href="../../dd/d41/ngc_2p__timer_8cpp_source.html#l00546">Tmr::GetTime()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00355">m_dpad_used_last_frame</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00283">m_offset_due_to_movable_contact</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00291">m_previous_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00294">m_run_toggle</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">m_state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00288">m_state_timestamp</a>, <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">m_wall_push_test</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a>, <a class="el" href="../../d6/d01/p__ezcommon_8h_source.html#l00005">state</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00050">WALKING_AIR</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00054">WALKING_ANIMWAIT</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a>.</p>
<div id="dynsection-68" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-68-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-68-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-68-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a15f0fa105388082f285ceba337dc1c6e_cgraph.svg" width="336" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-69" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-69-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-69-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-69-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a15f0fa105388082f285ceba337dc1c6e_icgraph.svg" width="100%" height="486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0e4d3901b156a73bf1bb051760997d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4d3901b156a73bf1bb051760997d22">&#9670;&nbsp;</a></span>control_horizontal_vel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::control_horizontal_vel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">1737</a></p>
<div class="fragment"><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;{</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">// We allow user control over the object&#39;s in air velocity.  The algorithm is complicated by the fact that the forward velocity of the jump needs</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="comment">// to be accounted for when allowing for velocity adjustment.  It is assumed that the jump direction is the same as the facing.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// remove uncontrollable velocity term</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> -= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="comment">// forced run still works in the air</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<span class="comment">//  adjust_control_for_forced_run();</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="comment">// adjust speed by the script set drag factor</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordtype">float</span> adjust_magnitude = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">m_control_magnitude</a> * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4b54c339660433227f0726b5874dded5">m_script_drag_factor</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">// adjust velocity perpendicular to jump direction</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="comment">// direction perpendicular to jump direction</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> perp_direction( -<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>], 0.0f, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>], 0.0f );</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="comment">// desired perpendicular velocity</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordtype">float</span> perp_desired_vel = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x896c8888, <span class="stringliteral">&quot;jump_adjust_speed&quot;</span>)) * adjust_magnitude * <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>, perp_direction);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="comment">// current perpendicular velocity</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordtype">float</span> perp_vel = <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>, perp_direction);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="comment">// exponentially approach desired velocity</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    perp_vel = <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>(perp_vel, perp_desired_vel, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xf085443b, <span class="stringliteral">&quot;jump_accel_factor&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="comment">// adjust velocity parallel to jump direction</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">// desired parallel velocity</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordtype">float</span> para_desired_vel = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x896c8888, <span class="stringliteral">&quot;jump_adjust_speed&quot;</span>)) * adjust_magnitude * <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">m_control_direction</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a>);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="comment">// current parallel velocity</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordtype">float</span> para_vel = <a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">m_primary_air_direction</a>);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="comment">// if desired velocity if forward and forward velocity already exceeds adjustment velocity</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">if</span> (para_desired_vel &gt;= 0.0f &amp;&amp; para_vel &gt; para_desired_vel)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="comment">// do nothing; don&#39;t slow down the jump</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="comment">// adjust desired velocity to center around current velocity to insure that our in air stopping ability is not too amazing</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">if</span> (para_desired_vel &lt; 0.0f &amp;&amp; para_vel &gt; 0.0f)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            para_desired_vel += para_vel;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="comment">// expondentially approach desired velocity</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        para_vel = <a class="code" href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a>(para_vel, para_desired_vel, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0xf085443b, <span class="stringliteral">&quot;jump_accel_factor&quot;</span>)) * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">m_frame_length</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="comment">// rebuild horizontal velocity from parallel and perpendicular components</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="comment">// Dave note - not sure about controlling the horse velocity in midair, so disable for now.</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">//  m_horizontal_vel = para_vel * m_primary_air_direction + perp_vel * perp_direction;</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="comment">// reinstitute uncontrollable velocity term</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">m_uncontrollable_air_horizontal_vel</a>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/db2/quat_8inl_source.html#l00522">Mth::DotProduct()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00214">Mth::Lerp()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00350">m_control_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00351">m_control_magnitude</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">m_frame_length</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00245">m_primary_air_direction</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00344">m_script_drag_factor</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00248">m_uncontrollable_air_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>.</p>
<div id="dynsection-70" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-70-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-70-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-70-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a0e4d3901b156a73bf1bb051760997d22_cgraph.svg" width="100%" height="473"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-71" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-71-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-71-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-71-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a0e4d3901b156a73bf1bb051760997d22_icgraph.svg" width="583" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a72cbc04a4cdedc5488591e4324d75893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72cbc04a4cdedc5488591e4324d75893">&#9670;&nbsp;</a></span>check_for_landing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::check_for_landing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>previous_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>final_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">1805</a></p>
<div class="fragment"><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;{</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">// See if our feet have passed through geometry.  If so, snap to it and go to ground state.</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = previous_pos;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = final_pos;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">if</span> (!feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    </div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="comment">// snap to the collision point</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">GetPoint</a>();</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="comment">// zero vertical velocity</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> = 0.0f;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="comment">// change to ground state</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a15f0fa105388082f285ceba337dc1c6e">set_state</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">WALKING_GROUND</a>);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">// stash the feeler</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2c30a22155bf0d3064e9d34bdd13909d">m_last_ground_feeler</a> = feeler;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#af84072be5eb62670856d8a10b7b8ebe4">m_last_ground_feeler_valid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="comment">// trip any land trigger</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">//  mp_trigger_component-&gt;CheckFeelerForTrigger(TRIGGER_LAND_ON, m_last_ground_feeler);</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">//  if (should_bail_from_frame()) return;</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="comment">// setup our ground normal for next frames velocity slope adjustment</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">m_ground_normal</a> = feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a857f74a78460c52a1454db73e1c0a59d">GetNormal</a>();</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">// check for a moving contact</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a99fadd1411647c164bebaefc636c10f7">CheckForMovableContact</a>(feeler);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a7ded233e8dc3439336d8b5feef49f447">HaveContact</a>())</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a> -= <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">mp_movable_contact_component</a>-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#ad831b02fddc5a82a3dc42defa6bcb665">GetContact</a>()-&gt;<a class="code" href="../../d2/d52/class_c_contact.html#a5b8f3611c64d7d04b94ba3b5620fb26a">GetObject</a>()-&gt;<a class="code" href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">GetVel</a>();</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="comment">// retain only that velocity which is parallel to our facing and forward</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>) &gt; 0.0f)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#abdb5dd9ff4493d6fb1005969e608bed1">ProjectToNormal</a>(<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">m_horizontal_vel</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>();</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    }</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="comment">// clear any jump requests</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">mp_input_component</a>-&gt;<a class="code" href="../../db/d0b/class_obj_1_1_c_input_component.html#a74e410efa46e9592d9f39c84ee85adf1">GetControlPad</a>().<a class="code" href="../../de/d49/class_c_skater_pad.html#acacdfcec7b1baa226b85f7ea3f8461ef">m_x</a>.<a class="code" href="../../da/dd9/class_c_skater_button.html#a61b52b36077d564ddebe8d614572e9e2">ClearRelease</a>();</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">m_frame_event</a> = CRCD(0x57ff2a27, <span class="stringliteral">&quot;Land&quot;</span>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../dc/dff/_movable_contact_component_8cpp_source.html#l00121">Obj::CMovableContactComponent::CheckForMovableContact()</a>, <a class="el" href="../../d2/d22/_skater_button_8cpp_source.html#l00116">CSkaterButton::ClearRelease()</a>, <a class="el" href="../../d4/db2/quat_8inl_source.html#l00522">Mth::DotProduct()</a>, <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00055">Obj::CMovableContactComponent::GetContact()</a>, <a class="el" href="../../d1/d1a/_input_component_8h_source.html#l00050">Obj::CInputComponent::GetControlPad()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00112">CFeeler::GetNormal()</a>, <a class="el" href="../../dc/dcf/contact_8h_source.html#l00032">CContact::GetObject()</a>, <a class="el" href="../../d1/d74/feeler_8h_source.html#l00107">CFeeler::GetPoint()</a>, <a class="el" href="../../d9/dd4/compositeobject_8h_source.html#l00107">Obj::CCompositeObject::GetVel()</a>, <a class="el" href="../../de/db1/_movable_contact_component_8h_source.html#l00090">Obj::CMovableContactComponent::HaveContact()</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_end</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">m_frame_event</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">m_ground_normal</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">m_horizontal_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00320">m_last_ground_feeler</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00321">m_last_ground_feeler_valid</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../d5/d49/_skater_pad_8h_source.html#l00057">CSkaterPad::m_x</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00201">mp_input_component</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">mp_movable_contact_component</a>, <a class="el" href="../../d4/d1b/vector_8cpp_source.html#l00203">Mth::Vector::ProjectToNormal()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00368">Mth::Vector::Set()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00049">WALKING_GROUND</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>.</p>
<div id="dynsection-72" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-72-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-72-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-72-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a72cbc04a4cdedc5488591e4324d75893_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-73" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-73-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-73-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-73-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a72cbc04a4cdedc5488591e4324d75893_icgraph.svg" width="583" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7d0ad3e475c01e1b028f095b65e9ead8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d0ad3e475c01e1b028f095b65e9ead8">&#9670;&nbsp;</a></span>adjust_vertical_vel_for_ceiling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::adjust_vertical_vel_for_ceiling </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01864">1864</a></p>
<div class="fragment"><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;{</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="comment">// If we hit our head, zero vertical velocity</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="comment">// only worry about the ceiling if we&#39;re moving upwards</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> &lt;= 0.0f) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">// look for a collision up through the body to the head</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a> = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">m_end</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">s_get_param</a>(CRCD(0x9ea1974a, <span class="stringliteral">&quot;walker_height&quot;</span>));</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">if</span> (!feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    </div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="comment">// zero upward velocity</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">m_vertical_vel</a> = 0.0f;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">GetObject</a>()-&gt;<a class="code" href="../../df/dde/class_obj_1_1_c_object.html#a4eb63ba2d07ba494d8bbaf4729f2fc68">SelfEvent</a>(CRCD(0x6e84acf3, <span class="stringliteral">&quot;HitCeiling&quot;</span>));</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/df1/feeler_8cpp_source.html#l00366">CFeeler::GetCollision()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00059">Obj::CBaseComponent::GetObject()</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_end</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">m_vertical_vel</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00385">s_get_param()</a>, <a class="el" href="../../d3/d30/object_8cpp_source.html#l00927">Obj::CObject::SelfEvent()</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>.</p>
<div id="dynsection-74" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-74-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-74-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-74-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a7d0ad3e475c01e1b028f095b65e9ead8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-75" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-75-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-75-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-75-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a7d0ad3e475c01e1b028f095b65e9ead8_icgraph.svg" width="583" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a18b3d9187e5aef6752918a0dfa58f2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b3d9187e5aef6752918a0dfa58f2d2">&#9670;&nbsp;</a></span>position_rider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::position_rider </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01890">1890</a></p>
<div class="fragment"><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;{</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="comment">// HACK: get player proximity checks, triggers, and the like working</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment">//  CCompositeObject* p_skater = static_cast&lt; CCompositeObject* &gt;(CCompositeObjectManager::Instance()-&gt;GetObjectByID( 0 ));</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment">//  p_skater-&gt;SetPos( GetObject()-&gt;GetPos());</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>
<div id="dynsection-76" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-76-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-76-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-76-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a18b3d9187e5aef6752918a0dfa58f2d2_icgraph.svg" width="376" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a296fc3862b9f780a6d584ae4cf357c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296fc3862b9f780a6d584ae4cf357c39">&#9670;&nbsp;</a></span>do_path_following()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::do_path_following </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">2045</a></p>
<div class="fragment"><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;{</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">// Get the horse camera component for this horse. Messy.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <a class="code" href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html">Obj::CHorseCameraComponent</a>* p_cam_component = <span class="keyword">static_cast&lt;</span><a class="code" href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html">Obj::CHorseCameraComponent</a>*<span class="keyword">&gt;</span>( Obj::CCompositeObjectManager::Instance()-&gt;GetFirstComponentByType( CRC_HORSECAMERA ));</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">while</span>( p_cam_component )</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        <span class="keywordflow">if</span>( p_cam_component-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html#a35fdf7da700bb0256e50bd87d548abbc">GetSubject</a>() == this )</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        }</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        p_cam_component = <span class="keyword">static_cast&lt;</span><a class="code" href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html">Obj::CHorseCameraComponent</a>*<span class="keyword">&gt;</span>( p_cam_component-&gt;<a class="code" href="../../d0/d7e/class_obj_1_1_c_base_component.html#abf4309b1a671392193628ea6e7c9f885">GetNextSameType</a>());</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    }</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">if</span>( p_cam_component )</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        <span class="keywordflow">if</span>( p_cam_component-&gt;<a class="code" href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html#a57f497266c1d45d6ca05eec6200ef501">GetState</a>() == <a class="code" href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html#aa7869f0d781ecd88ffd1dffef3366f09af90b5a4f0d2b5401fb7645fe389bfbf7">CHorseCameraComponent::STATE_NORMAL</a> )</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            <span class="comment">// No path following in normal state. Cleanup if we were doing path following.</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a> )</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4be8119bc88d7dcf8cf1a1e985536b5a">cleanup_node_based_path_following</a>();</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            }</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <span class="comment">// Did we turn this frame? If so, all bets are off...</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">m_delta_angle</a> != 0.0f )</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <span class="comment">// Cleanup if we were doing path following.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a> )</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4be8119bc88d7dcf8cf1a1e985536b5a">cleanup_node_based_path_following</a>();</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="comment">// Are we path following? In which case, follow the path.</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a> )</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a85dafed941e2aabbb56616f7d8c27457">do_node_based_path_following</a>();</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <span class="comment">// See if we are going to hit something soon if we stay on this course.</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordtype">float</span> feeler_height = 36.0f;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <span class="keywordtype">float</span> feeler_length = 50.0f * 12.0f;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        <span class="keywordtype">float</span>       angle       = 0.0f;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordtype">float</span>       cos_angle   = cosf( angle );</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        <span class="keywordtype">float</span>       sin_angle   = sinf( angle );</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        <span class="keywordtype">float</span>       worst_length;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> feeler_start;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> feeler_end;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> end_offset_direction;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] - sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = 0.0f;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160; </div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        feeler_start            = <a class="code" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Mth::Vector</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>], <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] + feeler_height, <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>], <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] );</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        feeler_end              = feeler_start + feeler_length * end_offset_direction;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d2/d10/namespace_obj.html#a4c0f546bb36d51ade2e317a6eebd04f3">get_collision</a>( feeler_start, end_offset_direction, feeler_length, &amp;worst_length ))</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment">//      if( feeler.GetCollision())</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            <span class="keywordtype">float</span> dist = worst_length;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            <span class="comment">// We need to figure out if turning a few degrees will enable us to obtain a clear path for</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            <span class="comment">// a significantly further distance.</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            feeler_length *= 2.0f;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160; </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            <span class="keywordtype">float</span>   best_score                  = 0.0f;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="keywordtype">float</span>   best_angle                  = <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>( 90.0f );</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            <span class="comment">// Scan through angles from +9 degrees to -9 degrees in 3 degree steps.</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <span class="keywordtype">float</span> step_angle = <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>( -9.0f );</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            <span class="keywordflow">while</span>( step_angle &lt;= <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>( 9.0f ))</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                <span class="keywordtype">float</span> score = 0.0f;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                cos_angle   = cosf( step_angle );</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                sin_angle   = sinf( step_angle );</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160; </div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] - sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = 0.0f;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                feeler_end              = feeler_start + feeler_length * end_offset_direction;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                <span class="comment">// Score for avoiding collision.</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                <span class="keywordtype">bool</span> collision = <a class="code" href="../../d2/d10/namespace_obj.html#a4c0f546bb36d51ade2e317a6eebd04f3">get_collision</a>( feeler_start, end_offset_direction, feeler_length, &amp;worst_length );</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                <span class="keywordflow">if</span>( !collision )</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                    score += <a class="code" href="../../d2/d10/namespace_obj.html#a27f2c3b282c5af7dae5cf7fed0f69572">AVOID_COLLISION_SCORE</a>;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                <span class="comment">// Score for minimal turn distance.</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                score -= <a class="code" href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a>( step_angle ) * <a class="code" href="../../d2/d10/namespace_obj.html#a547fed0062dc7143b4b5cea8618d98be">TURN_ANGLE_SCORE_MULT</a>;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                <span class="keywordflow">if</span>( collision )</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                    <span class="comment">// Score for larger distances, use the percentage of this distance over the original collision distance.</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                    <span class="keywordtype">float</span> this_dist = worst_length;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                    <span class="keywordflow">if</span>( this_dist &gt; dist )</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                    {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                        <span class="keywordtype">float</span> pc = ( this_dist / dist ) * 100.0f;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                        score += pc * <a class="code" href="../../d2/d10/namespace_obj.html#a83887dafc14b4c86376988593db5d2c8">DISTANCE_PERCENTAGE_SCORE_MULT</a>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                    }</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                <span class="comment">// Score for being a turn in the same direction as last time.</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                <span class="comment">// Is this the best score yet?</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                <span class="keywordflow">if</span>( score &gt; best_score )</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                    best_score = score;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                    best_angle = step_angle;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                step_angle += <a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>( 3.0f );</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160; </div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <span class="comment">// Check for being in a potentially nasty situation.</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            <span class="keywordflow">if</span>( best_score &lt; <a class="code" href="../../d2/d10/namespace_obj.html#a4bd4ed3dc836881bfade6dc56ebdbe2d">PANIC_SCORE</a> )</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                <span class="comment">// Increment panic counter, give a small chance to fix itself.</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                ++<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a268710747967afa32520d96f2690d10f">m_path_follow_panic_counter</a>;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a268710747967afa32520d96f2690d10f">m_path_follow_panic_counter</a> &gt; 0 )</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a268710747967afa32520d96f2690d10f">m_path_follow_panic_counter</a> = 0;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a520cb46268fd3772798a1ec95879a609">switch_to_node_based_path_following</a>();</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            }</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160; </div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            <span class="comment">// Test - Immediately snap the direction to the best alternative.</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            <span class="keywordflow">if</span>( best_score &gt; 0.0f )</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;                cos_angle   = cosf( best_angle );</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                sin_angle   = sinf( best_angle );</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] - sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = sin_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + cos_angle * <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;                <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>( <span class="stringliteral">&quot;Changing heading by %f degrees\n&quot;</span>, best_angle );</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160; </div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>]             = end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>];</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]             = end_offset_direction[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;            }</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        }</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    }</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00115">Mth::Abs()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02034">Obj::AVOID_COLLISION_SCORE</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02207">cleanup_node_based_path_following()</a>, <a class="el" href="../../da/d45/_math_2math_8h_source.html#l00447">Mth::DegToRad()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02036">Obj::DISTANCE_PERCENTAGE_SCORE_MULT</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01904">Obj::get_collision()</a>, <a class="el" href="../../dc/d1a/basecomponent_8h_source.html#l00061">Obj::CBaseComponent::GetNextSameType()</a>, <a class="el" href="../../dd/dae/_horse_camera_component_8h_source.html#l00056">Obj::CHorseCameraComponent::GetState()</a>, <a class="el" href="../../dd/dae/_horse_camera_component_8h_source.html#l00057">Obj::CHorseCameraComponent::GetSubject()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00335">m_delta_angle</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00280">m_path_follow_panic_counter</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00158">mp_nav_nodes</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02038">Obj::PANIC_SCORE</a>, <a class="el" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf()</a>, <a class="el" href="../../dd/dae/_horse_camera_component_8h_source.html#l00038">Obj::CHorseCameraComponent::STATE_NORMAL</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">switch_to_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02035">Obj::TURN_ANGLE_SCORE_MULT</a>, <a class="el" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Vector()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">W</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>.</p>
<div id="dynsection-77" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-77-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-77-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-77-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a296fc3862b9f780a6d584ae4cf357c39_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-78" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-78-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-78-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-78-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a296fc3862b9f780a6d584ae4cf357c39_icgraph.svg" width="583" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a520cb46268fd3772798a1ec95879a609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520cb46268fd3772798a1ec95879a609">&#9670;&nbsp;</a></span>switch_to_node_based_path_following()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::switch_to_node_based_path_following </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">2219</a></p>
<div class="fragment"><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;{</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="comment">// Try various distances, the further the better.</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="keywordtype">float</span> target_distance = FEET_TO_INCHES( 500.0f );</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordflow">while</span>( target_distance &gt; FEET_TO_INCHES( 50.0f ))</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <span class="comment">// Generate a distant target position.</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> start_pos   = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a> + <a class="code" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Mth::Vector</a>( 0.0f, 60.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> target_pos  = start_pos + ( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a> * target_distance );</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        feeler.<a class="code" href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">m_start</a>  = target_pos + <a class="code" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Mth::Vector</a>( 0.0f, 12000.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        feeler.m_end    = target_pos - <a class="code" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Mth::Vector</a>( 0.0f, 12000.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="keywordflow">if</span>( feeler.GetCollision())</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            <span class="comment">// Adjust the target position to be 5 feet above ground level.</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;            target_pos = feeler.GetPoint() + <a class="code" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Mth::Vector</a>(  0.0f, 60.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        }</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;            <span class="comment">// Hmm, maybe should try different distances here.</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;            <span class="comment">// For now, Just go with what we started with.</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        }</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        CNavNode* p_target_node = <a class="code" href="../../d2/d10/namespace_obj.html#a3430ebf12318e73c4b34efabd5307370">CalculateNodePath</a>( start_pos, target_pos );</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <span class="keywordflow">if</span>( p_target_node == NULL )</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="comment">// Try with a shorter distance.</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            target_distance -= FEET_TO_INCHES( 50.0f );</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        }</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        <span class="comment">// A path was found, so set up the state accordingly. First count how many nodes on the path.</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        CNavNode*   p_node_counter  = p_target_node;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        <span class="keywordtype">int</span>         num_nodes       = 1;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        <span class="keywordflow">while</span>( p_node_counter-&gt;GetAStarNode()-&gt;mp_parent != NULL )</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;            ++num_nodes;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;            p_node_counter = p_node_counter-&gt;GetAStarNode()-&gt;mp_parent;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        }</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="comment">// Allocate memory for the path.</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a> )</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        {</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="keyword">delete</span> [] <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        }</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a> = <span class="keyword">new</span> CNavNode*[num_nodes];</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <span class="comment">// Fill in the array.</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a> = 0;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        <span class="keywordflow">while</span>( p_target_node )</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>[<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a>++] = p_target_node;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            p_target_node = p_target_node-&gt;<a class="code" href="../../d0/d6d/class_obj_1_1_c_nav_node.html#a233bea1ee6c7b5ce3678fdfeaf683bdd">GetAStarNode</a>()-&gt;<a class="code" href="../../d8/d31/struct_obj_1_1s_a_star_node.html#a23c71b0f1c68d1ec6e2b9cb20dc0a911">mp_parent</a>;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        }</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        --<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a>;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        <span class="comment">// mp_nav_nodes[m_nav_node_index] now points to the first node we need to visit.</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    }</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../da/d7b/navigation_8cpp_source.html#l00227">Obj::CalculateNodePath()</a>, <a class="el" href="../../d4/d9d/navigation_8h_source.html#l00078">Obj::CNavNode::GetAStarNode()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00159">m_nav_node_index</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../d4/d67/geometry_8h_source.html#l00082">Mth::Line::m_start</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00158">mp_nav_nodes</a>, <a class="el" href="../../d4/d9d/navigation_8h_source.html#l00057">Obj::sAStarNode::mp_parent</a> и <a class="el" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Vector()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>.</p>
<div id="dynsection-79" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-79-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-79-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-79-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a520cb46268fd3772798a1ec95879a609_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-80" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-80-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-80-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-80-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a520cb46268fd3772798a1ec95879a609_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4be8119bc88d7dcf8cf1a1e985536b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be8119bc88d7dcf8cf1a1e985536b5a">&#9670;&nbsp;</a></span>cleanup_node_based_path_following()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::cleanup_node_based_path_following </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02207">2207</a></p>
<div class="fragment"><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;{</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keyword">delete</span> [] <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a> = NULL;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00158">mp_nav_nodes</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>.</p>
<div id="dynsection-81" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-81-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-81-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-81-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a4be8119bc88d7dcf8cf1a1e985536b5a_icgraph.svg" width="100%" height="375"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a85dafed941e2aabbb56616f7d8c27457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85dafed941e2aabbb56616f7d8c27457">&#9670;&nbsp;</a></span>do_node_based_path_following()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Obj::CHorseComponent::do_node_based_path_following </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a> строка <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">2290</a></p>
<div class="fragment"><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;{</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="comment">// Are we within a reasonable distance of our current node?</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> target_node_pos = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>[<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a>]-&gt;<a class="code" href="../../d0/d6d/class_obj_1_1_c_nav_node.html#aba9197fbf158ed2680f8ab74747321fb">GetPos</a>() + <a class="code" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Mth::Vector</a>( 0.0f, 36.0f, 0.0f, 0.0f );</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordtype">float</span> dist = <a class="code" href="../../d5/db9/namespace_mth.html#a8274b66b51769c7dd8482aaf211b1a03">Mth::Distance</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>, target_node_pos );</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <span class="keywordflow">if</span>( dist &lt; ( 12.0f * 6.0f ))</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        <span class="comment">// Yes we are. Exit if no more nodes.</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a> == 0 )</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        {</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4be8119bc88d7dcf8cf1a1e985536b5a">cleanup_node_based_path_following</a>();</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        }</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <span class="comment">// Switch to the next node.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        --<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    }</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160; </div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> l = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a>; l &gt;= 0; --l )</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <a class="code" href="../../de/d47/namespace_gfx.html#aa5fe969d58eb3f2da559a24244a15ef9">Gfx::AddDebugStar</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>[l]-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">GetPos</a>(), 12.0f, MAKE_RGB( 255, 200, 0 ), 1 );</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160; </div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        <span class="keywordflow">if</span>( l &gt; 0 )</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <a class="code" href="../../de/d47/namespace_gfx.html#a1f9f2c8b6d5def6b6112dab8ed4f00b8">Gfx::AddDebugLine</a>( <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>[l]-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">GetPos</a>(), <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>[l - 1]-&gt;<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">GetPos</a>(), MAKE_RGB( 255, 255, 255 ), MAKE_RGB( 255, 255, 255 ), 1 );</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        }</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160; </div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="comment">// Head to the next node.</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> heading = <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">mp_nav_nodes</a>[<a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">m_nav_node_index</a>]-&gt;<a class="code" href="../../d0/d6d/class_obj_1_1_c_nav_node.html#aba9197fbf158ed2680f8ab74747321fb">GetPos</a>() - <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">m_pos</a>;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    heading[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0.0f;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    heading[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = 0.0f;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    heading.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Normalize</a>();</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = heading[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>];</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <a class="code" href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">m_facing</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = heading[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>];</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/d04/debuggfx_8cpp_source.html#l00394">Gfx::AddDebugLine()</a>, <a class="el" href="../../d4/d04/debuggfx_8cpp_source.html#l00511">Gfx::AddDebugStar()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02207">cleanup_node_based_path_following()</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l01045">Mth::Distance()</a>, <a class="el" href="../../d4/d9d/navigation_8h_source.html#l00079">Obj::CNavNode::GetPos()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00139">GetPos()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">m_facing</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00159">m_nav_node_index</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">m_pos</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00158">mp_nav_nodes</a>, <a class="el" href="../../df/d5f/vector_8inl_source.html#l00469">Mth::Vector::Normalize()</a>, <a class="el" href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Vector()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">W</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">X</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Y</a> и <a class="el" href="../../d6/d68/vector_8h_source.html#l00068">Z</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>.</p>
<div id="dynsection-82" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-82-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-82-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-82-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a85dafed941e2aabbb56616f7d8c27457_cgraph.svg" width="594" height="530"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-83" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-83-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-83-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-83-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/db5/class_obj_1_1_c_horse_component_a85dafed941e2aabbb56616f7d8c27457_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Данные класса</h2>
<a id="a4ed447d1bc5b8bb8cca4699871f89afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed447d1bc5b8bb8cca4699871f89afe">&#9670;&nbsp;</a></span>mp_nav_nodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d6d/class_obj_1_1_c_nav_node.html">Obj::CNavNode</a>** Obj::CHorseComponent::mp_nav_nodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00158">158</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02207">cleanup_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">switch_to_node_based_path_following()</a>.</p>

</div>
</div>
<a id="a1660cfa11640dd51f56cfea18d9a1e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1660cfa11640dd51f56cfea18d9a1e77">&#9670;&nbsp;</a></span>m_nav_node_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Obj::CHorseComponent::m_nav_node_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00159">159</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">switch_to_node_based_path_following()</a>.</p>

</div>
</div>
<a id="abc7dcd82c7e498f358fe34a9a7a62719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc7dcd82c7e498f358fe34a9a7a62719">&#9670;&nbsp;</a></span>m_orientation_matrix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> Obj::CHorseComponent::m_orientation_matrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00166">166</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>.</p>

</div>
</div>
<a id="acf85e1d7ff5c9b2cd6b7565d557492a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf85e1d7ff5c9b2cd6b7565d557492a0">&#9670;&nbsp;</a></span>m_vel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_vel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00169">169</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00140">GetVel()</a>.</p>

</div>
</div>
<a id="a4c560305a859a216b55438943ed6a2f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c560305a859a216b55438943ed6a2f5">&#9670;&nbsp;</a></span>m_rotvel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_rotvel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00172">172</a></p>

</div>
</div>
<a id="a1e5f09aa2859eeadd4dbe7668b305d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e5f09aa2859eeadd4dbe7668b305d99">&#9670;&nbsp;</a></span>m_time_step</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_time_step</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00178">178</a></p>

</div>
</div>
<a id="a84d619dfe8072af194b10960aa731e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d619dfe8072af194b10960aa731e9a">&#9670;&nbsp;</a></span>m_collision_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d4f/class_nx_1_1_c_coll_cache.html">Nx::CCollCache</a> Obj::CHorseComponent::m_collision_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00189">189</a></p>

</div>
</div>
<a id="acbb45c0410a14cdc4798ad3806fba5a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb45c0410a14cdc4798ad3806fba5a5">&#9670;&nbsp;</a></span>sp_collision_points</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dc3/struct_obj_1_1_c_horse_component_1_1_s_collision_point.html">CHorseComponent::SCollisionPoint</a> Obj::CHorseComponent::sp_collision_points</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00195">195</a></p>

</div>
</div>
<a id="ac7654ed1caca61f20f51cca41703cdd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7654ed1caca61f20f51cca41703cdd1">&#9670;&nbsp;</a></span>mp_rider</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d7b/class_obj_1_1_c_composite_object.html">CCompositeObject</a>* Obj::CHorseComponent::mp_rider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00197">197</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00568">AcceptRiderDismount()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00531">AcceptRiderMount()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00148">GetRider()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00554">ShouldUpdateCamera()</a>.</p>

</div>
</div>
<a id="aea8d7cbff2b850f1b0a15a7ee2113929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea8d7cbff2b850f1b0a15a7ee2113929">&#9670;&nbsp;</a></span>mp_skeleton_component</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dc6/class_obj_1_1_c_skeleton_component.html">CSkeletonComponent</a>* Obj::CHorseComponent::mp_skeleton_component</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00200">200</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">InitFromStructure()</a>.</p>

</div>
</div>
<a id="a49da17c42ce47542798fd689e0bb20b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49da17c42ce47542798fd689e0bb20b2">&#9670;&nbsp;</a></span>mp_input_component</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d0b/class_obj_1_1_c_input_component.html">CInputComponent</a>* Obj::CHorseComponent::mp_input_component</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00201">201</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">Finalize()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>

</div>
</div>
<a id="ae02a61a08b82c88a407680ac9ee301b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae02a61a08b82c88a407680ac9ee301b9">&#9670;&nbsp;</a></span>mp_model_component</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d52/class_obj_1_1_c_model_component.html">CModelComponent</a>* Obj::CHorseComponent::mp_model_component</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00202">202</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">Finalize()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a>.</p>

</div>
</div>
<a id="ad7367b4dbf0d906de55223f80214cc10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7367b4dbf0d906de55223f80214cc10">&#9670;&nbsp;</a></span>mp_animation_component</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d4f/class_obj_1_1_c_animation_component.html">CAnimationComponent</a>* Obj::CHorseComponent::mp_animation_component</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00203">203</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">Finalize()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00520">GetAnimation()</a>.</p>

</div>
</div>
<a id="a3a960917160e0041834701b686992e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a960917160e0041834701b686992e56">&#9670;&nbsp;</a></span>mp_movable_contact_component</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html">CMovableContactComponent</a>* Obj::CHorseComponent::mp_movable_contact_component</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00204">204</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">Finalize()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">leave_movable_contact_for_air()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>.</p>

</div>
</div>
<a id="ab2688f88799eacea3a91856192b81213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2688f88799eacea3a91856192b81213">&#9670;&nbsp;</a></span>m_draw_debug_lines</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Obj::CHorseComponent::m_draw_debug_lines</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00207">207</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00590">draw_debug_rendering()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">InitFromStructure()</a>.</p>

</div>
</div>
<a id="a03f125ceaa454854050fff6d3e6ba01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03f125ceaa454854050fff6d3e6ba01f">&#9670;&nbsp;</a></span>mp_contacts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html">Obj::CHorseComponent::SContact</a> Obj::CHorseComponent::mp_contacts[ <a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">vNUM_FEELERS</a> + 1 ]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>.</p>

</div>
</div>
<a id="a645c3eba97066f8e5b7b732d61970efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a645c3eba97066f8e5b7b732d61970efc">&#9670;&nbsp;</a></span>m_primary_air_direction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_primary_air_direction</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00245">245</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>.</p>

</div>
</div>
<a id="a2f969e8e8ff1528348df4f346e404524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f969e8e8ff1528348df4f346e404524">&#9670;&nbsp;</a></span>m_uncontrollable_air_horizontal_vel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_uncontrollable_air_horizontal_vel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00248">248</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">leave_movable_contact_for_air()</a>.</p>

</div>
</div>
<a id="a268710747967afa32520d96f2690d10f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268710747967afa32520d96f2690d10f">&#9670;&nbsp;</a></span>m_path_follow_panic_counter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Obj::CHorseComponent::m_path_follow_panic_counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00280">280</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>.</p>

</div>
</div>
<a id="a791914ebbbcf422ca69eb788fe8e2a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a791914ebbbcf422ca69eb788fe8e2a5e">&#9670;&nbsp;</a></span>m_offset_due_to_movable_contact</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_offset_due_to_movable_contact</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00283">283</a></p>

<p class="reference">Используется в <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>.</p>

</div>
</div>
<a id="afb2ed400ca2abf5595616eaaf4590659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb2ed400ca2abf5595616eaaf4590659">&#9670;&nbsp;</a></span>m_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a> Obj::CHorseComponent::m_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00285">285</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>, <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a6c0b1625c95465cc6f754e18457e8d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0b1625c95465cc6f754e18457e8d4e">&#9670;&nbsp;</a></span>m_state_timestamp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> Obj::CHorseComponent::m_state_timestamp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00288">288</a></p>

<p class="reference">Используется в <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>.</p>

</div>
</div>
<a id="a00c9b431981a160eb30b0b16de79c427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c9b431981a160eb30b0b16de79c427">&#9670;&nbsp;</a></span>m_previous_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2">EStateType</a> Obj::CHorseComponent::m_previous_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00291">291</a></p>

<p class="reference">Используется в <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>.</p>

</div>
</div>
<a id="ad859c08a42f7bd1380c731a68ddd5409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad859c08a42f7bd1380c731a68ddd5409">&#9670;&nbsp;</a></span>m_run_toggle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::m_run_toggle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00294">294</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>.</p>

</div>
</div>
<a id="a9f6e955e1be2ccb0f109b8fbe654d9bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6e955e1be2ccb0f109b8fbe654d9bb">&#9670;&nbsp;</a></span>m_wall_push_test</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html">Obj::CHorseComponent::SWallPushTest</a> Obj::CHorseComponent::m_wall_push_test</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>.</p>

</div>
</div>
<a id="acd11717108995d82557a47739f204a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd11717108995d82557a47739f204a6e">&#9670;&nbsp;</a></span>m_ground_normal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_ground_normal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00308">308</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00747">adjust_desired_speed_for_slope()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01476">lerp_upright()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a>.</p>

</div>
</div>
<a id="af2463e61d0db12bc45f96efb73687ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2463e61d0db12bc45f96efb73687ed9">&#9670;&nbsp;</a></span>m_display_slerp_matrix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> Obj::CHorseComponent::m_display_slerp_matrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00311">311</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">Finalize()</a>.</p>

</div>
</div>
<a id="aaec5dcf8848567bc983ce216b1fb8a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec5dcf8848567bc983ce216b1fb8a7e">&#9670;&nbsp;</a></span>mp_collision_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d4f/class_nx_1_1_c_coll_cache.html">Nx::CCollCache</a>* Obj::CHorseComponent::mp_collision_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00314">314</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">setup_collision_cache()</a>.</p>

</div>
</div>
<a id="aafcd877d68b0312085e29ed435160049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafcd877d68b0312085e29ed435160049">&#9670;&nbsp;</a></span>m_anim_standard_speed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_anim_standard_speed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00317">317</a></p>

</div>
</div>
<a id="a2c30a22155bf0d3064e9d34bdd13909d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c30a22155bf0d3064e9d34bdd13909d">&#9670;&nbsp;</a></span>m_last_ground_feeler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d35/class_c_feeler.html">CFeeler</a> Obj::CHorseComponent::m_last_ground_feeler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00320">320</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>.</p>

</div>
</div>
<a id="af84072be5eb62670856d8a10b7b8ebe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84072be5eb62670856d8a10b7b8ebe4">&#9670;&nbsp;</a></span>m_last_ground_feeler_valid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::m_last_ground_feeler_valid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00321">321</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a>.</p>

</div>
</div>
<a id="ac39bfaf9d71ff11f585dabf3fe6d7981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39bfaf9d71ff11f585dabf3fe6d7981">&#9670;&nbsp;</a></span>m_target_speed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_target_speed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00324">324</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>.</p>

</div>
</div>
<a id="a05c9b59420a78371ae35b889eab337c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c9b59420a78371ae35b889eab337c4">&#9670;&nbsp;</a></span>m_target_speed_adjustment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_target_speed_adjustment</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00325">325</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>.</p>

</div>
</div>
<a id="ade402090858c43cc50c80e5aac596f1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade402090858c43cc50c80e5aac596f1e">&#9670;&nbsp;</a></span>m_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00328">328</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01864">adjust_vertical_vel_for_ceiling()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">InitFromStructure()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">leave_movable_contact_for_air()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00492">MoveToNode()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">switch_to_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="aa86230cd5bfb38e34882e2c0a67d03f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86230cd5bfb38e34882e2c0a67d03f4">&#9670;&nbsp;</a></span>m_horizontal_vel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_horizontal_vel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00329">329</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">adjust_facing_for_adjusted_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a0c8f15a35a895b3bca81772a975165cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c8f15a35a895b3bca81772a975165cd">&#9670;&nbsp;</a></span>m_vertical_vel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_vertical_vel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00330">330</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01864">adjust_vertical_vel_for_ceiling()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="aa67379111faebd5c9a2f63e2ff4c19e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67379111faebd5c9a2f63e2ff4c19e9">&#9670;&nbsp;</a></span>m_facing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_facing</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00331">331</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00747">adjust_desired_speed_for_slope()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">adjust_facing_for_adjusted_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01540">calculate_feeler_offset_direction()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">do_node_based_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">jump()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">switch_to_node_based_path_following()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="adb10b9131cddad8dad301641d69516a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb10b9131cddad8dad301641d69516a5">&#9670;&nbsp;</a></span>m_upward</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_upward</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00332">332</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01476">lerp_upright()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a5d3276e0b0bd8e16fc242192e815efd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3276e0b0bd8e16fc242192e815efd9">&#9670;&nbsp;</a></span>m_delta_angle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_delta_angle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00335">335</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">do_path_following()</a>.</p>

</div>
</div>
<a id="aaf4475ec0cb1bde8a041467bfa5c812f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4475ec0cb1bde8a041467bfa5c812f">&#9670;&nbsp;</a></span>m_anim_scale_speed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574">EAnimScaleSpeed</a> Obj::CHorseComponent::m_anim_scale_speed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00338">338</a></p>

</div>
</div>
<a id="a3f4b10e35b8087f9defbb19494ed06a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4b10e35b8087f9defbb19494ed06a4">&#9670;&nbsp;</a></span>m_anim_effective_speed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_anim_effective_speed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00341">341</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00383">CallMemberFunction()</a>.</p>

</div>
</div>
<a id="a4b54c339660433227f0726b5874dded5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b54c339660433227f0726b5874dded5">&#9670;&nbsp;</a></span>m_script_drag_factor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_script_drag_factor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00344">344</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">InitFromStructure()</a>.</p>

</div>
</div>
<a id="ac17bba0ddceec7f3e5ba4db55737234c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17bba0ddceec7f3e5ba4db55737234c">&#9670;&nbsp;</a></span>m_frame_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_frame_length</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00347">347</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">adjust_facing_for_adjusted_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">adjust_horizontal_vel_for_environment()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">copy_state_into_object()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">leave_movable_contact_for_air()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a5067bdecae5a4c6bc3546f965e0ede4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5067bdecae5a4c6bc3546f965e0ede4c">&#9670;&nbsp;</a></span>m_control_direction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_control_direction</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00350">350</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">CHorseComponent()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>

</div>
</div>
<a id="a8f36f3ca0047082c886ff25774a778f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f36f3ca0047082c886ff25774a778f8">&#9670;&nbsp;</a></span>m_control_magnitude</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_control_magnitude</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00351">351</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">calculate_desired_speed()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">control_horizontal_vel()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>

</div>
</div>
<a id="a0b7a91b61ffc1e0151fe389d6646ffd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b7a91b61ffc1e0151fe389d6646ffd0">&#9670;&nbsp;</a></span>m_control_pegged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::m_control_pegged</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00352">352</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>

</div>
</div>
<a id="a42691c714a6d598e63dc3cb4f4bc1b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42691c714a6d598e63dc3cb4f4bc1b20">&#9670;&nbsp;</a></span>m_dpad_used_last_frame</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::m_dpad_used_last_frame</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00355">355</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a> и <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00411">set_state()</a>.</p>

</div>
</div>
<a id="ab45d9d0009a4fdd62593fec959814857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab45d9d0009a4fdd62593fec959814857">&#9670;&nbsp;</a></span>m_dpad_use_time_stamp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a> Obj::CHorseComponent::m_dpad_use_time_stamp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00358">358</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>

</div>
</div>
<a id="a341c9856f38249f111e3b6143c13ed46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a341c9856f38249f111e3b6143c13ed46">&#9670;&nbsp;</a></span>m_frame_start_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> Obj::CHorseComponent::m_frame_start_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00361">361</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">go_on_ground_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a805909289bc62e5fc281cf10b816d90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805909289bc62e5fc281cf10b816d90c">&#9670;&nbsp;</a></span>m_frame_event</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> Obj::CHorseComponent::m_frame_event</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00364">364</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">check_for_landing()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">go_in_air_state()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">uber_frig()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a0dad4829a6afdef24be5efa0efa99512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dad4829a6afdef24be5efa0efa99512">&#9670;&nbsp;</a></span>m_last_frame_event</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> Obj::CHorseComponent::m_last_frame_event</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00367">367</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">calculate_horizontal_speed_and_facing()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a0a879a1592db1c2ed0b8050080fa1cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a879a1592db1c2ed0b8050080fa1cc0">&#9670;&nbsp;</a></span>m_forward_control_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::m_forward_control_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00370">370</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">get_controller_input()</a>.</p>

</div>
</div>
<a id="a28cd0da7b8b7892abb5a0b0de938ef7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28cd0da7b8b7892abb5a0b0de938ef7e">&#9670;&nbsp;</a></span>m_curb_float_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Obj::CHorseComponent::m_curb_float_height</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00373">373</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a>, <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">respond_to_ground()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<a id="a218bf9f1a17ec98f8efa23b0719a6761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a218bf9f1a17ec98f8efa23b0719a6761">&#9670;&nbsp;</a></span>m_curb_float_height_adjusted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Obj::CHorseComponent::m_curb_float_height_adjusted</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a> строка <a class="el" href="../../df/da5/_horse_component_8h_source.html#l00376">376</a></p>

<p class="reference">Используется в <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">adjust_curb_float_height()</a> и <a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html#l00196">Update()</a>.</p>

</div>
</div>
<hr/>Объявления и описания членов классов находятся в файлах:<ul>
<li>C:/git/thug/src/gel/Components/<a class="el" href="../../df/da5/_horse_component_8h_source.html">HorseComponent.h</a></li>
<li>C:/git/thug/src/gel/Components/<a class="el" href="../../d3/d7e/_horse_component_8cpp_source.html">HorseComponent.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_c_feeler_html_a85369c8702f7abb6fffe8fae9cfacc48"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a85369c8702f7abb6fffe8fae9cfacc48">CFeeler::GetDist</a></div><div class="ttdeci">float GetDist() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00102">feeler.h:102</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ade402090858c43cc50c80e5aac596f1e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ade402090858c43cc50c80e5aac596f1e">Obj::CHorseComponent::m_pos</a></div><div class="ttdeci">Mth::Vector m_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00328">HorseComponent.h:328</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_acd11717108995d82557a47739f204a6e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#acd11717108995d82557a47739f204a6e">Obj::CHorseComponent::m_ground_normal</a></div><div class="ttdeci">Mth::Vector m_ground_normal</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00308">HorseComponent.h:308</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_ac68fbfe676c95bf1ada686076c00675a"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#ac68fbfe676c95bf1ada686076c00675a">Mth::Vector::Normalize</a></div><div class="ttdeci">Vector &amp; Normalize()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00469">vector.inl:469</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ac39bfaf9d71ff11f585dabf3fe6d7981"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac39bfaf9d71ff11f585dabf3fe6d7981">Obj::CHorseComponent::m_target_speed</a></div><div class="ttdeci">float m_target_speed</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00324">HorseComponent.h:324</a></div></div>
<div class="ttc" id="anamespace_obj_html_a27f2c3b282c5af7dae5cf7fed0f69572"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a27f2c3b282c5af7dae5cf7fed0f69572">Obj::AVOID_COLLISION_SCORE</a></div><div class="ttdeci">const float AVOID_COLLISION_SCORE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02034">HorseComponent.cpp:2034</a></div></div>
<div class="ttc" id="aclass_nx_1_1_c_viewport_manager_html_ab261671c2c6af15bf4d3b040c58c8a4b"><div class="ttname"><a href="../../d0/d19/class_nx_1_1_c_viewport_manager.html#ab261671c2c6af15bf4d3b040c58c8a4b">Nx::CViewportManager::sGetActiveCamera</a></div><div class="ttdeci">static Gfx::Camera * sGetActiveCamera(int cam=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de7/_nx_view_man_8cpp_source.html#l00266">NxViewMan.cpp:266</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a85bd320ee1e00de0354957925b6ec854"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a85bd320ee1e00de0354957925b6ec854">Obj::CHorseComponent::uber_frig</a></div><div class="ttdeci">void uber_frig(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01436">HorseComponent.cpp:1436</a></div></div>
<div class="ttc" id="astruct_obj_1_1_c_horse_component_1_1_s_wall_push_test_html_afe18037c7206c8f8150515bf7341b9d9"><div class="ttname"><a href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html#afe18037c7206c8f8150515bf7341b9d9">Obj::CHorseComponent::SWallPushTest::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00299">HorseComponent.h:299</a></div></div>
<div class="ttc" id="astruct_obj_1_1_c_horse_component_1_1_s_contact_html_a0c0b1a512e01bba22259adc5db07eff9"><div class="ttname"><a href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a0c0b1a512e01bba22259adc5db07eff9">Obj::CHorseComponent::SContact::movement</a></div><div class="ttdeci">float movement</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00235">HorseComponent.h:235</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_a88ad2190dc8bba653fc442dfed7c033a"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#a88ad2190dc8bba653fc442dfed7c033a">Mth::Vector::Length</a></div><div class="ttdeci">float Length(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00398">vector.inl:398</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a15f0fa105388082f285ceba337dc1c6e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a15f0fa105388082f285ceba337dc1c6e">Obj::CHorseComponent::set_state</a></div><div class="ttdeci">void set_state(EStateType state)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00411">HorseComponent.h:411</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a4d094b15f7d8dc8eb796a91781ed1851"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4d094b15f7d8dc8eb796a91781ed1851">Obj::CHorseComponent::GetPos</a></div><div class="ttdeci">const Mth::Vector &amp; GetPos(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00139">HorseComponent.h:139</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_a8d9be0465b6dbdbe506ed1b4a38886a3"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a8d9be0465b6dbdbe506ed1b4a38886a3">CFeeler::sSetDefaultCache</a></div><div class="ttdeci">static void sSetDefaultCache(Nx::CCollCache *p_cache)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00187">feeler.h:187</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a42ad9d6c42c57e29739a5c156999e1f7a0af76c3852ed91d7577d85006d309e3b"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42ad9d6c42c57e29739a5c156999e1f7a0af76c3852ed91d7577d85006d309e3b">Obj::CHorseComponent::vVP_NUM_WHEELS</a></div><div class="ttdeci">@ vVP_NUM_WHEELS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00066">HorseComponent.h:66</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_camera_component_html"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html">Obj::CHorseCameraComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dae/_horse_camera_component_8h_source.html#l00032">HorseCameraComponent.h:32</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_movable_contact_component_html_a4d5c894c757536ef2b8a60cac5395802"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a4d5c894c757536ef2b8a60cac5395802">Obj::CMovableContactComponent::LoseAnyContact</a></div><div class="ttdeci">void LoseAnyContact()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db1/_movable_contact_component_8h_source.html#l00074">MovableContactComponent.h:74</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_aa8c2bbc27a0427b6a123d66f308c77b6abcf1143afd4522b3edc277761a8d4ec1"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6abcf1143afd4522b3edc277761a8d4ec1">Obj::CBaseComponent::MF_FALSE</a></div><div class="ttdeci">@ MF_FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00040">basecomponent.h:40</a></div></div>
<div class="ttc" id="anamespace_tmr_html_a50be6f0b0f6cc99949aef978978a9d9e"><div class="ttname"><a href="../../d1/d0d/namespace_tmr.html#a50be6f0b0f6cc99949aef978978a9d9e">Tmr::Time</a></div><div class="ttdeci">uint32 Time</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd0/timer_8h_source.html#l00060">timer.h:60</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a218bf9f1a17ec98f8efa23b0719a6761"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a218bf9f1a17ec98f8efa23b0719a6761">Obj::CHorseComponent::m_curb_float_height_adjusted</a></div><div class="ttdeci">bool m_curb_float_height_adjusted</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00376">HorseComponent.h:376</a></div></div>
<div class="ttc" id="anamespace_mth_html_a718c0eeb7953d1e1c0d092227ce6fcab"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a718c0eeb7953d1e1c0d092227ce6fcab">Mth::SmoothMap</a></div><div class="ttdeci">float SmoothMap(float a, float b, float value, float value_min, float value_max)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00255">math.h:255</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_af2463e61d0db12bc45f96efb73687ed9"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#af2463e61d0db12bc45f96efb73687ed9">Obj::CHorseComponent::m_display_slerp_matrix</a></div><div class="ttdeci">Mth::Matrix m_display_slerp_matrix</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00311">HorseComponent.h:311</a></div></div>
<div class="ttc" id="anamespace_script_html_aaf10cce8c51e44ea46f7789b3db96bc0"><div class="ttname"><a href="../../d1/d54/namespace_script.html#aaf10cce8c51e44ea46f7789b3db96bc0">Script::GetStructure</a></div><div class="ttdeci">CStruct * GetStructure(uint32 checksum, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00639">symboltable.cpp:639</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a8f36f3ca0047082c886ff25774a778f8"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8f36f3ca0047082c886ff25774a778f8">Obj::CHorseComponent::m_control_magnitude</a></div><div class="ttdeci">float m_control_magnitude</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00351">HorseComponent.h:351</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a1910e90938159a2b294eb774c4748490"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a1910e90938159a2b294eb774c4748490">Obj::CCompositeObject::SetDisplayMatrix</a></div><div class="ttdeci">void SetDisplayMatrix(const Mth::Matrix &amp;matrix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00093">compositeobject.h:93</a></div></div>
<div class="ttc" id="anamespace_tmr_html_a3560bd3134b7b29bed7013950d91ad06"><div class="ttname"><a href="../../d1/d0d/namespace_tmr.html#a3560bd3134b7b29bed7013950d91ad06">Tmr::FrameLength</a></div><div class="ttdeci">float FrameLength()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d41/ngc_2p__timer_8cpp_source.html#l00430">p_timer.cpp:430</a></div></div>
<div class="ttc" id="a_defines_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned long uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00147">Defines.h:147</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_adbf7f70967c6ecbb67dd266df82a9574ab83b05580bb36a4f6c7169e222b4a03d"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574ab83b05580bb36a4f6c7169e222b4a03d">Obj::CHorseComponent::LADDERMOVE</a></div><div class="ttdeci">@ LADDERMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00062">HorseComponent.h:62</a></div></div>
<div class="ttc" id="ap__camera_8cpp_html_af1e98e1845604922bcc08e0088e8f74f"><div class="ttname"><a href="../../d0/db2/p__camera_8cpp.html#af1e98e1845604922bcc08e0088e8f74f">movement</a></div><div class="ttdeci">NsVector movement(0.0f, 0.0f, 0.0f)</div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a00c9b431981a160eb30b0b16de79c427"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a00c9b431981a160eb30b0b16de79c427">Obj::CHorseComponent::m_previous_state</a></div><div class="ttdeci">EStateType m_previous_state</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00291">HorseComponent.h:291</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a75b7d26db41ff7205f84d3315f317eec"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a75b7d26db41ff7205f84d3315f317eec">Obj::CHorseComponent::Finalize</a></div><div class="ttdeci">virtual void Finalize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00172">HorseComponent.cpp:172</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a03f125ceaa454854050fff6d3e6ba01f"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a03f125ceaa454854050fff6d3e6ba01f">Obj::CHorseComponent::mp_contacts</a></div><div class="ttdeci">struct Obj::CHorseComponent::SContact mp_contacts[vNUM_FEELERS+1]</div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a9f6e955e1be2ccb0f109b8fbe654d9bb"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9f6e955e1be2ccb0f109b8fbe654d9bb">Obj::CHorseComponent::m_wall_push_test</a></div><div class="ttdeci">struct Obj::CHorseComponent::SWallPushTest m_wall_push_test</div></div>
<div class="ttc" id="anamespace_script_html_af49b12363c52ae6f00363d582c3bdc7e"><div class="ttname"><a href="../../d1/d54/namespace_script.html#af49b12363c52ae6f00363d582c3bdc7e">Script::RunScript</a></div><div class="ttdeci">void RunScript(uint32 scriptChecksum, CStruct *p_params, Obj::CObject *p_object, bool netScript, const char *p_scriptName)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0f/script_8cpp_source.html#l02995">script.cpp:2995</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_aea160384997eb4812d98eba9f497e727"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">CFeeler::GetPoint</a></div><div class="ttdeci">const Mth::Vector &amp; GetPoint() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00107">feeler.h:107</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ab45d9d0009a4fdd62593fec959814857"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab45d9d0009a4fdd62593fec959814857">Obj::CHorseComponent::m_dpad_use_time_stamp</a></div><div class="ttdeci">Tmr::Time m_dpad_use_time_stamp</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00358">HorseComponent.h:358</a></div></div>
<div class="ttc" id="aclass_c_contact_html_a5b8f3611c64d7d04b94ba3b5620fb26a"><div class="ttname"><a href="../../d2/d52/class_c_contact.html#a5b8f3611c64d7d04b94ba3b5620fb26a">CContact::GetObject</a></div><div class="ttdeci">Obj::CCompositeObject * GetObject()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcf/contact_8h_source.html#l00032">contact.h:32</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_aa27bdd009eb62b22c75dac7b9398a902"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">Script::CStruct::ContainsFlag</a></div><div class="ttdeci">bool ContainsFlag(uint32 checksum) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01846">struct.cpp:1846</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a5067bdecae5a4c6bc3546f965e0ede4c"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5067bdecae5a4c6bc3546f965e0ede4c">Obj::CHorseComponent::m_control_direction</a></div><div class="ttdeci">Mth::Vector m_control_direction</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00350">HorseComponent.h:350</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_abdb5dd9ff4493d6fb1005969e608bed1"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#abdb5dd9ff4493d6fb1005969e608bed1">Mth::Vector::ProjectToNormal</a></div><div class="ttdeci">Vector &amp; ProjectToNormal(const Vector &amp;normal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1b/vector_8cpp_source.html#l00203">vector.cpp:203</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_animation_component_html_a8371d0b00a707a11e7c2df11bf5d9510"><div class="ttname"><a href="../../d3/d4f/class_obj_1_1_c_animation_component.html#a8371d0b00a707a11e7c2df11bf5d9510">Obj::CAnimationComponent::EnableBlending</a></div><div class="ttdeci">void EnableBlending(bool enabled)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2e/animationcomponent_8cpp_source.html#l01592">animationcomponent.cpp:1592</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_camera_component_html_a57f497266c1d45d6ca05eec6200ef501"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html#a57f497266c1d45d6ca05eec6200ef501">Obj::CHorseCameraComponent::GetState</a></div><div class="ttdeci">EStateType GetState(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dae/_horse_camera_component_8h_source.html#l00056">HorseCameraComponent.h:56</a></div></div>
<div class="ttc" id="astruct_obj_1_1s_a_star_node_html_a23c71b0f1c68d1ec6e2b9cb20dc0a911"><div class="ttname"><a href="../../d8/d31/struct_obj_1_1s_a_star_node.html#a23c71b0f1c68d1ec6e2b9cb20dc0a911">Obj::sAStarNode::mp_parent</a></div><div class="ttdeci">CNavNode * mp_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/navigation_8h_source.html#l00057">navigation.h:57</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a234b7c94fe4c16fc0f7c48e5315336a3"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a234b7c94fe4c16fc0f7c48e5315336a3">Obj::CHorseComponent::respond_to_ground</a></div><div class="ttdeci">void respond_to_ground(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01631">HorseComponent.cpp:1631</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_camera_component_html_aa7869f0d781ecd88ffd1dffef3366f09af90b5a4f0d2b5401fb7645fe389bfbf7"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html#aa7869f0d781ecd88ffd1dffef3366f09af90b5a4f0d2b5401fb7645fe389bfbf7">Obj::CHorseCameraComponent::STATE_NORMAL</a></div><div class="ttdeci">@ STATE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dae/_horse_camera_component_8h_source.html#l00038">HorseCameraComponent.h:38</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a18d374784f1787eb7b22b92a84084dfc"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a18d374784f1787eb7b22b92a84084dfc">Obj::CCompositeObject::GetMatrix</a></div><div class="ttdeci">Mth::Matrix &amp; GetMatrix(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00091">compositeobject.h:91</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_adb10b9131cddad8dad301641d69516a5"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#adb10b9131cddad8dad301641d69516a5">Obj::CHorseComponent::m_upward</a></div><div class="ttdeci">Mth::Vector m_upward</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00332">HorseComponent.h:332</a></div></div>
<div class="ttc" id="astruct_obj_1_1_c_horse_component_1_1_s_contact_html_a8adeb6a3682f8f8754df933690130dfa"><div class="ttname"><a href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a8adeb6a3682f8f8754df933690130dfa">Obj::CHorseComponent::SContact::normal</a></div><div class="ttdeci">Mth::Vector normal</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00226">HorseComponent.h:226</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a9295612e35a396392266323acdc81dac"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a9295612e35a396392266323acdc81dac">Obj::CHorseComponent::adjust_curb_float_height</a></div><div class="ttdeci">void adjust_curb_float_height(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01562">HorseComponent.cpp:1562</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a268710747967afa32520d96f2690d10f"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a268710747967afa32520d96f2690d10f">Obj::CHorseComponent::m_path_follow_panic_counter</a></div><div class="ttdeci">int m_path_follow_panic_counter</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00280">HorseComponent.h:280</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_input_component_html_a74e410efa46e9592d9f39c84ee85adf1"><div class="ttname"><a href="../../db/d0b/class_obj_1_1_c_input_component.html#a74e410efa46e9592d9f39c84ee85adf1">Obj::CInputComponent::GetControlPad</a></div><div class="ttdeci">CControlPad &amp; GetControlPad()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1a/_input_component_8h_source.html#l00050">InputComponent.h:50</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_movable_contact_component_html_a99fadd1411647c164bebaefc636c10f7"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a99fadd1411647c164bebaefc636c10f7">Obj::CMovableContactComponent::CheckForMovableContact</a></div><div class="ttdeci">bool CheckForMovableContact(CFeeler &amp;feeler)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dff/_movable_contact_component_8cpp_source.html#l00121">MovableContactComponent.cpp:121</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_addf10ff084fa457e293e69afe013ee4c"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#addf10ff084fa457e293e69afe013ee4c">Obj::CCompositeObject::GetPos</a></div><div class="ttdeci">const Mth::Vector &amp; GetPos(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00089">compositeobject.h:89</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_movable_contact_component_html_a16e4db6b4c9b98a1e9d9fe4734ab6e50"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a16e4db6b4c9b98a1e9d9fe4734ab6e50">Obj::CMovableContactComponent::CheckInsideObjects</a></div><div class="ttdeci">CCompositeObject * CheckInsideObjects(Mth::Vector &amp;pos, const Mth::Vector &amp;safe_pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dff/_movable_contact_component_8cpp_source.html#l00174">MovableContactComponent.cpp:174</a></div></div>
<div class="ttc" id="aclass_nx_1_1_c_coll_cache_manager_html_ae2812510fb736b3f4b87690a2fa23a37"><div class="ttname"><a href="../../d3/d8f/class_nx_1_1_c_coll_cache_manager.html#ae2812510fb736b3f4b87690a2fa23a37">Nx::CCollCacheManager::sCreateCollCache</a></div><div class="ttdeci">static CCollCache * sCreateCollCache()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d09/_coll_cache_8cpp_source.html#l00268">CollCache.cpp:268</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a341c9856f38249f111e3b6143c13ed46"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a341c9856f38249f111e3b6143c13ed46">Obj::CHorseComponent::m_frame_start_pos</a></div><div class="ttdeci">Mth::Vector m_frame_start_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00361">HorseComponent.h:361</a></div></div>
<div class="ttc" id="anamespace_mth_html_aaca09fd5728158c602a3970017204614"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#aaca09fd5728158c602a3970017204614">Mth::CrossProduct</a></div><div class="ttdeci">Vector CrossProduct(const Vector &amp;v1, const Vector &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l01000">vector.inl:1000</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5c58681a1ff81a807724182b2fb9ea66">Obj::CHorseComponent::WALKING_ANIMWAIT</a></div><div class="ttdeci">@ WALKING_ANIMWAIT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00054">HorseComponent.h:54</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a2ee2b8f420b2d3c3b32b0ca8757e0e08"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2ee2b8f420b2d3c3b32b0ca8757e0e08">Obj::CHorseComponent::copy_state_into_object</a></div><div class="ttdeci">void copy_state_into_object(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01498">HorseComponent.cpp:1498</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_object_html_a4eb63ba2d07ba494d8bbaf4729f2fc68"><div class="ttname"><a href="../../df/dde/class_obj_1_1_c_object.html#a4eb63ba2d07ba494d8bbaf4729f2fc68">Obj::CObject::SelfEvent</a></div><div class="ttdeci">void SelfEvent(uint32 event, Script::CStruct *pData=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d30/object_8cpp_source.html#l00927">object.cpp:927</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a0152254b1ef89dcf96916a708e4b1a0f"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a0152254b1ef89dcf96916a708e4b1a0f">Obj::CCompositeObject::SetMatrix</a></div><div class="ttdeci">void SetMatrix(const Mth::Matrix &amp;matrix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00092">compositeobject.h:92</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a503857dd0fbe8c968d5be69a08fb959e">Obj::CHorseComponent::vNUM_FEELERS</a></div><div class="ttdeci">@ vNUM_FEELERS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00216">HorseComponent.h:216</a></div></div>
<div class="ttc" id="anamespace_obj_html_a25104fb2105a70d19e7433b726225de1"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a25104fb2105a70d19e7433b726225de1">Obj::GetTimeAdjustedSlerp</a></div><div class="ttdeci">float GetTimeAdjustedSlerp(float slerp, float delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_camera_util_8cpp_source.html#l00060">CameraUtil.cpp:60</a></div></div>
<div class="ttc" id="anamespace_mth_html_adc6e7f87c6c36d52a16a9abceee925b4"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#adc6e7f87c6c36d52a16a9abceee925b4">Mth::Sqr</a></div><div class="ttdeci">float Sqr(float x)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00302">math.h:302</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ad7367b4dbf0d906de55223f80214cc10"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad7367b4dbf0d906de55223f80214cc10">Obj::CHorseComponent::mp_animation_component</a></div><div class="ttdeci">CAnimationComponent * mp_animation_component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00203">HorseComponent.h:203</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a4be8119bc88d7dcf8cf1a1e985536b5a"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4be8119bc88d7dcf8cf1a1e985536b5a">Obj::CHorseComponent::cleanup_node_based_path_following</a></div><div class="ttdeci">void cleanup_node_based_path_following(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02207">HorseComponent.cpp:2207</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_a880a8b9b7ec5b22563c6821ae0f1903e"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#a880a8b9b7ec5b22563c6821ae0f1903e">Obj::CBaseComponent::SetType</a></div><div class="ttdeci">void SetType(uint32 type)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00077">basecomponent.h:77</a></div></div>
<div class="ttc" id="anamespace_tmr_html_aeede2bf5e4d84e9aae6110f582389a96"><div class="ttname"><a href="../../d1/d0d/namespace_tmr.html#aeede2bf5e4d84e9aae6110f582389a96">Tmr::ElapsedTime</a></div><div class="ttdeci">Time ElapsedTime(Time time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd0/timer_8h_source.html#l00140">timer.h:140</a></div></div>
<div class="ttc" id="anamespace_skate_script_html_acd33f71672324e281bbe2ed96cd4c82d"><div class="ttname"><a href="../../de/dd2/namespace_skate_script.html#acd33f71672324e281bbe2ed96cd4c82d">SkateScript::FindNamedNode</a></div><div class="ttdeci">int FindNamedNode(uint32 checksum, bool assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8d/nodearray_8cpp_source.html#l00087">nodearray.cpp:87</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html_acd0a152525af4102cb6d87661e424306"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html#acd0a152525af4102cb6d87661e424306">CSkaterPad::m_leftLength</a></div><div class="ttdeci">float m_leftLength</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00075">SkaterPad.h:75</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a436673589a4a6f954927819ec0795ecd"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a436673589a4a6f954927819ec0795ecd">Obj::CHorseComponent::adjust_facing_for_adjusted_horizontal_vel</a></div><div class="ttdeci">void adjust_facing_for_adjusted_horizontal_vel(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01096">HorseComponent.cpp:1096</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a470af772feeecb623ea29dee9f4c2c3f"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a470af772feeecb623ea29dee9f4c2c3f">Obj::CCompositeObject::SetPos</a></div><div class="ttdeci">void SetPos(const Mth::Vector &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00090">compositeobject.h:90</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a18b3d9187e5aef6752918a0dfa58f2d2"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a18b3d9187e5aef6752918a0dfa58f2d2">Obj::CHorseComponent::position_rider</a></div><div class="ttdeci">void position_rider(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01890">HorseComponent.cpp:1890</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_aa39e6fe5fdf1d6c48136ae26a7ad511e"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">Script::CStruct::GetChecksum</a></div><div class="ttdeci">bool GetChecksum(uint32 nameChecksum, uint32 *p_checksum, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01658">struct.cpp:1658</a></div></div>
<div class="ttc" id="anamespace_mth_html_ab37069f5ecb0bab9cec330d926a9eeb4"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#ab37069f5ecb0bab9cec330d926a9eeb4">Mth::PI</a></div><div class="ttdeci">const float PI</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00440">math.h:440</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a805909289bc62e5fc281cf10b816d90c"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a805909289bc62e5fc281cf10b816d90c">Obj::CHorseComponent::m_frame_event</a></div><div class="ttdeci">uint32 m_frame_event</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00364">HorseComponent.h:364</a></div></div>
<div class="ttc" id="anamespace_mth_html_ab27db997c818cbc01396220b48f80a13"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#ab27db997c818cbc01396220b48f80a13">Mth::Lerp</a></div><div class="ttdeci">float Lerp(float a, float b, float value)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00214">math.h:214</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0dad4829a6afdef24be5efa0efa99512"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0dad4829a6afdef24be5efa0efa99512">Obj::CHorseComponent::m_last_frame_event</a></div><div class="ttdeci">uint32 m_last_frame_event</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00367">HorseComponent.h:367</a></div></div>
<div class="ttc" id="anamespace_mth_html_ab8f7791305c26c5bd278c0d38bb7cbeb"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#ab8f7791305c26c5bd278c0d38bb7cbeb">Mth::Min</a></div><div class="ttdeci">float Min(float a, float b)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00275">math.h:275</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a6c0b1625c95465cc6f754e18457e8d4e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a6c0b1625c95465cc6f754e18457e8d4e">Obj::CHorseComponent::m_state_timestamp</a></div><div class="ttdeci">Tmr::Time m_state_timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00288">HorseComponent.h:288</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a5d3276e0b0bd8e16fc242192e815efd9"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5d3276e0b0bd8e16fc242192e815efd9">Obj::CHorseComponent::m_delta_angle</a></div><div class="ttdeci">float m_delta_angle</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00335">HorseComponent.h:335</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_movable_contact_component_html_a7ded233e8dc3439336d8b5feef49f447"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#a7ded233e8dc3439336d8b5feef49f447">Obj::CMovableContactComponent::HaveContact</a></div><div class="ttdeci">bool HaveContact()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db1/_movable_contact_component_8h_source.html#l00090">MovableContactComponent.h:90</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html_adaae43c8c7e13a62dffa5186f5ef7f0b"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html#adaae43c8c7e13a62dffa5186f5ef7f0b">Mth::Matrix::SetFromAngles</a></div><div class="ttdeci">Matrix &amp; SetFromAngles(const Vector &amp;angles)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/matrix_8inl_source.html#l01038">matrix.inl:1038</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html_a277315379d835cdd0321539943a3081f"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html#a277315379d835cdd0321539943a3081f">CSkaterPad::m_leftY</a></div><div class="ttdeci">float m_leftY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00064">SkaterPad.h:64</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ab3ae56b622fda44f41268a77f0c741b6"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab3ae56b622fda44f41268a77f0c741b6">Obj::CHorseComponent::forced_run</a></div><div class="ttdeci">bool forced_run(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00401">HorseComponent.h:401</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a473dbe37c34403b6a03c9f15963eac62"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a473dbe37c34403b6a03c9f15963eac62">Obj::CCompositeObject::GetDisplayMatrix</a></div><div class="ttdeci">Mth::Matrix &amp; GetDisplayMatrix(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00094">compositeobject.h:94</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0a879a1592db1c2ed0b8050080fa1cc0"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a879a1592db1c2ed0b8050080fa1cc0">Obj::CHorseComponent::m_forward_control_lock</a></div><div class="ttdeci">bool m_forward_control_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00370">HorseComponent.h:370</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a43cf16df806a58f65c6d02231877e1a2a2ba63dbd91919b88fa2ba64d3ffb91cb"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a2ba63dbd91919b88fa2ba64d3ffb91cb">Obj::CHorseComponent::WALKING_HANG</a></div><div class="ttdeci">@ WALKING_HANG</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00052">HorseComponent.h:52</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a1660cfa11640dd51f56cfea18d9a1e77"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a1660cfa11640dd51f56cfea18d9a1e77">Obj::CHorseComponent::m_nav_node_index</a></div><div class="ttdeci">int m_nav_node_index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00159">HorseComponent.h:159</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_acf85e1d7ff5c9b2cd6b7565d557492a0"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#acf85e1d7ff5c9b2cd6b7565d557492a0">Obj::CHorseComponent::m_vel</a></div><div class="ttdeci">Mth::Vector m_vel</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00169">HorseComponent.h:169</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0e4d3901b156a73bf1bb051760997d22"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0e4d3901b156a73bf1bb051760997d22">Obj::CHorseComponent::control_horizontal_vel</a></div><div class="ttdeci">void control_horizontal_vel(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01737">HorseComponent.cpp:1737</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a296fc3862b9f780a6d584ae4cf357c39"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a296fc3862b9f780a6d584ae4cf357c39">Obj::CHorseComponent::do_path_following</a></div><div class="ttdeci">void do_path_following(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02045">HorseComponent.cpp:2045</a></div></div>
<div class="ttc" id="astruct_obj_1_1_c_horse_component_1_1_s_contact_html_a9a34f81bfa409caf1e751bd2df6ec70b"><div class="ttname"><a href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#a9a34f81bfa409caf1e751bd2df6ec70b">Obj::CHorseComponent::SContact::distance</a></div><div class="ttdeci">float distance</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00229">HorseComponent.h:229</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a4b54c339660433227f0726b5874dded5"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4b54c339660433227f0726b5874dded5">Obj::CHorseComponent::m_script_drag_factor</a></div><div class="ttdeci">float m_script_drag_factor</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00344">HorseComponent.h:344</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_adbf7f70967c6ecbb67dd266df82a9574a963d619887b6615ef89c1711effe2612"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a963d619887b6615ef89c1711effe2612">Obj::CHorseComponent::HANGMOVE</a></div><div class="ttdeci">@ HANGMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00061">HorseComponent.h:61</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_a952f40d99323d28b3ca2f55567edfa85"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#a952f40d99323d28b3ca2f55567edfa85">Obj::CBaseComponent::GetObject</a></div><div class="ttdeci">CCompositeObject * GetObject() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00059">basecomponent.h:59</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_aeb3fc85704c5e3811b7dd4bebff78b3f"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Mth::Vector::Set</a></div><div class="ttdeci">Vector &amp; Set(float cx=0.0f, float cy=0.0f, float cz=0.0f, float cw=1.0f)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00368">vector.inl:368</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a></div><div class="ttdeci">@ Y</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="anamespace_obj_html_a547fed0062dc7143b4b5cea8618d98be"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a547fed0062dc7143b4b5cea8618d98be">Obj::TURN_ANGLE_SCORE_MULT</a></div><div class="ttdeci">const float TURN_ANGLE_SCORE_MULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02035">HorseComponent.cpp:2035</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0685a3a987cbf4054b3384ea2bbc9f77"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0685a3a987cbf4054b3384ea2bbc9f77">Obj::CHorseComponent::leave_movable_contact_for_air</a></div><div class="ttdeci">void leave_movable_contact_for_air(Mth::Vector &amp;horizontal_vel, float &amp;vertical_vel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01703">HorseComponent.cpp:1703</a></div></div>
<div class="ttc" id="anamespace_mth_html_ae729e489f6c4e17060888db3cb5b2a8c"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#ae729e489f6c4e17060888db3cb5b2a8c">Mth::Max</a></div><div class="ttdeci">float Max(float a, float b)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00265">math.h:265</a></div></div>
<div class="ttc" id="astruct_obj_1_1_c_horse_component_1_1_s_contact_html_afcb9f3984399227780c3f4e37eba67b1"><div class="ttname"><a href="../../d9/d6d/struct_obj_1_1_c_horse_component_1_1_s_contact.html#afcb9f3984399227780c3f4e37eba67b1">Obj::CHorseComponent::SContact::in_collision</a></div><div class="ttdeci">bool in_collision</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00223">HorseComponent.h:223</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_aa8c2bbc27a0427b6a123d66f308c77b6a56171927079158674d748a0593274357"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a56171927079158674d748a0593274357">Obj::CBaseComponent::MF_NOT_EXECUTED</a></div><div class="ttdeci">@ MF_NOT_EXECUTED</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00042">basecomponent.h:42</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_script_html_a95b75cd110a15699d07bef528f96d7aa"><div class="ttname"><a href="../../db/df2/class_script_1_1_c_script.html#a95b75cd110a15699d07bef528f96d7aa">Script::CScript::GetParams</a></div><div class="ttdeci">CStruct * GetParams()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7f/script_8h_source.html#l00334">script.h:334</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_model_component_html_a000aef42ee124576ed2623e5cf0bebf9"><div class="ttname"><a href="../../df/d52/class_obj_1_1_c_model_component.html#a000aef42ee124576ed2623e5cf0bebf9">Obj::CModelComponent::ApplyLightingFromCollision</a></div><div class="ttdeci">void ApplyLightingFromCollision(CFeeler &amp;feeler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d14/modelcomponent_8cpp_source.html#l01760">modelcomponent.cpp:1760</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_ab77f5f45e45ad0f1ce8b7d7232a70cb1"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#ab77f5f45e45ad0f1ce8b7d7232a70cb1">Mth::Vector::LengthSqr</a></div><div class="ttdeci">float LengthSqr(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00385">vector.inl:385</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dec/struct_8h_source.html#l00052">struct.h:52</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html_af625e82da206d3cbd47cfd506e57f78a"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html#af625e82da206d3cbd47cfd506e57f78a">CSkaterPad::GetScaledLeftAnalogStickMagnitude</a></div><div class="ttdeci">float GetScaledLeftAnalogStickMagnitude()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00036">SkaterPad.h:36</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a8f0d3a121b9a9127ff9aa2723641b0e4">Obj::CHorseComponent::WALKING_GROUND</a></div><div class="ttdeci">@ WALKING_GROUND</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00049">HorseComponent.h:49</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_af436bd4a3aea0ae67aa7181369031782"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#af436bd4a3aea0ae67aa7181369031782">Obj::CHorseComponent::adjust_horizontal_vel_for_environment</a></div><div class="ttdeci">bool adjust_horizontal_vel_for_environment(bool wall_push_active)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00882">HorseComponent.cpp:882</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_movable_contact_component_html_ad831b02fddc5a82a3dc42defa6bcb665"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_movable_contact_component.html#ad831b02fddc5a82a3dc42defa6bcb665">Obj::CMovableContactComponent::GetContact</a></div><div class="ttdeci">CContact * GetContact()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db1/_movable_contact_component_8h_source.html#l00055">MovableContactComponent.h:55</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0a8219f7ac3f3ca1f9b31a2f8007ab3b"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0a8219f7ac3f3ca1f9b31a2f8007ab3b">Obj::CHorseComponent::GetVel</a></div><div class="ttdeci">const Mth::Vector &amp; GetVel(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00140">HorseComponent.h:140</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a791914ebbbcf422ca69eb788fe8e2a5e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a791914ebbbcf422ca69eb788fe8e2a5e">Obj::CHorseComponent::m_offset_due_to_movable_contact</a></div><div class="ttdeci">Mth::Vector m_offset_due_to_movable_contact</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00283">HorseComponent.h:283</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a5bd8dffec048b96240ca168a1984ed53"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5bd8dffec048b96240ca168a1984ed53">Obj::CHorseComponent::lerp_upright</a></div><div class="ttdeci">void lerp_upright(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01476">HorseComponent.cpp:1476</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_aea8d7cbff2b850f1b0a15a7ee2113929"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#aea8d7cbff2b850f1b0a15a7ee2113929">Obj::CHorseComponent::mp_skeleton_component</a></div><div class="ttdeci">CSkeletonComponent * mp_skeleton_component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00200">HorseComponent.h:200</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a276a813f19ac77b4ae5684cd35ae4695"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a276a813f19ac77b4ae5684cd35ae4695">Obj::CHorseComponent::get_controller_input</a></div><div class="ttdeci">void get_controller_input(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01296">HorseComponent.cpp:1296</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_acae6f1a5a02d406ab56292ec3fcfaefd"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#acae6f1a5a02d406ab56292ec3fcfaefd">Script::CStruct::GetFloat</a></div><div class="ttdeci">bool GetFloat(uint32 nameChecksum, float *p_floatValue, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01503">struct.cpp:1503</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_a00010acf2d35e57fd18cf272c8e7108a"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#a00010acf2d35e57fd18cf272c8e7108a">Obj::CBaseComponent::CCompositeObject</a></div><div class="ttdeci">friend class CCompositeObject</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00028">basecomponent.h:28</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_afed6456ddcfbb0d76ccf6d1cb24a5732a027417afd5c775739d5338dd81609f5f"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#afed6456ddcfbb0d76ccf6d1cb24a5732a027417afd5c775739d5338dd81609f5f">Obj::CHorseComponent::vNUM_BARRIER_HEIGHT_FEELERS</a></div><div class="ttdeci">@ vNUM_BARRIER_HEIGHT_FEELERS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00217">HorseComponent.h:217</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a42691c714a6d598e63dc3cb4f4bc1b20"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a42691c714a6d598e63dc3cb4f4bc1b20">Obj::CHorseComponent::m_dpad_used_last_frame</a></div><div class="ttdeci">bool m_dpad_used_last_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00355">HorseComponent.h:355</a></div></div>
<div class="ttc" id="aclass_gfx_1_1_camera_html"><div class="ttname"><a href="../../dd/daa/class_gfx_1_1_camera.html">Gfx::Camera</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df6/camera_8h_source.html#l00043">camera.h:43</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_a80fea312ec3a472e288443b2f4435d7c"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a80fea312ec3a472e288443b2f4435d7c">CFeeler::GetSector</a></div><div class="ttdeci">Nx::CCollObj * GetSector() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00132">feeler.h:132</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a43cf16df806a58f65c6d02231877e1a2a06dfcc14ad7c34a4370178f7db8ae9d1"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a06dfcc14ad7c34a4370178f7db8ae9d1">Obj::CHorseComponent::WALKING_LADDER</a></div><div class="ttdeci">@ WALKING_LADDER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00053">HorseComponent.h:53</a></div></div>
<div class="ttc" id="aclass_nx_1_1_c_coll_cache_html_ad1834000d2f81e13ad86003ce63efb8c"><div class="ttname"><a href="../../d5/d4f/class_nx_1_1_c_coll_cache.html#ad1834000d2f81e13ad86003ce63efb8c">Nx::CCollCache::Update</a></div><div class="ttdeci">void Update(const Mth::CBBox &amp;bbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d09/_coll_cache_8cpp_source.html#l00080">CollCache.cpp:80</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a847c66d2b9ed99bc36489dca616f1e70"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a847c66d2b9ed99bc36489dca616f1e70">Script::CStruct::ContainsComponentNamed</a></div><div class="ttdeci">bool ContainsComponentNamed(uint32 checksum) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01759">struct.cpp:1759</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0c8f15a35a895b3bca81772a975165cd"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0c8f15a35a895b3bca81772a975165cd">Obj::CHorseComponent::m_vertical_vel</a></div><div class="ttdeci">float m_vertical_vel</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00330">HorseComponent.h:330</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a3a960917160e0041834701b686992e56"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3a960917160e0041834701b686992e56">Obj::CHorseComponent::mp_movable_contact_component</a></div><div class="ttdeci">CMovableContactComponent * mp_movable_contact_component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00204">HorseComponent.h:204</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_aa68ecf39c87401a47b3c23b47d7e7b0a"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa68ecf39c87401a47b3c23b47d7e7b0a">Obj::CHorseComponent::calculate_horizontal_speed_and_facing</a></div><div class="ttdeci">void calculate_horizontal_speed_and_facing(float &amp;horizontal_speed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00778">HorseComponent.cpp:778</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_nav_node_html_aba9197fbf158ed2680f8ab74747321fb"><div class="ttname"><a href="../../d0/d6d/class_obj_1_1_c_nav_node.html#aba9197fbf158ed2680f8ab74747321fb">Obj::CNavNode::GetPos</a></div><div class="ttdeci">Mth::Vector &amp; GetPos(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/navigation_8h_source.html#l00079">navigation.h:79</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2a5e2457a6f43960833492a136558ba573">Obj::CHorseComponent::WALKING_AIR</a></div><div class="ttdeci">@ WALKING_AIR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00050">HorseComponent.h:50</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_animation_component_html_a61e5dc15e27f03d17fa81e0eaa2c840e"><div class="ttname"><a href="../../d3/d4f/class_obj_1_1_c_animation_component.html#a61e5dc15e27f03d17fa81e0eaa2c840e">Obj::CAnimationComponent::GetCurrentSequence</a></div><div class="ttdeci">uint32 GetCurrentSequence(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2e/animationcomponent_8cpp_source.html#l01018">animationcomponent.cpp:1018</a></div></div>
<div class="ttc" id="anamespace_skate_script_html_ac16f3fc967a7a8d4870b04f339477ea7"><div class="ttname"><a href="../../de/dd2/namespace_skate_script.html#ac16f3fc967a7a8d4870b04f339477ea7">SkateScript::GetAngles</a></div><div class="ttdeci">void GetAngles(CStruct *p_node, Mth::Vector *p_vector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8d/nodearray_8cpp_source.html#l00947">nodearray.cpp:947</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_adbf7f70967c6ecbb67dd266df82a9574a67d214c15356499d3f04159975968c1c"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a67d214c15356499d3f04159975968c1c">Obj::CHorseComponent::RUNNING</a></div><div class="ttdeci">@ RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00060">HorseComponent.h:60</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a7bd2141ef131ad1e64ec869978ce3351"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a7bd2141ef131ad1e64ec869978ce3351">Obj::CHorseComponent::CHorseComponent</a></div><div class="ttdeci">CHorseComponent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00092">HorseComponent.cpp:92</a></div></div>
<div class="ttc" id="aclass_c_skater_button_html_a61b52b36077d564ddebe8d614572e9e2"><div class="ttname"><a href="../../da/dd9/class_c_skater_button.html#a61b52b36077d564ddebe8d614572e9e2">CSkaterButton::ClearRelease</a></div><div class="ttdeci">void ClearRelease()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d22/_skater_button_8cpp_source.html#l00116">SkaterButton.cpp:116</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00088">vector.h:88</a></div></div>
<div class="ttc" id="anamespace_obj_html_a4c0f546bb36d51ade2e317a6eebd04f3"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a4c0f546bb36d51ade2e317a6eebd04f3">Obj::get_collision</a></div><div class="ttdeci">bool get_collision(Mth::Vector &amp;start, Mth::Vector &amp;direction, float length, float *p_worst_length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01904">HorseComponent.cpp:1904</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a23d29f9829ddb5950aad23641e5a4716"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a23d29f9829ddb5950aad23641e5a4716">Obj::CCompositeObject::GetVel</a></div><div class="ttdeci">Mth::Vector &amp; GetVel(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00107">compositeobject.h:107</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a3f4b10e35b8087f9defbb19494ed06a4"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3f4b10e35b8087f9defbb19494ed06a4">Obj::CHorseComponent::m_anim_effective_speed</a></div><div class="ttdeci">float m_anim_effective_speed</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00341">HorseComponent.h:341</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df4/matrix_8h_source.html#l00060">matrix.h:60</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_a6213a6d0794e924d7b2b310b97a5e1f2"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a6213a6d0794e924d7b2b310b97a5e1f2">CFeeler::GetMovingObject</a></div><div class="ttdeci">Obj::CCompositeObject * GetMovingObject()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00396">feeler.cpp:396</a></div></div>
<div class="ttc" id="anamespace_mth_html_a0543202913c3b99c7be87db3e13710b0"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a0543202913c3b99c7be87db3e13710b0">Mth::DotProduct</a></div><div class="ttdeci">float DotProduct(const Quat &amp;v1, const Quat &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db2/quat_8inl_source.html#l00522">quat.inl:522</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_abc7dcd82c7e498f358fe34a9a7a62719"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#abc7dcd82c7e498f358fe34a9a7a62719">Obj::CHorseComponent::m_orientation_matrix</a></div><div class="ttdeci">Mth::Matrix m_orientation_matrix</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00166">HorseComponent.h:166</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_acb4ca5507c65a1b5b968552d62cb6490"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#acb4ca5507c65a1b5b968552d62cb6490">Obj::CHorseComponent::go_on_ground_state</a></div><div class="ttdeci">void go_on_ground_state(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01143">HorseComponent.cpp:1143</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_a857f74a78460c52a1454db73e1c0a59d"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a857f74a78460c52a1454db73e1c0a59d">CFeeler::GetNormal</a></div><div class="ttdeci">const Mth::Vector &amp; GetNormal() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00112">feeler.h:112</a></div></div>
<div class="ttc" id="astruct_obj_1_1_c_horse_component_1_1_s_wall_push_test_html_a99dac61330b6151f97186e0f800b8815"><div class="ttname"><a href="../../d6/d22/struct_obj_1_1_c_horse_component_1_1_s_wall_push_test.html#a99dac61330b6151f97186e0f800b8815">Obj::CHorseComponent::SWallPushTest::test_start_time</a></div><div class="ttdeci">Tmr::Time test_start_time</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00302">HorseComponent.h:302</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_aa86230cd5bfb38e34882e2c0a67d03f4"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa86230cd5bfb38e34882e2c0a67d03f4">Obj::CHorseComponent::m_horizontal_vel</a></div><div class="ttdeci">Mth::Vector m_horizontal_vel</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00329">HorseComponent.h:329</a></div></div>
<div class="ttc" id="aclass_gfx_1_1_camera_html_ae2af213dc0845ab5e04de4a7f6afa138"><div class="ttname"><a href="../../dd/daa/class_gfx_1_1_camera.html#ae2af213dc0845ab5e04de4a7f6afa138">Gfx::Camera::GetPos</a></div><div class="ttdeci">Mth::Vector &amp; GetPos()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6b/camera_8cpp_source.html#l00280">camera.cpp:280</a></div></div>
<div class="ttc" id="anamespace_obj_html_a83887dafc14b4c86376988593db5d2c8"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a83887dafc14b4c86376988593db5d2c8">Obj::DISTANCE_PERCENTAGE_SCORE_MULT</a></div><div class="ttdeci">const float DISTANCE_PERCENTAGE_SCORE_MULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02036">HorseComponent.cpp:2036</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_aa2c2e4f5a505f8d992eed67fe5dc8999"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#aa2c2e4f5a505f8d992eed67fe5dc8999">CFeeler::DebugLine</a></div><div class="ttdeci">void DebugLine(int r=255, int g=255, int b=255, int num_frames=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00409">feeler.cpp:409</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_af84072be5eb62670856d8a10b7b8ebe4"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#af84072be5eb62670856d8a10b7b8ebe4">Obj::CHorseComponent::m_last_ground_feeler_valid</a></div><div class="ttdeci">bool m_last_ground_feeler_valid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00321">HorseComponent.h:321</a></div></div>
<div class="ttc" id="aclass_mth_1_1_c_b_box_html"><div class="ttname"><a href="../../dc/d50/class_mth_1_1_c_b_box.html">Mth::CBBox</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d67/geometry_8h_source.html#l00118">geometry.h:118</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ab2688f88799eacea3a91856192b81213"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ab2688f88799eacea3a91856192b81213">Obj::CHorseComponent::m_draw_debug_lines</a></div><div class="ttdeci">int m_draw_debug_lines</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00207">HorseComponent.h:207</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a96b60d6878f23321bf9c97b1f120da38"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a96b60d6878f23321bf9c97b1f120da38">Obj::CHorseComponent::MoveToNode</a></div><div class="ttdeci">void MoveToNode(Script::CStruct *p_node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00492">HorseComponent.cpp:492</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_a66f11c6027ceb3ee7527e4a70690b71d"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#a66f11c6027ceb3ee7527e4a70690b71d">Mth::Vector::ProjectToPlane</a></div><div class="ttdeci">Vector &amp; ProjectToPlane(const Vector &amp;normal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1b/vector_8cpp_source.html#l00151">vector.cpp:151</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a43cf16df806a58f65c6d02231877e1a2ab6314caadf83adab1ccd3035b037f42e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a43cf16df806a58f65c6d02231877e1a2ab6314caadf83adab1ccd3035b037f42e">Obj::CHorseComponent::WALKING_HOP</a></div><div class="ttdeci">@ WALKING_HOP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00051">HorseComponent.h:51</a></div></div>
<div class="ttc" id="aclass_gfx_1_1_camera_html_ac553ec618b57421feff839fcaf36bdb3"><div class="ttname"><a href="../../dd/daa/class_gfx_1_1_camera.html#ac553ec618b57421feff839fcaf36bdb3">Gfx::Camera::GetMatrix</a></div><div class="ttdeci">Mth::Matrix &amp; GetMatrix()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6b/camera_8cpp_source.html#l00300">camera.cpp:300</a></div></div>
<div class="ttc" id="ap__ezcommon_8h_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../d6/d01/p__ezcommon_8h.html#a89f234133d3efe315836311cbf21c64b">state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d01/p__ezcommon_8h_source.html#l00005">p_ezcommon.h:5</a></div></div>
<div class="ttc" id="anamespace_skate_script_html_a3c1cee7fcc78114109258e17c1802707"><div class="ttname"><a href="../../de/dd2/namespace_skate_script.html#a3c1cee7fcc78114109258e17c1802707">SkateScript::GetNode</a></div><div class="ttdeci">CStruct * GetNode(int nodeIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8d/nodearray_8cpp_source.html#l00803">nodearray.cpp:803</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a5fc8fd1788f18ada61dfda9f171c5a1a"><div class="ttname"><a href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a></div><div class="ttdeci">printf(&quot;%c\n&quot;, *p_itemsInList)</div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ac17bba0ddceec7f3e5ba4db55737234c"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac17bba0ddceec7f3e5ba4db55737234c">Obj::CHorseComponent::m_frame_length</a></div><div class="ttdeci">float m_frame_length</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00347">HorseComponent.h:347</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a05c9b59420a78371ae35b889eab337c4"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a05c9b59420a78371ae35b889eab337c4">Obj::CHorseComponent::m_target_speed_adjustment</a></div><div class="ttdeci">float m_target_speed_adjustment</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00325">HorseComponent.h:325</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_aa8c2bbc27a0427b6a123d66f308c77b6a44e542d6bb5fb42896e92fcc5e78b056"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#aa8c2bbc27a0427b6a123d66f308c77b6a44e542d6bb5fb42896e92fcc5e78b056">Obj::CBaseComponent::MF_TRUE</a></div><div class="ttdeci">@ MF_TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00041">basecomponent.h:41</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_aa58f7b399f7916c8163144517735396f"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa58f7b399f7916c8163144517735396f">Obj::CHorseComponent::jump</a></div><div class="ttdeci">void jump(float strength)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00630">HorseComponent.cpp:630</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_a4383081077e64d717b48969750fc083a"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#a4383081077e64d717b48969750fc083a">Obj::CCompositeObject::SetVel</a></div><div class="ttdeci">void SetVel(const Mth::Vector &amp;vel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/compositeobject_8h_source.html#l00108">compositeobject.h:108</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_abf4309b1a671392193628ea6e7c9f885"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#abf4309b1a671392193628ea6e7c9f885">Obj::CBaseComponent::GetNextSameType</a></div><div class="ttdeci">CBaseComponent * GetNextSameType() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/basecomponent_8h_source.html#l00061">basecomponent.h:61</a></div></div>
<div class="ttc" id="anamespace_skate_script_html_a5638e95247d626e24d46bfc5c7d7d068"><div class="ttname"><a href="../../de/dd2/namespace_skate_script.html#a5638e95247d626e24d46bfc5c7d7d068">SkateScript::GetPosition</a></div><div class="ttdeci">void GetPosition(CStruct *p_node, Mth::Vector *p_vector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8d/nodearray_8cpp_source.html#l00877">nodearray.cpp:877</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a4ed447d1bc5b8bb8cca4699871f89afe"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a4ed447d1bc5b8bb8cca4699871f89afe">Obj::CHorseComponent::mp_nav_nodes</a></div><div class="ttdeci">Obj::CNavNode ** mp_nav_nodes</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00158">HorseComponent.h:158</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html_a580b0b3f34e09de76b4b217e8838771f"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html#a580b0b3f34e09de76b4b217e8838771f">CSkaterPad::m_leftX</a></div><div class="ttdeci">float m_leftX</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00063">SkaterPad.h:63</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a19d622352d277c36ae1b44ac1690f430"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a19d622352d277c36ae1b44ac1690f430">Obj::CHorseComponent::go_in_air_state</a></div><div class="ttdeci">void go_in_air_state(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01216">HorseComponent.cpp:1216</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ae02a61a08b82c88a407680ac9ee301b9"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ae02a61a08b82c88a407680ac9ee301b9">Obj::CHorseComponent::mp_model_component</a></div><div class="ttdeci">CModelComponent * mp_model_component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00202">HorseComponent.h:202</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_composite_object_html_abdda76d2430386ad7af08f3a033dac99"><div class="ttname"><a href="../../dd/d7b/class_obj_1_1_c_composite_object.html#abdda76d2430386ad7af08f3a033dac99">Obj::CCompositeObject::GetComponent</a></div><div class="ttdeci">CBaseComponent * GetComponent(uint32 id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d95/compositeobject_8cpp_source.html#l00579">compositeobject.cpp:579</a></div></div>
<div class="ttc" id="anamespace_mth_html_a9d5105123d4f824fcab0a8e5b748774a"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a9d5105123d4f824fcab0a8e5b748774a">Mth::Abs</a></div><div class="ttdeci">int Abs(int x)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00115">math.h:115</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a0b7a91b61ffc1e0151fe389d6646ffd0"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a0b7a91b61ffc1e0151fe389d6646ffd0">Obj::CHorseComponent::m_control_pegged</a></div><div class="ttdeci">bool m_control_pegged</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00352">HorseComponent.h:352</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_afeb0666533cc55fc8db1c49054a79c90"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#afeb0666533cc55fc8db1c49054a79c90">Obj::CBaseComponent::CBaseComponent</a></div><div class="ttdeci">CBaseComponent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbd/basecomponent_8cpp_source.html#l00019">basecomponent.cpp:19</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_base_component_html_acb60b78cb120aaaa883df1fd4d4d15bf"><div class="ttname"><a href="../../d0/d7e/class_obj_1_1_c_base_component.html#acb60b78cb120aaaa883df1fd4d4d15bf">Obj::CBaseComponent::GetDebugInfo</a></div><div class="ttdeci">virtual void GetDebugInfo(Script::CStruct *p_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbd/basecomponent_8cpp_source.html#l00113">basecomponent.cpp:113</a></div></div>
<div class="ttc" id="aclass_c_feeler_html"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html">CFeeler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00029">feeler.h:29</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a49da17c42ce47542798fd689e0bb20b2"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a49da17c42ce47542798fd689e0bb20b2">Obj::CHorseComponent::mp_input_component</a></div><div class="ttdeci">CInputComponent * mp_input_component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00201">HorseComponent.h:201</a></div></div>
<div class="ttc" id="anamespace_mth_html_a2b4280ae191736bc0c6d331bf95a7c87"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a2b4280ae191736bc0c6d331bf95a7c87">Mth::ClampMin</a></div><div class="ttdeci">float ClampMin(float v, float min)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00170">math.h:170</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a88056b955a08ad60093a8b6a47ea7f36"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88056b955a08ad60093a8b6a47ea7f36">Obj::CHorseComponent::adjust_desired_speed_for_slope</a></div><div class="ttdeci">float adjust_desired_speed_for_slope(float desired_speed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00747">HorseComponent.cpp:747</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ad859c08a42f7bd1380c731a68ddd5409"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ad859c08a42f7bd1380c731a68ddd5409">Obj::CHorseComponent::m_run_toggle</a></div><div class="ttdeci">bool m_run_toggle</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00294">HorseComponent.h:294</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a520cb46268fd3772798a1ec95879a609"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a520cb46268fd3772798a1ec95879a609">Obj::CHorseComponent::switch_to_node_based_path_following</a></div><div class="ttdeci">void switch_to_node_based_path_following(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02219">HorseComponent.cpp:2219</a></div></div>
<div class="ttc" id="anamespace_obj_html_a4bd4ed3dc836881bfade6dc56ebdbe2d"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a4bd4ed3dc836881bfade6dc56ebdbe2d">Obj::PANIC_SCORE</a></div><div class="ttdeci">const float PANIC_SCORE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02038">HorseComponent.cpp:2038</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_ae97bed02600c38d620dc9a15f2cdb507"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#ae97bed02600c38d620dc9a15f2cdb507">CFeeler::sClearDefaultCache</a></div><div class="ttdeci">static void sClearDefaultCache()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00192">feeler.h:192</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a645c3eba97066f8e5b7b732d61970efc"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a645c3eba97066f8e5b7b732d61970efc">Obj::CHorseComponent::m_primary_air_direction</a></div><div class="ttdeci">Mth::Vector m_primary_air_direction</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00245">HorseComponent.h:245</a></div></div>
<div class="ttc" id="aclass_mth_1_1_line_html_a4bc5ff046792a776b7b0f9e5ea751200"><div class="ttname"><a href="../../da/db3/class_mth_1_1_line.html#a4bc5ff046792a776b7b0f9e5ea751200">Mth::Line::m_start</a></div><div class="ttdeci">Vector m_start</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d67/geometry_8h_source.html#l00082">geometry.h:82</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a7d0ad3e475c01e1b028f095b65e9ead8"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a7d0ad3e475c01e1b028f095b65e9ead8">Obj::CHorseComponent::adjust_vertical_vel_for_ceiling</a></div><div class="ttdeci">void adjust_vertical_vel_for_ceiling(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01864">HorseComponent.cpp:1864</a></div></div>
<div class="ttc" id="aclass_c_skater_button_html_a345702274dac5d99497f6f2ce2616dba"><div class="ttname"><a href="../../da/dd9/class_c_skater_button.html#a345702274dac5d99497f6f2ce2616dba">CSkaterButton::GetPressedTime</a></div><div class="ttdeci">uint32 GetPressedTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d22/_skater_button_8cpp_source.html#l00106">SkaterButton.cpp:106</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_af613aa46b1893ca41c3fcf935b1ef60e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#af613aa46b1893ca41c3fcf935b1ef60e">Obj::CHorseComponent::InitFromStructure</a></div><div class="ttdeci">virtual void InitFromStructure(Script::CStruct *pParams)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00128">HorseComponent.cpp:128</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a3ca7bae875d04b499bb9342406afd285"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a3ca7bae875d04b499bb9342406afd285">Obj::CHorseComponent::s_get_param</a></div><div class="ttdeci">static float s_get_param(uint32 checksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00385">HorseComponent.h:385</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_a9d80cbafe413f8be6c3409400c3eb517"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a9d80cbafe413f8be6c3409400c3eb517">CFeeler::IsMovableCollision</a></div><div class="ttdeci">bool IsMovableCollision()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00378">feeler.cpp:378</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a2c30a22155bf0d3064e9d34bdd13909d"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2c30a22155bf0d3064e9d34bdd13909d">Obj::CHorseComponent::m_last_ground_feeler</a></div><div class="ttdeci">CFeeler m_last_ground_feeler</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00320">HorseComponent.h:320</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_aaec5dcf8848567bc983ce216b1fb8a7e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#aaec5dcf8848567bc983ce216b1fb8a7e">Obj::CHorseComponent::mp_collision_cache</a></div><div class="ttdeci">Nx::CCollCache * mp_collision_cache</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00314">HorseComponent.h:314</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a8b0381cc338da75ee172c2030a12c832"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b0381cc338da75ee172c2030a12c832">Obj::CHorseComponent::account_for_movable_contact</a></div><div class="ttdeci">void account_for_movable_contact(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00603">HorseComponent.cpp:603</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a148f8f6bc239cff60340c410df449c71"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a148f8f6bc239cff60340c410df449c71">Script::CStruct::AddChecksum</a></div><div class="ttdeci">void AddChecksum(uint32 nameChecksum, uint32 checksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01071">struct.cpp:1071</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a5772d55b658711f0a0cbd59c4917adbd"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a5772d55b658711f0a0cbd59c4917adbd">Obj::CHorseComponent::calculate_feeler_offset_direction</a></div><div class="ttdeci">Mth::Vector calculate_feeler_offset_direction(int contact)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01540">HorseComponent.cpp:1540</a></div></div>
<div class="ttc" id="anamespace_mth_html_a8274b66b51769c7dd8482aaf211b1a03"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a8274b66b51769c7dd8482aaf211b1a03">Mth::Distance</a></div><div class="ttdeci">float Distance(const Vector &amp;v1, const Vector &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l01045">vector.inl:1045</a></div></div>
<div class="ttc" id="anamespace_obj_html_a3430ebf12318e73c4b34efabd5307370"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a3430ebf12318e73c4b34efabd5307370">Obj::CalculateNodePath</a></div><div class="ttdeci">CNavNode * CalculateNodePath(Mth::Vector pos, Mth::Vector target_pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7b/navigation_8cpp_source.html#l00227">navigation.cpp:227</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a72cbc04a4cdedc5488591e4324d75893"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a72cbc04a4cdedc5488591e4324d75893">Obj::CHorseComponent::check_for_landing</a></div><div class="ttdeci">void check_for_landing(const Mth::Vector &amp;previous_pos, const Mth::Vector &amp;final_pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l01805">HorseComponent.cpp:1805</a></div></div>
<div class="ttc" id="avector_8h_html_a97b62c44fa0ff9823c90a7588a9627c0"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a97b62c44fa0ff9823c90a7588a9627c0">Vector</a></div><div class="ttdeci">Vector()</div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a></div><div class="ttdeci">@ X</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_afb2ed400ca2abf5595616eaaf4590659"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#afb2ed400ca2abf5595616eaaf4590659">Obj::CHorseComponent::m_state</a></div><div class="ttdeci">EStateType m_state</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00285">HorseComponent.h:285</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_camera_component_html_a35fdf7da700bb0256e50bd87d548abbc"><div class="ttname"><a href="../../df/dc1/class_obj_1_1_c_horse_camera_component.html#a35fdf7da700bb0256e50bd87d548abbc">Obj::CHorseCameraComponent::GetSubject</a></div><div class="ttdeci">CHorseComponent * GetSubject(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dae/_horse_camera_component_8h_source.html#l00057">HorseCameraComponent.h:57</a></div></div>
<div class="ttc" id="anamespace_script_html_aa0c62774649e1e3abcab019ea335a3ad"><div class="ttname"><a href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a></div><div class="ttdeci">int GetInteger(uint32 checksum, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00514">symboltable.cpp:514</a></div></div>
<div class="ttc" id="aclass_mth_1_1_slerp_interpolator_html"><div class="ttname"><a href="../../d7/d2a/class_mth_1_1_slerp_interpolator.html">Mth::SlerpInterpolator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/slerp_8h_source.html#l00058">slerp.h:58</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a85dafed941e2aabbb56616f7d8c27457"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a85dafed941e2aabbb56616f7d8c27457">Obj::CHorseComponent::do_node_based_path_following</a></div><div class="ttdeci">void do_node_based_path_following(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l02290">HorseComponent.cpp:2290</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_ac7654ed1caca61f20f51cca41703cdd1"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#ac7654ed1caca61f20f51cca41703cdd1">Obj::CHorseComponent::mp_rider</a></div><div class="ttdeci">CCompositeObject * mp_rider</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00197">HorseComponent.h:197</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a></div><div class="ttdeci">@ Z</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="anamespace_gfx_html_a1f9f2c8b6d5def6b6112dab8ed4f00b8"><div class="ttname"><a href="../../de/d47/namespace_gfx.html#a1f9f2c8b6d5def6b6112dab8ed4f00b8">Gfx::AddDebugLine</a></div><div class="ttdeci">void AddDebugLine(const Mth::Vector &amp;v0, const Mth::Vector &amp;v1, int rgb0, int rgb1, int numDrawFrames)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d04/debuggfx_8cpp_source.html#l00394">debuggfx.cpp:394</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a40dfb370c37d6da857f33157b2b3bfc7"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a40dfb370c37d6da857f33157b2b3bfc7">Script::CStruct::GetVector</a></div><div class="ttdeci">bool GetVector(uint32 nameChecksum, Mth::Vector *p_vector, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01535">struct.cpp:1535</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a2f969e8e8ff1528348df4f346e404524"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a2f969e8e8ff1528348df4f346e404524">Obj::CHorseComponent::m_uncontrollable_air_horizontal_vel</a></div><div class="ttdeci">Mth::Vector m_uncontrollable_air_horizontal_vel</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00248">HorseComponent.h:248</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a8b5f4642490919591aa63c2d3d7715e0"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a8b5f4642490919591aa63c2d3d7715e0">Obj::CHorseComponent::RefreshFromStructure</a></div><div class="ttdeci">virtual void RefreshFromStructure(Script::CStruct *pParams)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00161">HorseComponent.cpp:161</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_abd7a2d461c00cfeba5dc38718b5a1f6c"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#abd7a2d461c00cfeba5dc38718b5a1f6c">Obj::CHorseComponent::calculate_desired_speed</a></div><div class="ttdeci">float calculate_desired_speed(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00678">HorseComponent.cpp:678</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a88cee941aabec65a2afb8c0febbba98e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a88cee941aabec65a2afb8c0febbba98e">Obj::CHorseComponent::setup_collision_cache</a></div><div class="ttdeci">void setup_collision_cache(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/_horse_component_8cpp_source.html#l00657">HorseComponent.cpp:657</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_aea1151612313752f5457aa1b15eca92b"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">CFeeler::GetCollision</a></div><div class="ttdeci">bool GetCollision(const Mth::Vector &amp;start, const Mth::Vector &amp;end, bool movables=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00366">feeler.cpp:366</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html_a14259352998bcf74c0f9bce4a5c37a86"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html#a14259352998bcf74c0f9bce4a5c37a86">CSkaterPad::m_leftAngle</a></div><div class="ttdeci">float m_leftAngle</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00074">SkaterPad.h:74</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_nav_node_html_a233bea1ee6c7b5ce3678fdfeaf683bdd"><div class="ttname"><a href="../../d0/d6d/class_obj_1_1_c_nav_node.html#a233bea1ee6c7b5ce3678fdfeaf683bdd">Obj::CNavNode::GetAStarNode</a></div><div class="ttdeci">sAStarNode * GetAStarNode(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/navigation_8h_source.html#l00078">navigation.h:78</a></div></div>
<div class="ttc" id="anamespace_script_html_a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a></div><div class="ttdeci">@ ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d49/scriptdefs_8h_source.html#l00016">scriptdefs.h:16</a></div></div>
<div class="ttc" id="anamespace_gfx_html_aa5fe969d58eb3f2da559a24244a15ef9"><div class="ttname"><a href="../../de/d47/namespace_gfx.html#aa5fe969d58eb3f2da559a24244a15ef9">Gfx::AddDebugStar</a></div><div class="ttdeci">void AddDebugStar(Mth::Vector v0, float r, int rgb0, int numDrawFrames)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d04/debuggfx_8cpp_source.html#l00511">debuggfx.cpp:511</a></div></div>
<div class="ttc" id="anamespace_mth_html_ab1c1b5804cee65f8c4f453adf4eaf30c"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#ab1c1b5804cee65f8c4f453adf4eaf30c">Mth::LinearMap</a></div><div class="ttdeci">float LinearMap(float a, float b, float value, float value_min, float value_max)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00224">math.h:224</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html_a06a07c27b6ed6a037b5dfaaeb5ba6cb2"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html#a06a07c27b6ed6a037b5dfaaeb5ba6cb2">Mth::Matrix::Ident</a></div><div class="ttdeci">Matrix &amp; Ident(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/matrix_8inl_source.html#l00043">matrix.inl:43</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_adbf7f70967c6ecbb67dd266df82a9574a805216bbae42adb502b80c2e617f7888"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#adbf7f70967c6ecbb67dd266df82a9574a805216bbae42adb502b80c2e617f7888">Obj::CHorseComponent::OFF</a></div><div class="ttdeci">@ OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00059">HorseComponent.h:59</a></div></div>
<div class="ttc" id="anamespace_mth_html_a7605206f9d659981632c4d485ffb6a6b"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a7605206f9d659981632c4d485ffb6a6b">Mth::ClampMax</a></div><div class="ttdeci">float ClampMax(float v, float max)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00187">math.h:187</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html">CSkaterPad</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00018">SkaterPad.h:18</a></div></div>
<div class="ttc" id="anamespace_mth_html_a5a88e8aff5b7bdd63a88cd62c1485814"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a></div><div class="ttdeci">float DegToRad(float degrees)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00447">math.h:447</a></div></div>
<div class="ttc" id="anamespace_tmr_html_a73fa70536cd356e6914161cb7737fd65"><div class="ttname"><a href="../../d1/d0d/namespace_tmr.html#a73fa70536cd356e6914161cb7737fd65">Tmr::GetTime</a></div><div class="ttdeci">Time GetTime(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d41/ngc_2p__timer_8cpp_source.html#l00546">p_timer.cpp:546</a></div></div>
<div class="ttc" id="aclass_mth_1_1_line_html_a5954350641b480cd8048e8aee11a2587"><div class="ttname"><a href="../../da/db3/class_mth_1_1_line.html#a5954350641b480cd8048e8aee11a2587">Mth::Line::m_end</a></div><div class="ttdeci">Vector m_end</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d67/geometry_8h_source.html#l00082">geometry.h:82</a></div></div>
<div class="ttc" id="aclass_c_skater_pad_html_acacdfcec7b1baa226b85f7ea3f8461ef"><div class="ttname"><a href="../../de/d49/class_c_skater_pad.html#acacdfcec7b1baa226b85f7ea3f8461ef">CSkaterPad::m_x</a></div><div class="ttdeci">CSkaterButton m_x</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d49/_skater_pad_8h_source.html#l00057">SkaterPad.h:57</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_aa67379111faebd5c9a2f63e2ff4c19e9"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#aa67379111faebd5c9a2f63e2ff4c19e9">Obj::CHorseComponent::m_facing</a></div><div class="ttdeci">Mth::Vector m_facing</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00331">HorseComponent.h:331</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_horse_component_html_a28cd0da7b8b7892abb5a0b0de938ef7e"><div class="ttname"><a href="../../d6/db5/class_obj_1_1_c_horse_component.html#a28cd0da7b8b7892abb5a0b0de938ef7e">Obj::CHorseComponent::m_curb_float_height</a></div><div class="ttdeci">float m_curb_float_height</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/_horse_component_8h_source.html#l00373">HorseComponent.h:373</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/d10/namespace_obj.html">Obj</a></li><li class="navelem"><a class="el" href="../../d6/db5/class_obj_1_1_c_horse_component.html">CHorseComponent</a></li>
    <li class="footer">Документация по OpenTHUG. Последние изменения: Вс 26 Апр 2020 03:50:00. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
