<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTHUG: Файл C:/git/thug/src/gel/Movies/ngc/p_movies.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTHUG
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">OpenTHUG: let&#39;s port THUG on Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/d5b/ngc_2p__movies_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Пространства имен</a> &#124;
<a href="#typedef-members">Определения типов</a> &#124;
<a href="#enum-members">Перечисления</a> &#124;
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle">
<div class="title">Файл p_movies.cpp</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">См. исходные тексты.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Пространства имен</h2></td></tr>
<tr class="memitem:d8/dbb/namespace_flx"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dbb/namespace_flx.html">Flx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Определения типов</h2></td></tr>
<tr class="memitem:a88a2bde45638dc51a6687cda8ae5c0cb"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a88a2bde45638dc51a6687cda8ae5c0cb">VID_AXPHASE</a></td></tr>
<tr class="separator:a88a2bde45638dc51a6687cda8ae5c0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Перечисления</h2></td></tr>
<tr class="memitem:a8b49d3a707ceea785388489532f98ccf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a> { <br />
&#160;&#160;<a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a> = 0, 
<a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a>, 
<a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a>, 
<a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a> = 0, 
<br />
&#160;&#160;<a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a>, 
<a class="el" href="../../de/d17/_a_u_d_simple_audio_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a>
<br />
 }</td></tr>
<tr class="separator:a8b49d3a707ceea785388489532f98ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Функции</h2></td></tr>
<tr class="memitem:a7b13eb2cc871b95a241e211f88e814b5"><td class="memItemLeft" align="right" valign="top">static VidChunk workChunk&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a7b13eb2cc871b95a241e211f88e814b5">ATTRIBUTE_ALIGN</a> (32)</td></tr>
<tr class="separator:a7b13eb2cc871b95a241e211f88e814b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d055291d176636e8b9ac0c91bbaa19a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback</a> (s32 result, DVDFileInfo *videoInfo)</td></tr>
<tr class="separator:a6d055291d176636e8b9ac0c91bbaa19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6125bb2c823ee60f9412f5c75dd26c8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6125bb2c823ee60f9412f5c75dd26c8d">VIDSimpleInit</a> (VIDAllocator _cbAlloc, VIDDeallocator _cbFree, VIDAllocator _cbLockedCache)</td></tr>
<tr class="memdesc:a6125bb2c823ee60f9412f5c75dd26c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes all player structures.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6125bb2c823ee60f9412f5c75dd26c8d">Подробнее...</a><br /></td></tr>
<tr class="separator:a6125bb2c823ee60f9412f5c75dd26c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9549e5723f42e69abbdbf88e963467"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a> (void)</td></tr>
<tr class="memdesc:a4b9549e5723f42e69abbdbf88e963467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request an async file transfer.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">Подробнее...</a><br /></td></tr>
<tr class="separator:a4b9549e5723f42e69abbdbf88e963467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0674d4499506c6db7f98eaea71a4552f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a0674d4499506c6db7f98eaea71a4552f">dvdDoneCallback</a> (s32 result, DVDFileInfo *_UNUSED(videoInfo))</td></tr>
<tr class="memdesc:a0674d4499506c6db7f98eaea71a4552f"><td class="mdescLeft">&#160;</td><td class="mdescRight">DVD callback if async transfer is finished (or aborted)  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a0674d4499506c6db7f98eaea71a4552f">Подробнее...</a><br /></td></tr>
<tr class="separator:a0674d4499506c6db7f98eaea71a4552f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f432b19416a3f910a7f6c214fc016e"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#af2f432b19416a3f910a7f6c214fc016e">VIDSimpleAllocDVDBuffers</a> (void)</td></tr>
<tr class="memdesc:af2f432b19416a3f910a7f6c214fc016e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate buffer memory for asynchronous dvd read.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#af2f432b19416a3f910a7f6c214fc016e">Подробнее...</a><br /></td></tr>
<tr class="separator:af2f432b19416a3f910a7f6c214fc016e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3427e70143583a36e942d419eaa6c068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3427e70143583a36e942d419eaa6c068">VIDSimpleFreeDVDBuffers</a> (void)</td></tr>
<tr class="memdesc:a3427e70143583a36e942d419eaa6c068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free buffer memory used for dvd read.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3427e70143583a36e942d419eaa6c068">Подробнее...</a><br /></td></tr>
<tr class="separator:a3427e70143583a36e942d419eaa6c068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af99a75796d559a4865f0664f708e7ccd"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#af99a75796d559a4865f0664f708e7ccd">VIDSimpleCreateDecoder</a> (BOOL supportBFrames)</td></tr>
<tr class="memdesc:af99a75796d559a4865f0664f708e7ccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new decoder instance.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#af99a75796d559a4865f0664f708e7ccd">Подробнее...</a><br /></td></tr>
<tr class="separator:af99a75796d559a4865f0664f708e7ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1479b42bde309ffee5ae04dba272108a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1479b42bde309ffee5ae04dba272108a">VIDSimpleDestroyDecoder</a> (void)</td></tr>
<tr class="memdesc:a1479b42bde309ffee5ae04dba272108a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy decoder instance.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1479b42bde309ffee5ae04dba272108a">Подробнее...</a><br /></td></tr>
<tr class="separator:a1479b42bde309ffee5ae04dba272108a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1813aad5c499a6dc649736045ab31d49"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1813aad5c499a6dc649736045ab31d49">VIDSimpleLoadStart</a> (BOOL loopMode)</td></tr>
<tr class="memdesc:a1813aad5c499a6dc649736045ab31d49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preload the allocated buffers.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1813aad5c499a6dc649736045ab31d49">Подробнее...</a><br /></td></tr>
<tr class="separator:a1813aad5c499a6dc649736045ab31d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559d721ef22dd85aade11b535dc56af5"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a559d721ef22dd85aade11b535dc56af5">VIDSimpleLoadStop</a> (void)</td></tr>
<tr class="memdesc:a559d721ef22dd85aade11b535dc56af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the asynchronous loading process.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a559d721ef22dd85aade11b535dc56af5">Подробнее...</a><br /></td></tr>
<tr class="separator:a559d721ef22dd85aade11b535dc56af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8189a80b247013f0bb94ddab34336bb"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad8189a80b247013f0bb94ddab34336bb">VIDSimpleOpen</a> (char *fileName, BOOL suppressAudio)</td></tr>
<tr class="memdesc:ad8189a80b247013f0bb94ddab34336bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open video file.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad8189a80b247013f0bb94ddab34336bb">Подробнее...</a><br /></td></tr>
<tr class="separator:ad8189a80b247013f0bb94ddab34336bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de3e2e92fd6d2b98aea590dfa79bcdc"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4de3e2e92fd6d2b98aea590dfa79bcdc">VIDSimpleClose</a> (void)</td></tr>
<tr class="memdesc:a4de3e2e92fd6d2b98aea590dfa79bcdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close open video file.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4de3e2e92fd6d2b98aea590dfa79bcdc">Подробнее...</a><br /></td></tr>
<tr class="separator:a4de3e2e92fd6d2b98aea590dfa79bcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e84ec0a9644af824ba0045f28c65f5"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a08e84ec0a9644af824ba0045f28c65f5">VIDSimpleDecode</a> (void)</td></tr>
<tr class="memdesc:a08e84ec0a9644af824ba0045f28c65f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode all frame data.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a08e84ec0a9644af824ba0045f28c65f5">Подробнее...</a><br /></td></tr>
<tr class="separator:a08e84ec0a9644af824ba0045f28c65f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a845c838a43536eaa4a0d045fb20a43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a7a845c838a43536eaa4a0d045fb20a43">VIDSimpleDraw</a> (GXRenderModeObj *<a class="el" href="../../d4/da4/p__hwinit_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>, u32 x, u32 y, u32 width, u32 height)</td></tr>
<tr class="memdesc:a7a845c838a43536eaa4a0d045fb20a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a decoded video frame.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a7a845c838a43536eaa4a0d045fb20a43">Подробнее...</a><br /></td></tr>
<tr class="separator:a7a845c838a43536eaa4a0d045fb20a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8900176a9cac007f7e2b75b52d7f04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a5e8900176a9cac007f7e2b75b52d7f04">VIDSimpleDrawXFB</a> (GXRenderModeObj *<a class="el" href="../../d4/da4/p__hwinit_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>, void *lcMem)</td></tr>
<tr class="memdesc:a5e8900176a9cac007f7e2b75b52d7f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw decoded frame directely into the XFB.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a5e8900176a9cac007f7e2b75b52d7f04">Подробнее...</a><br /></td></tr>
<tr class="separator:a5e8900176a9cac007f7e2b75b52d7f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af1f5d07b4617013df763046a0499bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a2af1f5d07b4617013df763046a0499bd">VIDSimpleGetVideoSize</a> (u32 *width, u32 *height)</td></tr>
<tr class="memdesc:a2af1f5d07b4617013df763046a0499bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get width and height of loaded video file.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a2af1f5d07b4617013df763046a0499bd">Подробнее...</a><br /></td></tr>
<tr class="separator:a2af1f5d07b4617013df763046a0499bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab711e7fe40edb8b83ddd243c015eaaf5"><td class="memItemLeft" align="right" valign="top">f32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab711e7fe40edb8b83ddd243c015eaaf5">VIDSimpleGetFPS</a> (void)</td></tr>
<tr class="memdesc:ab711e7fe40edb8b83ddd243c015eaaf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get FPS rate of loaded video file.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab711e7fe40edb8b83ddd243c015eaaf5">Подробнее...</a><br /></td></tr>
<tr class="separator:ab711e7fe40edb8b83ddd243c015eaaf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b52615baea22fe00035d8d797f4d56"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a43b52615baea22fe00035d8d797f4d56">VIDSimpleIsInterlace</a> (void)</td></tr>
<tr class="memdesc:a43b52615baea22fe00035d8d797f4d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the currently loaded video is in interlace mode or not.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a43b52615baea22fe00035d8d797f4d56">Подробнее...</a><br /></td></tr>
<tr class="separator:a43b52615baea22fe00035d8d797f4d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb45563601969f4a25faad7eb24f0bd2"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb45563601969f4a25faad7eb24f0bd2">VIDSimpleGetFrameCount</a> (void)</td></tr>
<tr class="memdesc:afb45563601969f4a25faad7eb24f0bd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of frames of loaded video file.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb45563601969f4a25faad7eb24f0bd2">Подробнее...</a><br /></td></tr>
<tr class="separator:afb45563601969f4a25faad7eb24f0bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af555e8acad2242dd3eb2bd98737b2ad4"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#af555e8acad2242dd3eb2bd98737b2ad4">VIDSimpleGetAudioSampleRate</a> (void)</td></tr>
<tr class="memdesc:af555e8acad2242dd3eb2bd98737b2ad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get audio sample rate in Hz.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#af555e8acad2242dd3eb2bd98737b2ad4">Подробнее...</a><br /></td></tr>
<tr class="separator:af555e8acad2242dd3eb2bd98737b2ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531300d885d5438aa9cc3bb3ca3f93cd"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a531300d885d5438aa9cc3bb3ca3f93cd">VIDSimpleCheckDVDError</a> (void)</td></tr>
<tr class="memdesc:a531300d885d5438aa9cc3bb3ca3f93cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for drive status.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a531300d885d5438aa9cc3bb3ca3f93cd">Подробнее...</a><br /></td></tr>
<tr class="separator:a531300d885d5438aa9cc3bb3ca3f93cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67d91cc6f662a04ecd1ff268508da8e"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab67d91cc6f662a04ecd1ff268508da8e">myAlloc</a> (u32 size)</td></tr>
<tr class="memdesc:ab67d91cc6f662a04ecd1ff268508da8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory allocation callback.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab67d91cc6f662a04ecd1ff268508da8e">Подробнее...</a><br /></td></tr>
<tr class="separator:ab67d91cc6f662a04ecd1ff268508da8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2460e8463ff750bc2b2078989415d61a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a2460e8463ff750bc2b2078989415d61a">myFree</a> (void *ptr)</td></tr>
<tr class="memdesc:a2460e8463ff750bc2b2078989415d61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory free callback.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a2460e8463ff750bc2b2078989415d61a">Подробнее...</a><br /></td></tr>
<tr class="separator:a2460e8463ff750bc2b2078989415d61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6cf71a1cc365bbccd40dece0929be0"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a7d6cf71a1cc365bbccd40dece0929be0">myAllocFromLC</a> (u32 size)</td></tr>
<tr class="memdesc:a7d6cf71a1cc365bbccd40dece0929be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory allocation callback for 'Locked Cache' memory.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a7d6cf71a1cc365bbccd40dece0929be0">Подробнее...</a><br /></td></tr>
<tr class="separator:a7d6cf71a1cc365bbccd40dece0929be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f6148999acca8d6dddcdf8fd1b80a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a53f6148999acca8d6dddcdf8fd1b80a6">VIDDrawGXRestore</a> (void)</td></tr>
<tr class="memdesc:a53f6148999acca8d6dddcdf8fd1b80a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore <a class="el" href="../../d6/d63/namespace_g_x.html">GX</a> graphics context to some 'defaults'.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a53f6148999acca8d6dddcdf8fd1b80a6">Подробнее...</a><br /></td></tr>
<tr class="separator:a53f6148999acca8d6dddcdf8fd1b80a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc8a3e635d331139856e6ada86702fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3bc8a3e635d331139856e6ada86702fc">VIDDrawGXYuv2RgbSetup</a> (GXRenderModeObj *<a class="el" href="../../d4/da4/p__hwinit_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>)</td></tr>
<tr class="memdesc:a3bc8a3e635d331139856e6ada86702fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup <a class="el" href="../../d6/d63/namespace_g_x.html">GX</a> for YUV conversion.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3bc8a3e635d331139856e6ada86702fc">Подробнее...</a><br /></td></tr>
<tr class="separator:a3bc8a3e635d331139856e6ada86702fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f6ccf303808eb4344d581b21881a9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa2f6ccf303808eb4344d581b21881a9b">VIDDrawGXYuv2RgbDraw</a> (s16 x, s16 y, s16 polygonWidth, s16 polygonHeight, const VIDImage *image)</td></tr>
<tr class="memdesc:aa2f6ccf303808eb4344d581b21881a9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a textured polygon using the decoded image a texture.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa2f6ccf303808eb4344d581b21881a9b">Подробнее...</a><br /></td></tr>
<tr class="separator:aa2f6ccf303808eb4344d581b21881a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59ba20434c089b34d17686de28a8433"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad59ba20434c089b34d17686de28a8433">AXCallback</a> (void)</td></tr>
<tr class="memdesc:ad59ba20434c089b34d17686de28a8433"><td class="mdescLeft">&#160;</td><td class="mdescRight">AX callback.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad59ba20434c089b34d17686de28a8433">Подробнее...</a><br /></td></tr>
<tr class="separator:ad59ba20434c089b34d17686de28a8433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f834c354ab4f2a1c98ad2e12c8dfbb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a97f834c354ab4f2a1c98ad2e12c8dfbb">VIDSimpleDoAudioDecodePCM16</a> (s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</td></tr>
<tr class="memdesc:a97f834c354ab4f2a1c98ad2e12c8dfbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">'Decode' PCM16 to PCM16  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a97f834c354ab4f2a1c98ad2e12c8dfbb">Подробнее...</a><br /></td></tr>
<tr class="separator:a97f834c354ab4f2a1c98ad2e12c8dfbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c9d229ee79938ffb08c739fa9d9658"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a06c9d229ee79938ffb08c739fa9d9658">VIDSimpleAudioBytesFromSamplesPCM16</a> (u32 samples)</td></tr>
<tr class="memdesc:a06c9d229ee79938ffb08c739fa9d9658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Misc conversion fucntions for PCM16 stream data.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a06c9d229ee79938ffb08c739fa9d9658">Подробнее...</a><br /></td></tr>
<tr class="separator:a06c9d229ee79938ffb08c739fa9d9658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b319d50c3de0cd4dfe0bea5ad8a69b"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a70b319d50c3de0cd4dfe0bea5ad8a69b">VIDSimpleAudioSamplesFromBytesPCM16</a> (u32 bytes)</td></tr>
<tr class="separator:a70b319d50c3de0cd4dfe0bea5ad8a69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0adab6ec235901aa449c554995d4da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb0adab6ec235901aa449c554995d4da">VIDSimpleDoAudioDecodeVAUD</a> (s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</td></tr>
<tr class="memdesc:afb0adab6ec235901aa449c554995d4da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode VAUD Data.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb0adab6ec235901aa449c554995d4da">Подробнее...</a><br /></td></tr>
<tr class="separator:afb0adab6ec235901aa449c554995d4da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65f92d387657afbb54c99d6c9ce40bb"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab65f92d387657afbb54c99d6c9ce40bb">VIDSimpleAudioBytesFromSamplesVAUD</a> (u32 samples)</td></tr>
<tr class="memdesc:ab65f92d387657afbb54c99d6c9ce40bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Misc conversion fucntions for VAUD stream data.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab65f92d387657afbb54c99d6c9ce40bb">Подробнее...</a><br /></td></tr>
<tr class="separator:ab65f92d387657afbb54c99d6c9ce40bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a590082399e3271a6144a515829892"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a75a590082399e3271a6144a515829892">VIDSimpleAudioSamplesFromBytesVAUD</a> (u32 bytes)</td></tr>
<tr class="separator:a75a590082399e3271a6144a515829892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab4e4a5c8723e213b8efa974d50c5af"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3ab4e4a5c8723e213b8efa974d50c5af">VIDSimpleInitAudioDecoder</a> (void)</td></tr>
<tr class="memdesc:a3ab4e4a5c8723e213b8efa974d50c5af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize audio decoder.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3ab4e4a5c8723e213b8efa974d50c5af">Подробнее...</a><br /></td></tr>
<tr class="separator:a3ab4e4a5c8723e213b8efa974d50c5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737bf27188582b3c6ccbb6a15e93a7c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a737bf27188582b3c6ccbb6a15e93a7c1">VIDSimpleExitAudioDecoder</a> (void)</td></tr>
<tr class="memdesc:a737bf27188582b3c6ccbb6a15e93a7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown audio decoder and free resources.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a737bf27188582b3c6ccbb6a15e93a7c1">Подробнее...</a><br /></td></tr>
<tr class="separator:a737bf27188582b3c6ccbb6a15e93a7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ef59366303f531e32b139514838a32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a12ef59366303f531e32b139514838a32">VIDSimpleAudioReset</a> (void)</td></tr>
<tr class="memdesc:a12ef59366303f531e32b139514838a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop audio playback without shutting down AI etc.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a12ef59366303f531e32b139514838a32">Подробнее...</a><br /></td></tr>
<tr class="separator:a12ef59366303f531e32b139514838a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fef36b44a5bd1bd911fa8bcf7607e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a29fef36b44a5bd1bd911fa8bcf7607e3">VIDSimpleAudioGetInfo</a> (VidAUDH *audioHeader)</td></tr>
<tr class="memdesc:a29fef36b44a5bd1bd911fa8bcf7607e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return some information about current audio stream.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a29fef36b44a5bd1bd911fa8bcf7607e3">Подробнее...</a><br /></td></tr>
<tr class="separator:a29fef36b44a5bd1bd911fa8bcf7607e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac3d7cb240f95f2449cefc9a8da833a"><td class="memItemLeft" align="right" valign="top">static BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#acac3d7cb240f95f2449cefc9a8da833a">audioDecode</a> (u32 numChannels, const s16 **samples, u32 sampleNum, void *userData)</td></tr>
<tr class="memdesc:acac3d7cb240f95f2449cefc9a8da833a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main audio data decode function.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#acac3d7cb240f95f2449cefc9a8da833a">Подробнее...</a><br /></td></tr>
<tr class="separator:acac3d7cb240f95f2449cefc9a8da833a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352bfd5da831761c09c2d76356c6339c"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a352bfd5da831761c09c2d76356c6339c">VIDSimpleAudioDecode</a> (const u8 *bitstream, u32 bitstreamLen)</td></tr>
<tr class="memdesc:a352bfd5da831761c09c2d76356c6339c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data from bitstream and direct to required encoding facility.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a352bfd5da831761c09c2d76356c6339c">Подробнее...</a><br /></td></tr>
<tr class="separator:a352bfd5da831761c09c2d76356c6339c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af8441064f697312923d87fd1496d25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a9af8441064f697312923d87fd1496d25">VIDSimpleAudioStartPlayback</a> (const u32 *playMaskArray, u32 numMasks)</td></tr>
<tr class="memdesc:a9af8441064f697312923d87fd1496d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable AI playback (within about 5ms)  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a9af8441064f697312923d87fd1496d25">Подробнее...</a><br /></td></tr>
<tr class="separator:a9af8441064f697312923d87fd1496d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50aa8652f64bcdd6cce4471b88f8c713"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a50aa8652f64bcdd6cce4471b88f8c713">VIDSimpleAudioChangePlayback</a> (const u32 *playMaskArray, u32 numMasks)</td></tr>
<tr class="memdesc:a50aa8652f64bcdd6cce4471b88f8c713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the active audio channels.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a50aa8652f64bcdd6cce4471b88f8c713">Подробнее...</a><br /></td></tr>
<tr class="separator:a50aa8652f64bcdd6cce4471b88f8c713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">audioCopy</a> (u32 smpOffset, u32 numSamples)</td></tr>
<tr class="memdesc:aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy PCM16 data from the read buffer into the audio buffer.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">Подробнее...</a><br /></td></tr>
<tr class="separator:aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919b3c35ed7f4d899df5645b0756ae66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dbb/namespace_flx.html#a919b3c35ed7f4d899df5645b0756ae66">Flx::PMovies_PlayMovie</a> (const char *pName)</td></tr>
<tr class="separator:a919b3c35ed7f4d899df5645b0756ae66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a77220b7bf827cb0bef0e036adb343a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dbb/namespace_flx.html#a9a77220b7bf827cb0bef0e036adb343a">Flx::Movie_Render</a> (void)</td></tr>
<tr class="separator:a9a77220b7bf827cb0bef0e036adb343a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:ad251bec5bf630ff0013c1db41fed583e"><td class="memItemLeft" align="right" valign="top">PADStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad251bec5bf630ff0013c1db41fed583e">padData</a> [PAD_MAX_CONTROLLERS]</td></tr>
<tr class="separator:ad251bec5bf630ff0013c1db41fed583e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5d55e87720b696bc7045286f00bbf9"><td class="memItemLeft" align="right" valign="top">GXColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb5d55e87720b696bc7045286f00bbf9">messageColor</a></td></tr>
<tr class="separator:afb5d55e87720b696bc7045286f00bbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0c2c2fe05db7cf6cece22ee8a229e8"><td class="memItemLeft" align="right" valign="top">GXRenderModeObj *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a></td></tr>
<tr class="separator:aef0c2c2fe05db7cf6cece22ee8a229e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880921edc6d5d692f29289a07e6c79a2"><td class="memItemLeft" align="right" valign="top">static u8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a> = 0</td></tr>
<tr class="memdesc:a880921edc6d5d692f29289a07e6c79a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base address for 'Locked Cache' simple memory manager.  <a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">Подробнее...</a><br /></td></tr>
<tr class="separator:a880921edc6d5d692f29289a07e6c79a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9104f0acd4f9d0e652de265bb7a899d7"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a9104f0acd4f9d0e652de265bb7a899d7">xfbLCStart</a> = 0</td></tr>
<tr class="separator:a9104f0acd4f9d0e652de265bb7a899d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659bf657e5fa1a5e835934ba9244b3d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a659bf657e5fa1a5e835934ba9244b3d7">g_legal</a></td></tr>
<tr class="separator:a659bf657e5fa1a5e835934ba9244b3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2de64762dceb8ee52c761d40eac538"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f2de64762dceb8ee52c761d40eac538">hwCurrentBuffer</a></td></tr>
<tr class="separator:a3f2de64762dceb8ee52c761d40eac538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee15ed765deb99e8f2e52599a63ef9d"><td class="memItemLeft" align="right" valign="top">VidSimplePlayer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a></td></tr>
<tr class="separator:adee15ed765deb99e8f2e52599a63ef9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae97a4c12080557b3fad389a526fbfcec"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a></td></tr>
<tr class="separator:ae97a4c12080557b3fad389a526fbfcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d8ac095e8a3c8d7d7e31aa8746ab52"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a></td></tr>
<tr class="separator:a16d8ac095e8a3c8d7d7e31aa8746ab52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5619833da1ff053ca18d068facc9b64"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a></td></tr>
<tr class="separator:ab5619833da1ff053ca18d068facc9b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9830a25c42d887ad982cc3d2b411a48"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a></td></tr>
<tr class="separator:ae9830a25c42d887ad982cc3d2b411a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c87bde08be64fc6865f8966ecf99911"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a></td></tr>
<tr class="separator:a6c87bde08be64fc6865f8966ecf99911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace982e9637937e4c80640da3bedf9037"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a> [VID_AUDIO_NUMAIBUFFERS]</td></tr>
<tr class="separator:ace982e9637937e4c80640da3bedf9037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f28398f5a133e921f1d9b69f9d7442"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a></td></tr>
<tr class="separator:a52f28398f5a133e921f1d9b69f9d7442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d13e8b470de605adcc5c88957b6aed"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a></td></tr>
<tr class="separator:a15d13e8b470de605adcc5c88957b6aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f74b805e6e7d3ae0f8fce841e7972a"><td class="memItemLeft" align="right" valign="top">static volatile BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a></td></tr>
<tr class="separator:a37f74b805e6e7d3ae0f8fce841e7972a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e20055108068549e7423aeca8a50ce1"><td class="memItemLeft" align="right" valign="top">static volatile BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8e20055108068549e7423aeca8a50ce1">audioPlayBackPossible</a></td></tr>
<tr class="separator:a8e20055108068549e7423aeca8a50ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a565e64a9257ccc69186c7e49f203fc10"><td class="memItemLeft" align="right" valign="top">static void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a> )(s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</td></tr>
<tr class="separator:a565e64a9257ccc69186c7e49f203fc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a641b0a7d06027618362e3a8e572549e8"><td class="memItemLeft" align="right" valign="top">static u32(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a641b0a7d06027618362e3a8e572549e8">VIDSimpleAudioBytesFromSamples</a> )(u32 samples)</td></tr>
<tr class="separator:a641b0a7d06027618362e3a8e572549e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f62540a2c93345cd4aa047393745c1"><td class="memItemLeft" align="right" valign="top">static u32(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa6f62540a2c93345cd4aa047393745c1">VIDSimpleAudioSamplesFromBytes</a> )(u32 bytes)</td></tr>
<tr class="separator:aa6f62540a2c93345cd4aa047393745c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ae1b65495b11b6a5624e6f3c18e440"><td class="memItemLeft" align="right" valign="top">static const u32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad5ae1b65495b11b6a5624e6f3c18e440">audioPlayMaskArray</a></td></tr>
<tr class="separator:ad5ae1b65495b11b6a5624e6f3c18e440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473aaa07535a5bdcf6ea5067ce8ba30b"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a></td></tr>
<tr class="separator:a473aaa07535a5bdcf6ea5067ce8ba30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d59fbeb0a3361a9f9b3273bf1f59961"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a></td></tr>
<tr class="separator:a1d59fbeb0a3361a9f9b3273bf1f59961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b4bc3f65824a1e37ae889055487a16"><td class="memItemLeft" align="right" valign="top">static AXVPB *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a> [2]</td></tr>
<tr class="separator:ab8b4bc3f65824a1e37ae889055487a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73033ab7ad0d1961bced9b9225b23bd2"><td class="memItemLeft" align="right" valign="top">static ARQRequest&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a73033ab7ad0d1961bced9b9225b23bd2">arqRequest</a> [2][VID_AUDIO_NUMAIREQUESTS]</td></tr>
<tr class="separator:a73033ab7ad0d1961bced9b9225b23bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba07e1699b33c8c0ddb302d2e36c2b4e"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a></td></tr>
<tr class="separator:aba07e1699b33c8c0ddb302d2e36c2b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6506fade5f2f98afaa90730587349300"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a></td></tr>
<tr class="separator:a6506fade5f2f98afaa90730587349300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ec0649f9b8782d422cd1acb285a3f3"><td class="memItemLeft" align="right" valign="top">static f32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a></td></tr>
<tr class="separator:ab1ec0649f9b8782d422cd1acb285a3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6d2d73afad1cda8ae4eafff4ecad8d"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f6d2d73afad1cda8ae4eafff4ecad8d">axMinAvailFrames</a></td></tr>
<tr class="separator:a3f6d2d73afad1cda8ae4eafff4ecad8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d66be1adab50007d503d2256821fc50"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a></td></tr>
<tr class="separator:a8d66be1adab50007d503d2256821fc50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Типы</h2>
<a id="a88a2bde45638dc51a6687cda8ae5c0cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a2bde45638dc51a6687cda8ae5c0cb">&#9670;&nbsp;</a></span>VID_AXPHASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a> <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Перечисления</h2>
<a id="a8b49d3a707ceea785388489532f98ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b49d3a707ceea785388489532f98ccf">&#9670;&nbsp;</a></span>VID_AXPHASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Элементы перечислений</th></tr><tr><td class="fieldname"><a id="a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0"></a>AX_PHASE_STARTUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463"></a>AX_PHASE_START&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911"></a>AX_PHASE_PLAY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0"></a>AX_PHASE_STARTUP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463"></a>AX_PHASE_START&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911"></a>AX_PHASE_PLAY&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01310">1310</a></p>
<div class="fragment"><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                         {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a> = 0,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a>,</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;} <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a>;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Функции</h2>
<a id="a7b13eb2cc871b95a241e211f88e814b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b13eb2cc871b95a241e211f88e814b5">&#9670;&nbsp;</a></span>ATTRIBUTE_ALIGN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VidChunk workChunk ATTRIBUTE_ALIGN </td>
          <td>(</td>
          <td class="paramtype">32&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d055291d176636e8b9ac0c91bbaa19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d055291d176636e8b9ac0c91bbaa19a">&#9670;&nbsp;</a></span>dvdDoneCallback() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dvdDoneCallback </td>
          <td>(</td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DVDFileInfo *&#160;</td>
          <td class="paramname"><em>videoInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00138">ReadFrameAsync()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a6d055291d176636e8b9ac0c91bbaa19a_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6125bb2c823ee60f9412f5c75dd26c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6125bb2c823ee60f9412f5c75dd26c8d">&#9670;&nbsp;</a></span>VIDSimpleInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleInit </td>
          <td>(</td>
          <td class="paramtype">VIDAllocator&#160;</td>
          <td class="paramname"><em>_cbAlloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VIDDeallocator&#160;</td>
          <td class="paramname"><em>_cbFree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VIDAllocator&#160;</td>
          <td class="paramname"><em>_cbLockedCache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes all player structures. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00120">120</a></p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    memset(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc = _cbAlloc;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree = _cbFree;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbLockedCache = _cbLockedCache;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a6125bb2c823ee60f9412f5c75dd26c8d_icgraph.svg" width="322" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4b9549e5723f42e69abbdbf88e963467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9549e5723f42e69abbdbf88e963467">&#9670;&nbsp;</a></span>ReadFrameAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ReadFrameAsync </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request an async file transfer. </p>
<p>This function starts the transfer of the next frame into a free buffer. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00138">138</a></p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.error &amp;&amp; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.preFetchState == TRUE)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount &gt;  <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxFrameCount - 1)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.loopMode)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount = 0;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameOffset;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize  = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameSize;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning = TRUE;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (DVDReadAsync(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                         <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].ptr,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                         (s32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                         (s32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback</a>) != TRUE )</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning = FALSE;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.error = TRUE;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00186">dvdDoneCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00762">VIDSimpleDecode()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a4b9549e5723f42e69abbdbf88e963467_cgraph.svg" width="307" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a4b9549e5723f42e69abbdbf88e963467_icgraph.svg" width="523" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0674d4499506c6db7f98eaea71a4552f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0674d4499506c6db7f98eaea71a4552f">&#9670;&nbsp;</a></span>dvdDoneCallback() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dvdDoneCallback </td>
          <td>(</td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DVDFileInfo *&#160;</td>
          <td class="paramname"><em>_UNUSED</em>videoInfo&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DVD callback if async transfer is finished (or aborted) </p>
<p>The idea here is to transfer ONE frame and additional 32 bytes for the HEADER of the NEXT frame in one transfer step. We store the size of the next frame, which is used in <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4b9549e5723f42e69abbdbf88e963467" title="Request an async file transfer.">ReadFrameAsync()</a>.</p>
<dl class="section note"><dt>Заметки</dt><dd>There a 32 padding bytes at the end of the .vid file. So, the reading of 32 additional bytes is even possible for the LAST frame. (Otherwise, we would 'point' out of the file)</dd></dl>
<p>See Dolphin documentation for information about parameters. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00186">186</a></p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (result == DVD_RESULT_FATAL_ERROR)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.error = TRUE;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == DVD_RESULT_CANCELED)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning = FALSE;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].frameNumber = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].size = (u32)result; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].valid = TRUE;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount++;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// move file pointer</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset += <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount &lt; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxFrameCount)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// set read size for next &#39;FRAM&#39; chunk</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        u32* nextFrameStart = (u32*)(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].ptr + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize - 32);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="comment">// some check if file structure is okay</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(nextFrameStart[0] == VID_FCC(<span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;M&#39;</span>));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">// get the size of the next &#39;FRAM&#39; chunk to read</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize = nextFrameStart[1];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize = 0;   <span class="comment">// at end of file we have a size of &#39;0&#39;. This should be reinitialized later</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                    <span class="comment">// using the size of the first frame somwhere else! Otherwise, we get an assertion</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// use next buffer</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex = (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex + 1) % VID_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// continue loading if we have a free buffer</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].valid)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00138">ReadFrameAsync()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a0674d4499506c6db7f98eaea71a4552f_cgraph.svg" width="476" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af2f432b19416a3f910a7f6c214fc016e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f432b19416a3f910a7f6c214fc016e">&#9670;&nbsp;</a></span>VIDSimpleAllocDVDBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleAllocDVDBuffers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate buffer memory for asynchronous dvd read. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">memAlloc</td><td>Pointer to memory allocation function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if DVD buffer setup was successful. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00246">246</a></p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    u32 i;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    u32 bufferSize;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    u8* ptr;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    bufferSize = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxBufferSize;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(bufferSize);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    bufferSize += VID_CHUNK_HEADER_SIZE;    <span class="comment">// &#39;fram&#39; header</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    bufferSize += VID_CHUNK_HEADER_SIZE;    <span class="comment">// &#39;vidd&#39; header</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    bufferSize = OSRoundUp32B(bufferSize);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBufferBaseMem = (u8*)((*<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc)(bufferSize * VID_NUM_READ_BUFFERS));</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBufferBaseMem)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> FALSE;   <span class="comment">// out of mem</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    ptr = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBufferBaseMem;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; VID_NUM_READ_BUFFERS ; i++)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[i].ptr = ptr;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        ptr += bufferSize;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[i].valid = FALSE;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_af2f432b19416a3f910a7f6c214fc016e_icgraph.svg" width="400" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3427e70143583a36e942d419eaa6c068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3427e70143583a36e942d419eaa6c068">&#9670;&nbsp;</a></span>VIDSimpleFreeDVDBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleFreeDVDBuffers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free buffer memory used for dvd read. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">memFree</td><td>Pointer to memory deallocation function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00286">286</a></p>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBufferBaseMem);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    (*<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree)(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBufferBaseMem);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a3427e70143583a36e942d419eaa6c068_icgraph.svg" width="398" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af99a75796d559a4865f0664f708e7ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99a75796d559a4865f0664f708e7ccd">&#9670;&nbsp;</a></span>VIDSimpleCreateDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleCreateDecoder </td>
          <td>(</td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>supportBFrames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new decoder instance. </p>
<p>The required parameters about the decoding process will be supplied in the VIDDecoderSetup structure.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">supportBFrames</td><td>Set to TRUE for enabling b-frame support.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if decoder creation was successful </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00309">309</a></p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    VIDDecoderSetup setup;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    setup.size = <span class="keyword">sizeof</span>(VIDDecoderSetup);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    setup.width = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.width;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    setup.height = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.height;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    setup.flags = supportBFrames ? VID_DECODER_B_FRAMES : 0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    setup.cbMemAlloc = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    setup.cbMemFree = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    setup.cbMemAllocLockedCache = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbLockedCache;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Check if we want to setup audio decoding.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// The audio header info must be already preset here!</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID == VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        u32 skip;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.maxHeap &gt; 0);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.preAlloc &gt; 0);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        setup.flags |= VID_DECODER_AUDIO;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        skip = VID_CHUNK_HEADER_SIZE + <span class="keyword">sizeof</span>(u32) + (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaudex.version &gt; 0 ? <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaudex.size : <span class="keyword">sizeof</span>(VidAUDHVAUD));</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        setup.audio.headerInfo = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk + skip;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        setup.audio.headerInfoBytes = ((VidChunk*)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk)-&gt;len - skip;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        setup.audio.maxHeap = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.maxHeap;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        setup.audio.preAlloc = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.preAlloc;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decoder = VIDCreateDecoder(&amp;setup);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// check if decoder creation failed!</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decoder ? TRUE : FALSE;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_af99a75796d559a4865f0664f708e7ccd_icgraph.svg" width="391" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1479b42bde309ffee5ae04dba272108a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1479b42bde309ffee5ae04dba272108a">&#9670;&nbsp;</a></span>VIDSimpleDestroyDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleDestroyDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy decoder instance. </p>
<p>At this point the decoder returns all allocated memory by using the cbFree callback. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00353">353</a></p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decoder);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    VIDDestroyDecoder(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decoder);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a1479b42bde309ffee5ae04dba272108a_icgraph.svg" width="398" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1813aad5c499a6dc649736045ab31d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1813aad5c499a6dc649736045ab31d49">&#9670;&nbsp;</a></span>VIDSimpleLoadStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleLoadStart </td>
          <td>(</td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>loopMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preload the allocated buffers. </p>
<p>This functions fills all buffers with initial data</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">loopMode</td><td>TRUE if we want to operate in loop mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if preload was okay <br  />
 </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00374">374</a></p>
<div class="fragment"><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    u8* ptr;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    u32 i, <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    u32* nextFrame;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open &amp;&amp; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.preFetchState == FALSE)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> = VID_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// in &#39;non-loop&#39; mode we must take care if we have LESS frames than preloading buffers</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span> (!loopMode &amp;&amp; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxFrameCount &lt; VID_NUM_READ_BUFFERS)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxFrameCount;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a>; i++)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            ptr = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].ptr;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="comment">// read total &#39;FRAM&#39; chunk and 32 bytes of NEXT chunk</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">if</span> (DVDRead(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle, ptr, (s32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize, (s32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset) &lt; 0 )</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">#ifdef MY_DEBUG</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                OSReport(<span class="stringliteral">&quot;*** VIDSimpleLoadStart: Failed to read from file.\n&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.error = TRUE;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset += <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].size = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">// set read size for next &#39;FRAM&#39; chunk</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            nextFrame = (u32*)(ptr + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize - 32);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="comment">// some sanity check if file structure is valid!</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(nextFrame[0] == VID_FCC(<span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;M&#39;</span>));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize = nextFrame[1];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].valid = TRUE;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].frameNumber = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="comment">// use next buffer</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex = (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex + 1) % VID_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount++;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount &gt;  <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxFrameCount - 1)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">if</span> (loopMode)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount = 0;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameOffset;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize  = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameSize;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.loopMode = loopMode;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.preFetchState = TRUE;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a> и <a class="el" href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00277">readNum</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a1813aad5c499a6dc649736045ab31d49_icgraph.svg" width="360" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a559d721ef22dd85aade11b535dc56af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559d721ef22dd85aade11b535dc56af5">&#9670;&nbsp;</a></span>VIDSimpleLoadStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleLoadStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the asynchronous loading process. </p>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if player could be stopped! <br  />
 </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00453">453</a></p>
<div class="fragment"><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    u32 i;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">// stop preloading process</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.preFetchState = FALSE;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            DVDCancel(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle.cb);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning = FALSE;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// invalidate all buffers</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">for</span> (i = 0 ; i &lt; VID_NUM_READ_BUFFERS; i++)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[i].valid = FALSE;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameOffset;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameSize;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount = 0;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.error            = FALSE;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex        = 0;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex      = 0;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a559d721ef22dd85aade11b535dc56af5_icgraph.svg" width="360" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad8189a80b247013f0bb94ddab34336bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8189a80b247013f0bb94ddab34336bb">&#9670;&nbsp;</a></span>VIDSimpleOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleOpen </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>suppressAudio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open video file. </p>
<p>This functions opens a video file and parses some basic file information.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>Name of file to open</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if file could be opened and is in valid format! </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00501">501</a></p>
<div class="fragment"><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    u32 fileOffset = 0;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    u32 headSize;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    u32 audioInfoSize;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        OSReport(<span class="stringliteral">&quot;*** Cannot open &#39;%s&#39;, because player already open.\n&quot;</span>);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (DVDOpen(fileName, &amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle) == FALSE)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        OSReport(<span class="stringliteral">&quot;*** Cannot open: &#39;%s&#39;\n&quot;</span>, fileName);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// Read &#39;VID1&#39; chunk from file and check for correct version</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (DVDRead(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle, &amp;workChunk, 32, 0) &lt; 0)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        OSReport(<span class="stringliteral">&quot;*** Failed to read the header.\n&quot;</span>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    fileOffset += 32;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Check file id    </span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span>(workChunk.id != VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;1&#39;</span>)  )</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        OSReport(<span class="stringliteral">&quot;*** No VID1 file: &#39;%s&#39;\n&quot;</span>, fileName);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// Check for correct version of vid chunk.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// If we find this version we assume a &#39;special&#39; alignment and chunk ordering which may be invalid</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// in another version of the file format.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span>(workChunk.vid.versionMajor != 1 || workChunk.vid.versionMinor != 0)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        OSReport(<span class="stringliteral">&quot;*** Unsupported file version: major: %d, minor: %d\n&quot;</span>,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                  workChunk.vid.versionMajor, workChunk.vid.versionMajor);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// Sometimes, it&#39;s required to check for a special build of the VidConv converter.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    u32 version = VID_VERSION(workChunk.vid.vidConvMajor, workChunk.vid.vidConvMinor, workChunk.vid.vidConvBuild);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span>(version &lt; VID_VERSION(1,6,4))</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        OSReport(<span class="stringliteral">&quot;*** WARNING: Vid file created using an unsupported converter version: %d.%d.%d\n&quot;</span>, (u32)workChunk.vid.vidConvMajor, (u32)workChunk.vid.vidConvMinor, (u32)workChunk.vid.vidConvBuild);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// Check types of chunks we have in this file.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// !!! Note that we assume start of &#39;HEAD&#39; chunk at byte offset 32 from file start !!!</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (DVDRead(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle, &amp;workChunk, 32, (s32)fileOffset) &lt; 0)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        OSReport(<span class="stringliteral">&quot;*** Failed to read &#39;HEAD&#39; chunk.\n&quot;</span>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span>(workChunk.id != VID_FCC(<span class="charliteral">&#39;H&#39;</span>,<span class="charliteral">&#39;E&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;D&#39;</span>)  )</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        OSReport(<span class="stringliteral">&quot;*** No HEAD chunk found at expected offset\n&quot;</span>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// Calculate the start of the first frame chunk</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// (we know the header chunk starts at offset 32)</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset = workChunk.len + 32;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// Skip &#39;HEAD&#39; chunk id, len and version fields</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    fileOffset += VID_CHUNK_HEADER_SIZE;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// We initialize audio codec info to a known value</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// (this way we can detect the absence of any audio data)</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID = VID_FCC(<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;O&#39;</span>,<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;E&#39;</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// The header chunk contains one or more header chunks for the different data types contained</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// in the stream. Parse them all...</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    headSize = workChunk.len - VID_CHUNK_HEADER_SIZE;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">while</span>(headSize &gt;= 32)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (DVDRead(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle, &amp;workChunk, 32, (s32)fileOffset) &lt; 0)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            OSReport(<span class="stringliteral">&quot;*** Error reading file at offset %d\n&quot;</span>, fileOffset);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        fileOffset += 32;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        headSize -= 32;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="comment">// We analyze the 1st 32 bytes of the chunk for a known header format</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="comment">// Video header?</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">if</span>(workChunk.id == VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;H&#39;</span>) )</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="comment">// check if we have an old vid file.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="keywordflow">if</span>(workChunk.version == 0)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                workChunk.vidh.frameRateScale = (u16)(*((u32*)&amp;workChunk.vidh.frameRateScale));</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                workChunk.vidh.flags = 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="comment">// Yes...</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(workChunk.len &lt;= 32);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(workChunk.len &lt;= (<span class="keyword">sizeof</span>(VidVIDH) + VID_CHUNK_HEADER_SIZE));</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            memcpy(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo, &amp;workChunk.vidh, <span class="keyword">sizeof</span>(VidVIDH));</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// It&#39;s an audio header chunk! May we initialize it?</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(workChunk.id == VID_FCC(<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;H&#39;</span>) &amp;&amp; !suppressAudio)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="comment">// Allocate memory for audio header chunk</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk = (u8*)((*<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc)(workChunk.len));</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            audioInfoSize = workChunk.len - VID_CHUNK_HEADER_SIZE;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="comment">// Copy the already loaded part</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            memcpy(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk, &amp;workChunk, 32);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            workChunk.len -= 32;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="comment">// Read additional audio header bytes if the audio header is greater that 32 bytes</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span>(workChunk.len &gt;= 32)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>((workChunk.len&amp;31)==0);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">if</span> (DVDRead(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk+32, workChunk.len, (s32)fileOffset) &lt; 0)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    OSReport(<span class="stringliteral">&quot;*** Error reading file at offset %d\n&quot;</span>, fileOffset);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                fileOffset += workChunk.len;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                headSize -= workChunk.len;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="comment">// Setup and calc the number of bytes which we are allowed to copy into the audioInfo struct</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            memcpy(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk+VID_CHUNK_HEADER_SIZE, MIN(audioInfoSize, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo) + <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.adpcmInfo)));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="comment">// Skip unknown chunks. We already read 32 bytes for the header which we must subtract here.</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            fileOffset += workChunk.len - 32;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            headSize -= workChunk.len - 32;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.width &amp;&amp; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.height);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxBufferSize);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fps = (f32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.frameRate / (f32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.frameRateScale;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// read beginning of 1st frame chunk to get required size information</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (DVDRead(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle, &amp;workChunk, 32 , (s32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset) &lt; 0 )</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        OSReport(<span class="stringliteral">&quot;*** Failed to read &#39;FRAM&#39; chunk.\n&quot;</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span>(workChunk.id != VID_FCC(<span class="charliteral">&#39;F&#39;</span>,<span class="charliteral">&#39;R&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;M&#39;</span>)  )</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        OSReport(<span class="stringliteral">&quot;*** No FRAM chunk found.&quot;</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize = workChunk.len;       <span class="comment">// 32 bytes of this chunk are already consumed, but</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                                    <span class="comment">// we want to &#39;preload&#39; the NEXT chunk&#39;s FRAM header</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset += 32;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameOffset = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameOffset;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.firstFrameSize   = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.nextFrameSize;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    strncpy(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileName, fileName, 64);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileName[63] = 0;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open                 = TRUE;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex            = 0;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex          = 0;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.lastDecodedFrame     = 0;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.error                = FALSE;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.preFetchState        = FALSE;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.loopMode             = FALSE;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning      = FALSE;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.currentFrameCount    = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBufferBaseMem    = 0;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }   </div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ad8189a80b247013f0bb94ddab34336bb_icgraph.svg" width="336" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4de3e2e92fd6d2b98aea590dfa79bcdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de3e2e92fd6d2b98aea590dfa79bcdc">&#9670;&nbsp;</a></span>VIDSimpleClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleClose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close open video file. </p>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if file is closed sucessfully. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00730">730</a></p>
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.preFetchState == FALSE)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open = FALSE;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                DVDClose(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fileHandle);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk != NULL)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    (*<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree)(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioHeaderChunk = NULL;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a4de3e2e92fd6d2b98aea590dfa79bcdc_icgraph.svg" width="338" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a08e84ec0a9644af824ba0045f28c65f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e84ec0a9644af824ba0045f28c65f5">&#9670;&nbsp;</a></span>VIDSimpleDecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleDecode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode all frame data. </p>
<p>This function operates on the full frame input data. It forwards this data to the required decoder. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00762">762</a></p>
<div class="fragment"><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    BOOL enabled;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    u8* chunkStart;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    u32 chunkSize;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    u32 frameSize;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex].valid )</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="comment">// ptr to our (pre-) loaded data INSIDE (!) &#39;FRAM&#39; chunk</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="comment">// (in other words, the &#39;FRAM&#39; chunk itself is not visible here)</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        chunkStart = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex].ptr;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="comment">// usually, we read additional 32 bytes for getting info about the NEXT chunk.</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="comment">// We only deal with the actual &#39;FRAM&#39; chunk data here and adjust the size by 32 bytes.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        frameSize = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex].size - 32;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="comment">// loop across ALL chunks inside &#39;FRAM&#39;</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">while</span>(frameSize &gt;= 32)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            chunkSize = VID_CHUNK_LEN(chunkStart);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">if</span>( VID_CHUNK_ID(chunkStart) == VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;I&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;D&#39;</span>) )</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <span class="keywordflow">if</span>(! VIDVideoDecode(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decoder, chunkStart + VID_CHUNK_HEADER_SIZE, chunkSize - VID_CHUNK_HEADER_SIZE, &amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.image))</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    OSReport(<span class="stringliteral">&quot;*** VIDVideoDecode failed!\n&quot;</span>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>( VID_CHUNK_ID(chunkStart) == VID_FCC(<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>,<span class="charliteral">&#39;D&#39;</span>) )</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                <span class="comment">// This is audio data!</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="comment">// Get the data to the audio system...</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keywordflow">if</span>(! <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a352bfd5da831761c09c2d76356c6339c">VIDSimpleAudioDecode</a>(chunkStart + VID_CHUNK_HEADER_SIZE, chunkSize - VID_CHUNK_HEADER_SIZE))</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                    OSReport(<span class="stringliteral">&quot;*** VIDAudioDecode failed!\n&quot;</span>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                OSReport(<span class="stringliteral">&quot;*** VIDSimpleDecode: unknown chunk type!\n&quot;</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="comment">// goto next chunk</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            chunkStart += chunkSize;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            frameSize -= chunkSize;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.lastDecodedFrame = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex].frameNumber;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex].valid = FALSE;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex = (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex + 1) % VID_NUM_READ_BUFFERS;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment">// check if loading is still running</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        enabled = OSDisableInterrupts();</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readIndex].valid &amp;&amp; !<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.asyncDvdRunning)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a>();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        OSRestoreInterrupts(enabled);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    OSReport(<span class="stringliteral">&quot;*** VIDSimpleDecode: No valid decode buffer found (?).\n&quot;</span>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00138">ReadFrameAsync()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">VIDSimpleAudioDecode()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a08e84ec0a9644af824ba0045f28c65f5_cgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a08e84ec0a9644af824ba0045f28c65f5_icgraph.svg" width="348" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7a845c838a43536eaa4a0d045fb20a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a845c838a43536eaa4a0d045fb20a43">&#9670;&nbsp;</a></span>VIDSimpleDraw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleDraw </td>
          <td>(</td>
          <td class="paramtype">GXRenderModeObj *&#160;</td>
          <td class="paramname"><em>rmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a decoded video frame. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">rmode</td><td>Required info about current rendering mode </td></tr>
    <tr><td class="paramname">x</td><td>current x pos of drawing surface </td></tr>
    <tr><td class="paramname">y</td><td>current y pos of drawing surface </td></tr>
    <tr><td class="paramname">width</td><td>current width of drawing surface </td></tr>
    <tr><td class="paramname">height</td><td>current height of drawing surface </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00855">855</a></p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3bc8a3e635d331139856e6ada86702fc">VIDDrawGXYuv2RgbSetup</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa2f6ccf303808eb4344d581b21881a9b">VIDDrawGXYuv2RgbDraw</a>((s16)<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, (s16)<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>, (s16)width, (s16)height, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.image);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a53f6148999acca8d6dddcdf8fd1b80a6">VIDDrawGXRestore</a>();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00272">rmode</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01084">VIDDrawGXRestore()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01202">VIDDrawGXYuv2RgbDraw()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01119">VIDDrawGXYuv2RgbSetup()</a>, <a class="el" href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01913">Nx::x</a> и <a class="el" href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01914">Nx::y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a7a845c838a43536eaa4a0d045fb20a43_cgraph.svg" width="346" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a7a845c838a43536eaa4a0d045fb20a43_icgraph.svg" width="334" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5e8900176a9cac007f7e2b75b52d7f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8900176a9cac007f7e2b75b52d7f04">&#9670;&nbsp;</a></span>VIDSimpleDrawXFB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleDrawXFB </td>
          <td>(</td>
          <td class="paramtype">GXRenderModeObj *&#160;</td>
          <td class="paramname"><em>rmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lcMem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw decoded frame directely into the XFB. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">rmode</td><td>Required info about current rendering mode </td></tr>
    <tr><td class="paramname">lcMem</td><td>Pointer to free locked cache mem used for conversion. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00873">873</a></p>
<div class="fragment"><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    VIDXFBDraw(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.image, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f2de64762dceb8ee52c761d40eac538">hwCurrentBuffer</a>, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>-&gt;fbWidth, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>-&gt;xfbHeight, lcMem);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00261">hwCurrentBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a> и <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00272">rmode</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a5e8900176a9cac007f7e2b75b52d7f04_icgraph.svg" width="358" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2af1f5d07b4617013df763046a0499bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af1f5d07b4617013df763046a0499bd">&#9670;&nbsp;</a></span>VIDSimpleGetVideoSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleGetVideoSize </td>
          <td>(</td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get width and height of loaded video file. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00885">885</a></p>
<div class="fragment"><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">// can only be returned if player has a loaded file</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.open);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    *width = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.width;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    *height = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.height;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a2af1f5d07b4617013df763046a0499bd_icgraph.svg" width="384" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab711e7fe40edb8b83ddd243c015eaaf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab711e7fe40edb8b83ddd243c015eaaf5">&#9670;&nbsp;</a></span>VIDSimpleGetFPS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">f32 VIDSimpleGetFPS </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get FPS rate of loaded video file. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00901">901</a></p>
<div class="fragment"><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fps);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ab711e7fe40edb8b83ddd243c015eaaf5_icgraph.svg" width="352" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a43b52615baea22fe00035d8d797f4d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b52615baea22fe00035d8d797f4d56">&#9670;&nbsp;</a></span>VIDSimpleIsInterlace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleIsInterlace </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the currently loaded video is in interlace mode or not. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00912">912</a></p>
<div class="fragment"><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">return</span>(((<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.flags &amp; VID_VIDH_INTERLACED) != 0));</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

</div>
</div>
<a id="afb45563601969f4a25faad7eb24f0bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb45563601969f4a25faad7eb24f0bd2">&#9670;&nbsp;</a></span>VIDSimpleGetFrameCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 VIDSimpleGetFrameCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get number of frames of loaded video file. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00924">924</a></p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.videoInfo.maxFrameCount);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

</div>
</div>
<a id="af555e8acad2242dd3eb2bd98737b2ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af555e8acad2242dd3eb2bd98737b2ad4">&#9670;&nbsp;</a></span>VIDSimpleGetAudioSampleRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 VIDSimpleGetAudioSampleRate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get audio sample rate in Hz. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00936">936</a></p>
<div class="fragment"><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.frq);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

</div>
</div>
<a id="a531300d885d5438aa9cc3bb3ca3f93cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a531300d885d5438aa9cc3bb3ca3f93cd">&#9670;&nbsp;</a></span>VIDSimpleCheckDVDError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleCheckDVDError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for drive status. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00947">947</a></p>
<div class="fragment"><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">switch</span> (DVDGetDriveStatus())</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_FATAL_ERROR:</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_FATAL_ERROR\n&quot;</span>);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_NO_DISK:</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_NO_DISK\n&quot;</span>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_COVER_OPEN:</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_COVER_OPEN\n&quot;</span>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_WRONG_DISK:</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_WRONG_DISK\n&quot;</span>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">case</span> DVD_STATE_RETRY:</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            OSReport(<span class="stringliteral">&quot;DVDGetDriveStatus()=DVD_STATE_RETRY\n&quot;</span>);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="keywordflow">return</span>(TRUE);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">return</span>(FALSE);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab67d91cc6f662a04ecd1ff268508da8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67d91cc6f662a04ecd1ff268508da8e">&#9670;&nbsp;</a></span>myAlloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* myAlloc </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Memory allocation callback. </p>
<p>The player calls this function for all its memory needs. In this example an OSAlloc() is all we need to do.</p>
<dl class="section note"><dt>Заметки</dt><dd>The returned memory address MUST be aligned on a 32 byte boundary. Otherwise, the player will fail!</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Number of bytes to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>Ptr to allocated memory (aligned to 32 byte boundary) </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01003">1003</a></p>
<div class="fragment"><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>( <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().TopDownHeap());</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a17162e2f6ea33ee7c45ffb78044806a9">BottomUpHeap</a>()-&gt;<a class="code" href="../../d5/d97/class_mem_1_1_allocator.html#ad867c0d0ef2ad7b1db3983d0a0baef81">PushAlign</a>( 32 );</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordtype">void</span> * p = <span class="keyword">new</span> u8[size]; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a17162e2f6ea33ee7c45ffb78044806a9">BottomUpHeap</a>()-&gt;<a class="code" href="../../d5/d97/class_mem_1_1_allocator.html#a85a57938d2ec5fe61e575a358f009ca9">PopAlign</a>();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d3/d76/memman_8h_source.html#l00132">Mem::Manager::BottomUpHeap()</a>, <a class="el" href="../../da/d9f/alloc_8cpp_source.html#l00446">Mem::Allocator::PopAlign()</a>, <a class="el" href="../../df/dda/win32functions_8cpp_source.html#l00075">Mem::Manager::PopContext()</a>, <a class="el" href="../../da/d9f/alloc_8cpp_source.html#l00416">Mem::Allocator::PushAlign()</a>, <a class="el" href="../../df/dda/win32functions_8cpp_source.html#l00071">Mem::Manager::PushContext()</a> и <a class="el" href="../../d3/d76/memman_8h_source.html#l00340">Mem::Manager::sHandle()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ab67d91cc6f662a04ecd1ff268508da8e_cgraph.svg" width="334" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ab67d91cc6f662a04ecd1ff268508da8e_icgraph.svg" width="291" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2460e8463ff750bc2b2078989415d61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2460e8463ff750bc2b2078989415d61a">&#9670;&nbsp;</a></span>myFree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void myFree </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Memory free callback. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Memory address to free </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01023">1023</a></p>
<div class="fragment"><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(ptr);    <span class="comment">// free on address 0 is only valid in C++ delete</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keyword">delete</span> ptr;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a2460e8463ff750bc2b2078989415d61a_icgraph.svg" width="288" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7d6cf71a1cc365bbccd40dece0929be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d6cf71a1cc365bbccd40dece0929be0">&#9670;&nbsp;</a></span>myAllocFromLC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* myAllocFromLC </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Memory allocation callback for 'Locked Cache' memory. </p>
<p>If the system should operate in 'Locked Cache' mode, you must supply a callback which is called for any 'locked cache' memory requirements.</p>
<p>Note that there's no 'free' for the 'locked cache' memory, because if the player is destroyed ANY 'locked cache' memory is avaiable immediately.</p>
<dl class="section note"><dt>Заметки</dt><dd>The returned memory address MUST be aligned on a 32 byte boundary. Otherwise, the player will fail!</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Number of bytes to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>Ptr to allocated memory (aligned to 32 byte boundary) </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01054">1054</a></p>
<div class="fragment"><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">#ifdef MY_DEBUG</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    u32 lockCacheMem;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a> += size;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a> = (u8*)OSRoundUp32B(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#ifdef MY_DEBUG</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    lockCacheMem = (u32)(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a> - ((u8*)LCGetBase()));</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">//OSReport(&quot;myMallocFromLC: Used &#39;Locked Cache&#39; Mem: %d kB.\n&quot;, lockCacheMem/1024);</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    ASSERTMSG(lockCacheMem &lt; (15*1024), <span class="stringliteral">&quot;myMallocFromLC: Too much locked cache mem needed!\n&quot;</span>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00080">lcMemBase</a> и <a class="el" href="../../dd/db2/ngc_2bgm_2bgm__com_8c_source.html#l00077">ret</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a7d6cf71a1cc365bbccd40dece0929be0_icgraph.svg" width="336" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a53f6148999acca8d6dddcdf8fd1b80a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f6148999acca8d6dddcdf8fd1b80a6">&#9670;&nbsp;</a></span>VIDDrawGXRestore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDDrawGXRestore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore <a class="el" href="../../d6/d63/namespace_g_x.html">GX</a> graphics context to some 'defaults'. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01084">1084</a></p>
<div class="fragment"><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    GXSetZMode(GX_ENABLE, GX_ALWAYS, GX_DISABLE);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    GXSetBlendMode(GX_BM_NONE, GX_BL_ONE, GX_BL_ZERO, GX_LO_SET);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    GXSetNumTexGens(1);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    GXSetNumChans(0);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    GXSetNumTevStages(1);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    GXSetTevOrder(GX_TEVSTAGE0, GX_TEXCOORD0, GX_TEXMAP0, GX_COLOR_NULL);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    GXSetTevOp(GX_TEVSTAGE0, GX_REPLACE);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// Swap mode settings</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    GXSetTevSwapMode(GX_TEVSTAGE0, GX_TEV_SWAP0, GX_TEV_SWAP0);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    GXSetTevSwapMode(GX_TEVSTAGE1, GX_TEV_SWAP0, GX_TEV_SWAP0);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    GXSetTevSwapMode(GX_TEVSTAGE2, GX_TEV_SWAP0, GX_TEV_SWAP0);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    GXSetTevSwapMode(GX_TEVSTAGE3, GX_TEV_SWAP0, GX_TEV_SWAP0);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    GXSetTevSwapModeTable(GX_TEV_SWAP0, GX_CH_RED,   GX_CH_GREEN,</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                                        GX_CH_BLUE,  GX_CH_ALPHA); <span class="comment">// RGBA</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    GXSetTevSwapModeTable(GX_TEV_SWAP1, GX_CH_RED,   GX_CH_RED,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                                        GX_CH_RED,   GX_CH_ALPHA); <span class="comment">// RRRA</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    GXSetTevSwapModeTable(GX_TEV_SWAP2, GX_CH_GREEN, GX_CH_GREEN,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                        GX_CH_GREEN, GX_CH_ALPHA); <span class="comment">// GGGA</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    GXSetTevSwapModeTable(GX_TEV_SWAP3, GX_CH_BLUE,  GX_CH_BLUE,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                        GX_CH_BLUE,  GX_CH_ALPHA); <span class="comment">// BBBA</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00855">VIDSimpleDraw()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a53f6148999acca8d6dddcdf8fd1b80a6_icgraph.svg" width="516" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3bc8a3e635d331139856e6ada86702fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bc8a3e635d331139856e6ada86702fc">&#9670;&nbsp;</a></span>VIDDrawGXYuv2RgbSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDDrawGXYuv2RgbSetup </td>
          <td>(</td>
          <td class="paramtype">GXRenderModeObj *&#160;</td>
          <td class="paramname"><em>rmode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup <a class="el" href="../../d6/d63/namespace_g_x.html">GX</a> for YUV conversion. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01119">1119</a></p>
<div class="fragment"><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    s32         scrWidth;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    s32         scrHeight;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    Mtx44       pMtx;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    scrWidth  = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>-&gt;fbWidth;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    scrHeight = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a>-&gt;efbHeight;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    GXSetPixelFmt(GX_PF_RGB8_Z24, GX_ZC_LINEAR);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    MTXOrtho(pMtx, 0.0f, (f32)scrHeight, 0.0f, (f32)scrWidth, 0.0f, -1.0F);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    GXSetProjection(pMtx, GX_ORTHOGRAPHIC);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    GXSetViewport(0.0F, 0.0F, (f32)scrWidth, (f32)scrHeight, 0.0F, 1.0F);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    GXSetScissor(0, 0, (u32)scrWidth, (u32)scrHeight);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    GXSetCurrentMtx(GX_IDENTITY);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="comment">// Framebuffer</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    GXSetZMode(GX_ENABLE, GX_ALWAYS, GX_DISABLE);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    GXSetBlendMode(GX_BM_NONE, GX_BL_ONE, GX_BL_ZERO, GX_LO_CLEAR);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    GXSetColorUpdate(GX_TRUE);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    GXSetAlphaUpdate(GX_FALSE);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    GXSetDispCopyGamma(GX_GM_1_0);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">// Color channels</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    GXSetNumChans(0);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="comment">// Texture coord generation</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    GXSetNumTexGens(2);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    GXSetTexCoordGen(GX_TEXCOORD0, GX_TG_MTX2x4, GX_TG_TEX0, GX_IDENTITY);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    GXSetTexCoordGen(GX_TEXCOORD1, GX_TG_MTX2x4, GX_TG_TEX1, GX_IDENTITY);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="comment">// Texture cache</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    GXInvalidateTexAll();</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// Vertex formats</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    GXClearVtxDesc();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    GXSetVtxDesc(GX_VA_POS,  GX_DIRECT);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    GXSetVtxDesc(GX_VA_TEX0, GX_DIRECT);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    GXSetVtxDesc(GX_VA_TEX1, GX_DIRECT);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    GXSetVtxAttrFmt(GX_VTXFMT7, GX_VA_POS,  GX_POS_XYZ, GX_S16, 0);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    GXSetVtxAttrFmt(GX_VTXFMT7, GX_VA_TEX0, GX_TEX_ST,  GX_U16, 0);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    GXSetVtxAttrFmt(GX_VTXFMT7, GX_VA_TEX1, GX_TEX_ST,  GX_U16, 0);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// Setup TEV environment to perform color space conversion.</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="comment">// The function will return the number of TEV stages need and will</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="comment">// use the following HW resources:</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="comment">//  GX_TEVPREV</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">//  GX_TEVREG0</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="comment">//  GX_TEVREG1</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">//  GX_TEVREG2</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="comment">//  GX_KCOLOR0</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">//  GX_KCOLOR1</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">//  GX_KCOLOR2</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">//  GX_KCOLOR3</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">// plus everything visible in this source</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    GXSetNumTevStages(VIDSetupTEV(VID_YUVCONV_HIGHPRECISION));</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00272">rmode</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00855">VIDSimpleDraw()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a3bc8a3e635d331139856e6ada86702fc_icgraph.svg" width="556" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa2f6ccf303808eb4344d581b21881a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f6ccf303808eb4344d581b21881a9b">&#9670;&nbsp;</a></span>VIDDrawGXYuv2RgbDraw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDDrawGXYuv2RgbDraw </td>
          <td>(</td>
          <td class="paramtype">s16&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s16&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s16&#160;</td>
          <td class="paramname"><em>polygonWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s16&#160;</td>
          <td class="paramname"><em>polygonHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const VIDImage *&#160;</td>
          <td class="paramname"><em>image</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a textured polygon using the decoded image a texture. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>xpos of polygon on screen </td></tr>
    <tr><td class="paramname">y</td><td>ypos of polygon on screen </td></tr>
    <tr><td class="paramname">polygonWidth</td><td>width of polygon to draw </td></tr>
    <tr><td class="paramname">polygonHeight</td><td>height of polygon to draw </td></tr>
    <tr><td class="paramname">image</td><td>ptr to VIDImage containing the required YUV pointers </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01202">1202</a></p>
<div class="fragment"><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    u16 textureWidth2, textureHeight2;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    GXTexObj tobj0, tobj1, tobj2;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    textureWidth2 = (u16)(image-&gt;texWidth &gt;&gt; 1);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    textureHeight2 = (u16)(image-&gt;texHeight &gt;&gt; 1);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">// Y Texture</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    GXInitTexObj(&amp;tobj0, image-&gt;y, image-&gt;texWidth, image-&gt;texHeight,</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                 GX_TF_I8, GX_CLAMP, GX_CLAMP, GX_FALSE);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    GXInitTexObjLOD(&amp;tobj0, GX_LINEAR, GX_LINEAR, 0, 0, 0, 0, 0, GX_ANISO_1);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    GXLoadTexObj(&amp;tobj0, GX_TEXMAP0);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">// Cb Texture</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    GXInitTexObj(&amp;tobj1, image-&gt;u, textureWidth2, textureHeight2,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                 GX_TF_I8, GX_CLAMP, GX_CLAMP, GX_FALSE);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    GXInitTexObjLOD(&amp;tobj1, GX_LINEAR, GX_LINEAR, 0, 0, 0, 0, 0, GX_ANISO_1);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    GXLoadTexObj(&amp;tobj1, GX_TEXMAP1);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// Cr Texture</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    GXInitTexObj(&amp;tobj2, image-&gt;v, textureWidth2, textureHeight2,</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                 GX_TF_I8, GX_CLAMP, GX_CLAMP, GX_FALSE);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    GXInitTexObjLOD(&amp;tobj2, GX_LINEAR, GX_LINEAR, 0, 0, 0, 0, 0, GX_ANISO_1);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    GXLoadTexObj(&amp;tobj2, GX_TEXMAP2);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    GXSetTexCoordScaleManually(GX_TEXCOORD0, GX_ENABLE, 1, 1);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    GXSetTexCoordScaleManually(GX_TEXCOORD1, GX_ENABLE, 1, 1);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// Draw a textured quad</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    GXBegin(GX_QUADS, GX_VTXFMT7, 4);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        GXPosition3s16(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>, 0);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        GXTexCoord2u16(0, 0);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        GXTexCoord2u16(0, 0);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        GXPosition3s16((s16)(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>+polygonWidth), <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>, 0);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        GXTexCoord2u16(image-&gt;width, 0);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        GXTexCoord2u16((u16)(image-&gt;width&gt;&gt;1), 0);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        GXPosition3s16((s16)(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>+polygonWidth), (s16)(<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>+polygonHeight), 0);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        GXTexCoord2u16(image-&gt;width, image-&gt;height);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        GXTexCoord2u16((u16)(image-&gt;width&gt;&gt;1), (u16)(image-&gt;height&gt;&gt;1));</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        GXPosition3s16(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, (s16)(<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>+polygonHeight), 0);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        GXTexCoord2u16(0, image-&gt;height);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        GXTexCoord2u16(0, (u16)(image-&gt;height&gt;&gt;1));</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    GXEnd();</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    GXSetTexCoordScaleManually(GX_TEXCOORD0, GX_DISABLE, 1, 1);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    GXSetTexCoordScaleManually(GX_TEXCOORD1, GX_DISABLE, 1, 1);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01913">Nx::x</a> и <a class="el" href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01914">Nx::y</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00855">VIDSimpleDraw()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_aa2f6ccf303808eb4344d581b21881a9b_icgraph.svg" width="551" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad59ba20434c089b34d17686de28a8433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad59ba20434c089b34d17686de28a8433">&#9670;&nbsp;</a></span>AXCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void AXCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>AX callback. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">2023</a></p>
<div class="fragment"><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    u32     availSamples,availFrames,numUpdate,i,n;</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    u32     audioPlayBufferNeededAudioFrames;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    u32     currentAddr;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    u32     leftSource, rightSource, leftTarget, rightTarget;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="comment">// First thing to do here is call the regular soundfx callback.</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="../../de/d43/namespace_sfx.html#a23135446b40c588b81f1112056dffd2d">Sfx::AXUserCBack</a>();</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a>)</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        AXSetVoiceState(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],AX_PB_STATE_RUN);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        AXSetVoiceState(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],AX_PB_STATE_RUN);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a>;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a> )</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0]-&gt;pb.state == AX_PB_STATE_STOP )</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        }</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    }</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        </div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="comment">// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    currentAddr = *(u32 *)&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0]-&gt;pb.addr.currentAddressHi;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="../../da/d37/namespace_dbg.html#a8270231090dad0898d8f3eb5cd232b0d">if</a> (currentAddr &gt;= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a>)</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> += currentAddr - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a>;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> += ((AX_ARAM_LEFT_CHANNEL + AX_ARAM_BUFFER_SIZE) - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a>) + (currentAddr - AX_ARAM_LEFT_CHANNEL);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a> = currentAddr;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="comment">//OSReport(&quot;%d\n&quot;,axPlayedSamples);</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> &gt;= VID_AUDIO_AIBUFFERSAMPLES)</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        audioPlayBufferNeededAudioFrames = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> / VID_AUDIO_AIBUFFERSAMPLES;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160; </div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="comment">// Make sure that we never get an underrun we don&#39;t notice...</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordflow">if</span>(!(audioPlayBufferNeededAudioFrames &lt;= VID_AUDIO_NUMAIBUFFERS))</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        {</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="comment">//          OSReport(&quot;AX audio buffer underrun!\n&quot;);</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        }</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="comment">//ASSERT(audioPlayBufferNeededAudioFrames &lt;= VID_AUDIO_NUMAIBUFFERS);</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="comment">// Is actual audio playback enabled?</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a>)</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        {</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <span class="comment">// How many samples could we get from the read buffer?</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> &gt;= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a>)</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                availSamples = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a>;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                availSamples = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> - (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a>);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;            </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;            <span class="comment">// That&#39;s how many audio frames?</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            availFrames = availSamples / VID_AUDIO_AIBUFFERSAMPLES;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            <span class="comment">// Are the voice already playing?</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a>)</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                f32 targetFrq;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                <span class="comment">// Yes. We better watch out for the buffer status, so we don&#39;t get under-runs...</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                <span class="keywordflow">if</span> (availFrames &lt; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f6d2d73afad1cda8ae4eafff4ecad8d">axMinAvailFrames</a>)</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                    targetFrq = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a> * (1.0f - (1.0f/200.0f) * (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f6d2d73afad1cda8ae4eafff4ecad8d">axMinAvailFrames</a> - availFrames));</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                    targetFrq = (f32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a>;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                </div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                <span class="comment">// Track the target frequency quite slowly to avoid audible artifacts</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> &lt; targetFrq)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> += <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a> * 0.00125f;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> &gt; targetFrq)</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> = targetFrq;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> -= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a> * 0.00125f;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> &lt; targetFrq)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> = targetFrq;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                </div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                <span class="comment">//OSReport(&quot;%d %f (%d)\n&quot;,availFrames,axCurrentFrq,axMinAvailFrames);</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                    </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                <span class="comment">// Set frequency</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                AXSetVoiceSrcRatio(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> / (f32)AX_IN_SAMPLES_PER_SEC);</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                AXSetVoiceSrcRatio(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> / (f32)AX_IN_SAMPLES_PER_SEC);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            }</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="comment">//OSReport(&quot;AX: %d %d (%d)\n&quot;,availSamples,audioPlayBufferNeededAudioFrames * VID_AUDIO_AIBUFFERSAMPLES,axPlayedSamples);</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            <span class="comment">// So, how many can we update?</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            numUpdate = (availFrames &gt; audioPlayBufferNeededAudioFrames) ? audioPlayBufferNeededAudioFrames : availFrames;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    </div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            <span class="comment">// If anything... go do it!</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <span class="keywordflow">if</span> (numUpdate != 0)</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> -= numUpdate * VID_AUDIO_AIBUFFERSAMPLES;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                <span class="comment">// Perform updates on each AI buffer in need of data...</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                <span class="keywordflow">for</span>(i=0; i&lt;numUpdate; i++)</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                    <span class="comment">// Can we copy everything from a single source or does the data wrap around?</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                    <span class="keywordflow">if</span> ((n = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a>) &lt; VID_AUDIO_AIBUFFERSAMPLES)</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                    {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                        <span class="comment">// It wraps...</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">audioCopy</a>(0,n);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">audioCopy</a>(n,VID_AUDIO_AIBUFFERSAMPLES - n);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                    }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                    {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                        <span class="comment">// We got one continous source buffer</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">audioCopy</a>(0,VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                    }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                        </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                    <span class="comment">// Make sure the data ends up in real physical memory</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                    DCFlushRange(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>],VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16) * 2);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                    </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                    leftSource = (u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>];</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                    rightSource = (u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>] + (VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16));</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                    leftTarget = 2 * (AX_ARAM_LEFT_CHANNEL + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> * VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                    rightTarget = 2 * (AX_ARAM_RIGHT_CHANNEL + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> * VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                    </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                    <span class="comment">// Make sure we get this into ARAM ASAP...</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                    ARQPostRequest(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a73033ab7ad0d1961bced9b9225b23bd2">arqRequest</a>[0][i%VID_AUDIO_NUMAIREQUESTS],0,ARQ_TYPE_MRAM_TO_ARAM,ARQ_PRIORITY_HIGH,leftSource,leftTarget,VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16),NULL);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                    ARQPostRequest(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a73033ab7ad0d1961bced9b9225b23bd2">arqRequest</a>[1][i%VID_AUDIO_NUMAIREQUESTS],1,ARQ_TYPE_MRAM_TO_ARAM,ARQ_PRIORITY_HIGH,rightSource,rightTarget,VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16),NULL);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                    </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                    <span class="comment">// Advance write index...</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> = (u8)((<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> + 1) % VID_AUDIO_NUMAIBUFFERS);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a>)</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a>;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        }</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            <span class="comment">// Update buffer(s) with silence...</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> -= audioPlayBufferNeededAudioFrames * VID_AUDIO_AIBUFFERSAMPLES;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            </div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <span class="keywordflow">for</span>(i=0; i&lt;audioPlayBufferNeededAudioFrames; i++)</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                memset(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>],0,2 * <span class="keyword">sizeof</span>(s16) * VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                DCFlushRange(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>],2 * <span class="keyword">sizeof</span>(s16) * VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                leftSource = (u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>];</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                rightSource = (u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>] + (VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16)) / 2;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                leftTarget = 2 * (AX_ARAM_LEFT_CHANNEL + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> * VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                rightTarget = 2 * (AX_ARAM_RIGHT_CHANNEL + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> * VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                <span class="comment">// Make sure we get this into ARAM ASAP...</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                ARQPostRequest(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a73033ab7ad0d1961bced9b9225b23bd2">arqRequest</a>[0][i%VID_AUDIO_NUMAIREQUESTS],0,ARQ_TYPE_MRAM_TO_ARAM,ARQ_PRIORITY_HIGH,leftSource,leftTarget,VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16),NULL);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                ARQPostRequest(&amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a73033ab7ad0d1961bced9b9225b23bd2">arqRequest</a>[1][i%VID_AUDIO_NUMAIREQUESTS],1,ARQ_TYPE_MRAM_TO_ARAM,ARQ_PRIORITY_HIGH,rightSource,rightTarget,VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16),NULL);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                </div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> = (u8)((<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> + 1) % VID_AUDIO_NUMAIBUFFERS);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a>)</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a>;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    }</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01304">arqRequest</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01288">audioPlayBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01291">audioPlayBufferEnabled</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01290">audioPlayBufferFrq</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01289">audioPlayBufferWriteIndex</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01283">audioReadBufferNumSamples</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">audioReadBufferReadPos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01284">audioReadBufferWritePos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01313">AX_PHASE_PLAY</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01312">AX_PHASE_START</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01311">AX_PHASE_STARTUP</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01307">axCurrentFrq</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01305">axLastAddr</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01308">axMinAvailFrames</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01316">axPhase</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01306">axPlayedSamples</a>, <a class="el" href="../../df/dfa/ngc_2p__sfx_8cpp_source.html#l00169">Sfx::AXUserCBack()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01303">axVoice</a> и <a class="el" href="../../d9/d14/_assert_8cpp_source.html#l00148">Dbg::if()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ad59ba20434c089b34d17686de28a8433_cgraph.svg" width="278" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ad59ba20434c089b34d17686de28a8433_icgraph.svg" width="539" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a97f834c354ab4f2a1c98ad2e12c8dfbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f834c354ab4f2a1c98ad2e12c8dfbb">&#9670;&nbsp;</a></span>VIDSimpleDoAudioDecodePCM16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void VIDSimpleDoAudioDecodePCM16 </td>
          <td>(</td>
          <td class="paramtype">s16 *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const s16 **&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sampleOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sampleNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>'Decode' PCM16 to PCM16 </p>
<p>This function simply copies over new PCM16 samples into the read buffer. Other codecs might use a more elaborate decoding of course ;-) </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">1614</a></p>
<div class="fragment"><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    u32     i,b,s;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    u32         bytes  = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a06c9d229ee79938ffb08c739fa9d9658">VIDSimpleAudioBytesFromSamplesPCM16</a>(sampleNum);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* src    = (<span class="keyword">const</span> u8*)samples[0] + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a06c9d229ee79938ffb08c739fa9d9658">VIDSimpleAudioBytesFromSamplesPCM16</a>(sampleOffset);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="comment">// Do we have any playback masks?</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a> != 0)</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="comment">// Yes! How many samples?</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        u32 numSamples = bytes / (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels * <span class="keyword">sizeof</span>(s16));</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="comment">// Scan through all playback masks and update channels as they come</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        u32 c = 0;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        u32 rc = 0;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a>; i++)</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordflow">for</span>(b=0; b&lt;32; b++)</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad5ae1b65495b11b6a5624e6f3c18e440">audioPlayMaskArray</a>[i] &amp; (1&lt;&lt;b))</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                    {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                    <span class="keywordflow">for</span>(s=0; s&lt;numSamples; s++)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                        dest[s * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a> + c] = ((s16 *)src)[s * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels + rc];</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                    c++;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                    </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                    <span class="comment">// If we already updated all read buffer channels we may exit. There&#39;s no more space anyways...</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                    <a class="code" href="../../da/d37/namespace_dbg.html#a8270231090dad0898d8f3eb5cd232b0d">if</a> (c == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a>)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                    }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                rc++;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                <span class="comment">// If we already read from all channels in the source, we can exit, too...</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                <span class="keywordflow">if</span> (rc == <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels)</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            }</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="comment">// We should use all channels we got. Okay, memcpy everything...</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        memcpy(dest,src,bytes);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01300">audioNumPlayMasks</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01299">audioPlayMaskArray</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">audioReadBufferNumChannels</a>, <a class="el" href="../../d9/d14/_assert_8cpp_source.html#l00148">Dbg::if()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01666">VIDSimpleAudioBytesFromSamplesPCM16()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a97f834c354ab4f2a1c98ad2e12c8dfbb_cgraph.svg" width="508" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a97f834c354ab4f2a1c98ad2e12c8dfbb_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a06c9d229ee79938ffb08c739fa9d9658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c9d229ee79938ffb08c739fa9d9658">&#9670;&nbsp;</a></span>VIDSimpleAudioBytesFromSamplesPCM16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 VIDSimpleAudioBytesFromSamplesPCM16 </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>samples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Misc conversion fucntions for PCM16 stream data. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01666">1666</a></p>
<div class="fragment"><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">return</span>(samples * <span class="keyword">sizeof</span>(s16) * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">VIDSimpleDoAudioDecodePCM16()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a06c9d229ee79938ffb08c739fa9d9658_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a70b319d50c3de0cd4dfe0bea5ad8a69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b319d50c3de0cd4dfe0bea5ad8a69b">&#9670;&nbsp;</a></span>VIDSimpleAudioSamplesFromBytesPCM16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 VIDSimpleAudioSamplesFromBytesPCM16 </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01671">1671</a></p>
<div class="fragment"><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">return</span>(bytes / (<span class="keyword">sizeof</span>(s16) * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels));</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a70b319d50c3de0cd4dfe0bea5ad8a69b_icgraph.svg" width="648" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afb0adab6ec235901aa449c554995d4da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb0adab6ec235901aa449c554995d4da">&#9670;&nbsp;</a></span>VIDSimpleDoAudioDecodeVAUD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void VIDSimpleDoAudioDecodeVAUD </td>
          <td>(</td>
          <td class="paramtype">s16 *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const s16 **&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sampleOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sampleNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode VAUD Data. </p>
<p>This function simply interleaves two channels from from the audio decoder output into the required format. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01686">1686</a></p>
<div class="fragment"><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    u32 j;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span>(channels == 1)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keyword">const</span> s16* in = samples[0] + sampleOffset;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; sampleNum; j++)</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            *dest++ = in[j];</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            *dest++ = in[j];</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keyword">const</span> s16* inL = samples[0] + sampleOffset;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keyword">const</span> s16* inR = samples[1] + sampleOffset;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(channels == 2);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; sampleNum; j++)</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            *dest++ = *inL++;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            *dest++ = *inR++;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_afb0adab6ec235901aa449c554995d4da_icgraph.svg" width="663" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab65f92d387657afbb54c99d6c9ce40bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65f92d387657afbb54c99d6c9ce40bb">&#9670;&nbsp;</a></span>VIDSimpleAudioBytesFromSamplesVAUD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 VIDSimpleAudioBytesFromSamplesVAUD </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>samples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Misc conversion fucntions for VAUD stream data. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01718">1718</a></p>
<div class="fragment"><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">return</span>(samples * <span class="keyword">sizeof</span>(s16) * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_ab65f92d387657afbb54c99d6c9ce40bb_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a75a590082399e3271a6144a515829892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a590082399e3271a6144a515829892">&#9670;&nbsp;</a></span>VIDSimpleAudioSamplesFromBytesVAUD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 VIDSimpleAudioSamplesFromBytesVAUD </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01723">1723</a></p>
<div class="fragment"><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span>(bytes / (<span class="keyword">sizeof</span>(s16) * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels));</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a75a590082399e3271a6144a515829892_icgraph.svg" width="648" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3ab4e4a5c8723e213b8efa974d50c5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab4e4a5c8723e213b8efa974d50c5af">&#9670;&nbsp;</a></span>VIDSimpleInitAudioDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleInitAudioDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize audio decoder. </p>
<p>This function allocates all neccessary memory for the audio processing and sets the audio decoder into an idle state, waiting for first data. A file must be opened with the VIDSimplePlayer before calling this function.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbAlloc</td><td>Pointer to a memory allocation function to be used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>TRUE if any problem was detected </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">1350</a></p>
<div class="fragment"><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    u32 i;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    BOOL old;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    AXPBMIX   axMix[2];</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    AXPBVE    axVE;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    AXPBSRC   axSRC;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    AXPBADDR  axAddr;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    AXPBADPCM axADPCM;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    u32       ratio;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="comment">// Do we have any audio data?</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID != VID_FCC(<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;O&#39;</span>,<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;E&#39;</span>))</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="comment">// VAUD?</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID == VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>))</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <span class="comment">// Calculate buffer size to allocate proper memry to keep a bit of &quot;extra&quot; audio data around...</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> = (u32)(((f32)VID_AUDIO_READAHEADFRAMES * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.frq) / <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fps);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.numChannels &lt;= 2 ? <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.vaud.numChannels : 2;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="comment">// Setup decoder &amp; conversion functions to be used</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb0adab6ec235901aa449c554995d4da">VIDSimpleDoAudioDecodeVAUD</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a641b0a7d06027618362e3a8e572549e8">VIDSimpleAudioBytesFromSamples</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab65f92d387657afbb54c99d6c9ce40bb">VIDSimpleAudioBytesFromSamplesVAUD</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa6f62540a2c93345cd4aa047393745c1">VIDSimpleAudioSamplesFromBytes</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a75a590082399e3271a6144a515829892">VIDSimpleAudioSamplesFromBytesVAUD</a>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <span class="comment">// PCM16?</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID == VID_FCC(<span class="charliteral">&#39;P&#39;</span>,<span class="charliteral">&#39;C&#39;</span>,<span class="charliteral">&#39;1&#39;</span>,<span class="charliteral">&#39;6&#39;</span>))</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <span class="comment">// Calculate buffer size to allocate proper memry to keep a bit of &quot;extra&quot; audio data around...</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> = (u32)(((f32)VID_AUDIO_READAHEADFRAMES * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.frq) / <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fps);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels &lt;= 2)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a> = 2;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                <span class="comment">// Setup decoder &amp; conversion functions to be used</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a97f834c354ab4f2a1c98ad2e12c8dfbb">VIDSimpleDoAudioDecodePCM16</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a641b0a7d06027618362e3a8e572549e8">VIDSimpleAudioBytesFromSamples</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a06c9d229ee79938ffb08c739fa9d9658">VIDSimpleAudioBytesFromSamplesPCM16</a>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa6f62540a2c93345cd4aa047393745c1">VIDSimpleAudioSamplesFromBytes</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a70b319d50c3de0cd4dfe0bea5ad8a69b">VIDSimpleAudioSamplesFromBytesPCM16</a>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID == VID_FCC(<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;P&#39;</span>,<span class="charliteral">&#39;C&#39;</span>,<span class="charliteral">&#39;M&#39;</span>))</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                    {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                    <span class="comment">// [...]</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                    }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                    {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                    <span class="comment">// Other audio codecs might be implemented here</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                    <span class="comment">// (the idea being to decode the data into the audioReadBuffer allocated below)</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                    <span class="comment">// [...]</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(FALSE);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="comment">// Allocate read buffer</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> * <span class="keyword">sizeof</span>(s16) * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.numChannels);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> == NULL)</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="keywordflow">return</span> TRUE;                    <span class="comment">// error</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="comment">// Reset ring buffer</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> = 0;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="comment">// What AI frquency is best?</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.pcm16.frq;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">// Allocate AI playback buffer</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[0] = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbAlloc(2 * <span class="keyword">sizeof</span>(s16) * VID_AUDIO_AIBUFFERSAMPLES * VID_AUDIO_NUMAIBUFFERS);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[0] == NULL)</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            <span class="keywordflow">return</span> TRUE;                    <span class="comment">// error</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">for</span>(i=1; i&lt;VID_AUDIO_NUMAIBUFFERS; i++)</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[i] = (<span class="keywordtype">void</span> *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[i - 1] + (2 * <span class="keyword">sizeof</span>(s16) * VID_AUDIO_AIBUFFERSAMPLES));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="comment">// Reset buffer index</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a> = 0;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="comment">// We disable AI output for now (logically)</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a> = FALSE;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8e20055108068549e7423aeca8a50ce1">audioPlayBackPossible</a> = FALSE;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="comment">// We assume to playback all we get by default</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad5ae1b65495b11b6a5624e6f3c18e440">audioPlayMaskArray</a> = NULL;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a> = 0;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a> = 2;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="comment">// Clear out AI buffers to avoid any noise what so ever</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        memset(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[0],0,2 * <span class="keyword">sizeof</span>(s16) * VID_AUDIO_AIBUFFERSAMPLES * VID_AUDIO_NUMAIBUFFERS);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        DCFlushRange(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[0],2 * <span class="keyword">sizeof</span>(s16) * VID_AUDIO_AIBUFFERSAMPLES * VID_AUDIO_NUMAIBUFFERS);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="comment">// Init GCN audio system</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        old = OSDisableInterrupts();</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0] = AXAcquireVoice(AX_PRIORITY_NODROP,NULL,0);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0] != NULL);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1] = AXAcquireVoice(AX_PRIORITY_NODROP,NULL,0);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1] != NULL);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        memset(&amp;axMix[0],0,<span class="keyword">sizeof</span>(axMix[0]));</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        axMix[0].vL = 0x7FFF;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        memset(&amp;axMix[1],0,<span class="keyword">sizeof</span>(axMix[1]));</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        axMix[1].vR = 0x7FFF;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        AXSetVoiceMix(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],&amp;axMix[0]);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        AXSetVoiceMix(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],&amp;axMix[1]);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        axVE.currentDelta = 0;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        axVE.currentVolume = 0x7FFF;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        AXSetVoiceVe(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],&amp;axVE);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        AXSetVoiceVe(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],&amp;axVE);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        memset(&amp;axSRC,0,<span class="keyword">sizeof</span>(AXPBSRC));</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        ratio = (u32)(65536.0f * (f32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a> / (f32)AX_IN_SAMPLES_PER_SEC);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        axSRC.ratioHi = (u16)(ratio &gt;&gt; 16);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        axSRC.ratioLo = (u16)ratio;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a> = (f32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="comment">// Calculate what we deem is a save amount of extra data in our read buffers</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f6d2d73afad1cda8ae4eafff4ecad8d">axMinAvailFrames</a> = (u32)((<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a> * (VID_AUDIO_LEADFACTOR - 1.0f) * ((f32)VID_AUDIO_NUMLEADFRAMES / <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.fps)) / (f32)VID_AUDIO_AIBUFFERSAMPLES);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        AXSetVoiceSrcType(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],AX_SRC_TYPE_4TAP_16K);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        AXSetVoiceSrc(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],&amp;axSRC);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        AXSetVoiceSrcType(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],AX_SRC_TYPE_4TAP_16K);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        AXSetVoiceSrc(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],&amp;axSRC);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        *(u32 *)&amp;axAddr.currentAddressHi = AX_ARAM_LEFT_CHANNEL;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        *(u32 *)&amp;axAddr.loopAddressHi = AX_ARAM_LEFT_CHANNEL;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        *(u32 *)&amp;axAddr.endAddressHi = AX_ARAM_LEFT_CHANNEL + AX_ARAM_BUFFER_SIZE - 1;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        axAddr.format = AX_PB_FORMAT_PCM16;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        axAddr.loopFlag = AXPBADDR_LOOP_ON;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        AXSetVoiceAddr(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],&amp;axAddr);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        *(u32 *)&amp;axAddr.currentAddressHi = AX_ARAM_RIGHT_CHANNEL;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        *(u32 *)&amp;axAddr.loopAddressHi = AX_ARAM_RIGHT_CHANNEL;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        *(u32 *)&amp;axAddr.endAddressHi = AX_ARAM_RIGHT_CHANNEL + AX_ARAM_BUFFER_SIZE - 1;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        AXSetVoiceAddr(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],&amp;axAddr);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        memset(&amp;axADPCM,0,<span class="keyword">sizeof</span>(axADPCM));</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        axADPCM.gain = 0x0800;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        AXSetVoiceAdpcm(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],&amp;axADPCM);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        AXSetVoiceAdpcm(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],&amp;axADPCM);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        AXSetVoiceType(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],AX_PB_TYPE_STREAM);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        AXSetVoiceType(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],AX_PB_TYPE_STREAM);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        AXRegisterCallback(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad59ba20434c089b34d17686de28a8433">AXCallback</a>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a> = AX_ARAM_LEFT_CHANNEL;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a> = VID_AUDIO_AIBUFFERSAMPLES * VID_AUDIO_NUMAIBUFFERS;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="comment">// All is setup for the voices. We&#39;ll start them inside the AX callback as soon as we got data in the ARAM buffers</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">return</span> FALSE;           <span class="comment">// no error</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01301">audioNumActiveVoices</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01300">audioNumPlayMasks</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01292">audioPlayBackPossible</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01288">audioPlayBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01291">audioPlayBufferEnabled</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01290">audioPlayBufferFrq</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01289">audioPlayBufferWriteIndex</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01299">audioPlayMaskArray</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01282">audioReadBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">audioReadBufferNumChannels</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01283">audioReadBufferNumSamples</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">audioReadBufferReadPos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01284">audioReadBufferWritePos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01311">AX_PHASE_STARTUP</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01307">axCurrentFrq</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01305">axLastAddr</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01308">axMinAvailFrames</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01316">axPhase</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01306">axPlayedSamples</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01303">axVoice</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01296">VIDSimpleAudioBytesFromSamples</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01666">VIDSimpleAudioBytesFromSamplesPCM16()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01718">VIDSimpleAudioBytesFromSamplesVAUD()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01297">VIDSimpleAudioSamplesFromBytes</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01671">VIDSimpleAudioSamplesFromBytesPCM16()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01723">VIDSimpleAudioSamplesFromBytesVAUD()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01295">VIDSimpleDoAudioDecode</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">VIDSimpleDoAudioDecodePCM16()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01686">VIDSimpleDoAudioDecodeVAUD()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a3ab4e4a5c8723e213b8efa974d50c5af_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a3ab4e4a5c8723e213b8efa974d50c5af_icgraph.svg" width="403" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a737bf27188582b3c6ccbb6a15e93a7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a737bf27188582b3c6ccbb6a15e93a7c1">&#9670;&nbsp;</a></span>VIDSimpleExitAudioDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleExitAudioDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown audio decoder and free resources. </p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbFree</td><td>Pointer to a fucntion to be used to free the allocated memory </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01527">1527</a></p>
<div class="fragment"><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="comment">// Any audio?</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID != VID_FCC(<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;O&#39;</span>,<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;E&#39;</span>))</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="comment">// Yes. Unregister callback &amp; stop AI DMA</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        BOOL old = OSDisableInterrupts();</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        AXRegisterCallback(NULL);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        AXSetVoiceState(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0],AX_PB_STATE_STOP);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        AXSetVoiceState(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1],AX_PB_STATE_STOP);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        AXFreeVoice(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0]);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        AXFreeVoice(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1]);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[0] = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a>[1] = NULL;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="comment">// Any codec related resources should be freed, too</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="comment">// [...]</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="comment">// Free allocated resources...</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[0]);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.cbFree(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01288">audioPlayBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01282">audioReadBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01303">axVoice</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a737bf27188582b3c6ccbb6a15e93a7c1_icgraph.svg" width="408" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a12ef59366303f531e32b139514838a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ef59366303f531e32b139514838a32">&#9670;&nbsp;</a></span>VIDSimpleAudioReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleAudioReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop audio playback without shutting down AI etc. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">1562</a></p>
<div class="fragment"><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    BOOL    old;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID != VID_FCC(<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;O&#39;</span>,<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;E&#39;</span>))</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        old = OSDisableInterrupts();</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> = 0;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> = 0;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a> = FALSE;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8e20055108068549e7423aeca8a50ce1">audioPlayBackPossible</a> = FALSE;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="comment">// ADPCM?</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID != VID_FCC(<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;P&#39;</span>,<span class="charliteral">&#39;C&#39;</span>,<span class="charliteral">&#39;M&#39;</span>))</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <span class="comment">// [...]</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <span class="comment">// Other codecs could reset their state right here...</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="comment">// [...]</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01292">audioPlayBackPossible</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01291">audioPlayBufferEnabled</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">audioReadBufferReadPos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01284">audioReadBufferWritePos</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a12ef59366303f531e32b139514838a32_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a29fef36b44a5bd1bd911fa8bcf7607e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29fef36b44a5bd1bd911fa8bcf7607e3">&#9670;&nbsp;</a></span>VIDSimpleAudioGetInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleAudioGetInfo </td>
          <td>(</td>
          <td class="paramtype">VidAUDH *&#160;</td>
          <td class="paramname"><em>audioHeader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return some information about current audio stream. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01598">1598</a></p>
<div class="fragment"><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(audioHeader);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    memcpy(audioHeader, &amp;<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo, <span class="keyword">sizeof</span>(*audioHeader));</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>.</p>

</div>
</div>
<a id="acac3d7cb240f95f2449cefc9a8da833a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac3d7cb240f95f2449cefc9a8da833a">&#9670;&nbsp;</a></span>audioDecode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static BOOL audioDecode </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>numChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const s16 **&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>sampleNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main audio data decode function. </p>
<p>This function will be used as a callback from the VIDAudioDecode function or is called directely in case of PCM or ADPCM.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">numChannels</td><td>Number of channels present in the sample array</td></tr>
    <tr><td class="paramname">samples</td><td>Array of s16 pointers to the sample data</td></tr>
    <tr><td class="paramname">sampleNum</td><td>Number of samples in the array. All arrays have the same amount of sample data</td></tr>
    <tr><td class="paramname">userData</td><td>Some user data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>FALSE if data could not be interpreted properly </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">1754</a></p>
<div class="fragment"><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    u32     freeSamples;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    u32     sampleSize;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    u32     len1;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    BOOL    old;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">// we can only play mono or stereo!</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(numChannels &lt;= 2);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160; </div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="comment">// Disable IRQs. We must make sure we don&#39;t get interrupted by the AI callback.</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    old = OSDisableInterrupts();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">// Did the video decoder just jump back to the beginning of the stream?</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.readBuffer[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decodeIndex].frameNumber &lt; <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.lastDecodedFrame)</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="comment">// Yes! We have to reset the internal read buffer and disable any audio output</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="comment">// until we got new video data to display...</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <span class="comment">// Note: we have to reset our buffers because the stream contains more audio data than</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="comment">// neccessary to cover a single video frame within the first few frames to accumulate</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <span class="comment">// some safety buffer. If the stream would just be allowed to loop we would get an</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="comment">// overflow (unless we used up the extra buffer due to read / decode delays) after a few</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="comment">// loops...</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a12ef59366303f531e32b139514838a32">VIDSimpleAudioReset</a>();</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="comment">// Calculate the read buffer&#39;s sample size</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    sampleSize = <span class="keyword">sizeof</span>(s16) * <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">// How many samples could we put into the buffer?</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> &gt;= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a>)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        freeSamples = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> - (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="keywordflow">if</span> (freeSamples &lt; sampleNum)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="preprocessor">            #ifndef FINAL</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            OSReport(<span class="stringliteral">&quot;*** audioDecode: overflow\n&quot;</span>);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="keywordflow">return</span> FALSE;               <span class="comment">// overflow!</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            }</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <span class="comment">// We might have a two buffer update to do. Check for it...</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="keywordflow">if</span> ((len1 = (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a> - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a>)) &gt;= sampleNum)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <span class="comment">// No. We got ourselfs a nice, simple single buffer update.</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a>((s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> * sampleSize),numChannels,samples,0,sampleNum);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            <span class="comment">// Dual buffer case</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a>((s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> * sampleSize),numChannels,samples,0,len1);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a>((s16 *)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a>,numChannels,samples,len1,sampleNum-len1);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        }</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        freeSamples = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> - <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a>;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <span class="keywordflow">if</span> (freeSamples &lt; sampleNum)</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="preprocessor">            #ifndef FINAL</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            OSReport(<span class="stringliteral">&quot;*** audioDecode: overflow\n&quot;</span>);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="keywordflow">return</span> FALSE;               <span class="comment">// overflow!</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            }</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            <span class="comment">// We&#39;re save to assume to have a single buffer update in any case...</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a>((s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> * sampleSize),numChannels,samples,0,sampleNum);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="comment">// Advance write position...</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> += sampleNum;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> &gt;= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a>)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a> -= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a>;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">// We&#39;re done with all critical stuff. IRQs may be enabled again...</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01282">audioReadBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">audioReadBufferNumChannels</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01283">audioReadBufferNumSamples</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">audioReadBufferReadPos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01284">audioReadBufferWritePos</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">VIDSimpleAudioReset()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01295">VIDSimpleDoAudioDecode</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">VIDSimpleAudioDecode()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_acac3d7cb240f95f2449cefc9a8da833a_cgraph.svg" width="307" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_acac3d7cb240f95f2449cefc9a8da833a_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a352bfd5da831761c09c2d76356c6339c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a352bfd5da831761c09c2d76356c6339c">&#9670;&nbsp;</a></span>VIDSimpleAudioDecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL VIDSimpleAudioDecode </td>
          <td>(</td>
          <td class="paramtype">const u8 *&#160;</td>
          <td class="paramname"><em>bitstream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>bitstreamLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data from bitstream and direct to required encoding facility. </p>
<p>This function will receive the AUDD chunck from the VIDSimplePlayer's decode function.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">bitstream</td><td>Pointer to the data of a AUDD chunk</td></tr>
    <tr><td class="paramname">bitstreamLen</td><td>Length of the data in the AUDD chunk pointed to by above pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>FALSE if data could not be interpreted properly </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">1860</a></p>
<div class="fragment"><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="comment">// Any audio data present?</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID != VID_FCC(<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;O&#39;</span>,<span class="charliteral">&#39;N&#39;</span>,<span class="charliteral">&#39;E&#39;</span>))</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <span class="comment">// Select requested audio decoding method</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.audioInfo.audioID == VID_FCC(<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;U&#39;</span>,<span class="charliteral">&#39;D&#39;</span>))</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            u32 headerSize = ((VidAUDDVAUD*)bitstream)-&gt;size;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <span class="comment">// a channel mask if 0x3 selects the first two channels...</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            <span class="keywordflow">if</span>(!VIDAudioDecode(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a>.decoder, bitstream+headerSize, bitstreamLen-headerSize, 0x3, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#acac3d7cb240f95f2449cefc9a8da833a">audioDecode</a>, NULL))</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            <span class="comment">// Calc data and call audio decode callback by ourself</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            <span class="keyword">const</span> u8* <a class="code" href="../../de/d47/namespace_gfx.html#a0cc0c255bb5dfdc16b506173bf1f59ee">data</a> = bitstream + <span class="keyword">sizeof</span>(u32);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            u32 dataLength = *(<span class="keyword">const</span> u32 *)bitstream;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="comment">// We always assume 1 source data pointer</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#acac3d7cb240f95f2449cefc9a8da833a">audioDecode</a>(1, (<span class="keyword">const</span> s16**)&amp;<a class="code" href="../../de/d47/namespace_gfx.html#a0cc0c255bb5dfdc16b506173bf1f59ee">data</a>, <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa6f62540a2c93345cd4aa047393745c1">VIDSimpleAudioSamplesFromBytes</a>(dataLength), NULL))</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8e20055108068549e7423aeca8a50ce1">audioPlayBackPossible</a> = TRUE;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        }</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">return</span> TRUE;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01292">audioPlayBackPossible</a>, <a class="el" href="../../d6/d76/_boned_anim_8cpp_source.html#l01898">Gfx::data</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">player</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01297">VIDSimpleAudioSamplesFromBytes</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00762">VIDSimpleDecode()</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a352bfd5da831761c09c2d76356c6339c_cgraph.svg" width="515" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a352bfd5da831761c09c2d76356c6339c_icgraph.svg" width="556" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9af8441064f697312923d87fd1496d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af8441064f697312923d87fd1496d25">&#9670;&nbsp;</a></span>VIDSimpleAudioStartPlayback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleAudioStartPlayback </td>
          <td>(</td>
          <td class="paramtype">const u32 *&#160;</td>
          <td class="paramname"><em>playMaskArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>numMasks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable AI playback (within about 5ms) </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01898">1898</a></p>
<div class="fragment"><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    BOOL old = OSDisableInterrupts();</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8e20055108068549e7423aeca8a50ce1">audioPlayBackPossible</a>)</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a> = TRUE;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a50aa8652f64bcdd6cce4471b88f8c713">VIDSimpleAudioChangePlayback</a>(playMaskArray,numMasks);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        }</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01292">audioPlayBackPossible</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01291">audioPlayBufferEnabled</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">VIDSimpleAudioChangePlayback()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d9a/p__display_8cpp_source.html#l01272">VIPreCallback()</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a9af8441064f697312923d87fd1496d25_cgraph.svg" width="472" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a9af8441064f697312923d87fd1496d25_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a50aa8652f64bcdd6cce4471b88f8c713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50aa8652f64bcdd6cce4471b88f8c713">&#9670;&nbsp;</a></span>VIDSimpleAudioChangePlayback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VIDSimpleAudioChangePlayback </td>
          <td>(</td>
          <td class="paramtype">const u32 *&#160;</td>
          <td class="paramname"><em>playMaskArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>numMasks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the active audio channels. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">1920</a></p>
<div class="fragment"><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    u32     i,b;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    BOOL    old = OSDisableInterrupts();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    </div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad5ae1b65495b11b6a5624e6f3c18e440">audioPlayMaskArray</a> = playMaskArray;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a> = numMasks;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    </div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="comment">// Any playback mask specified?</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a> != 0)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="comment">// Yes. Count the active voices...</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a> = 0;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="keywordflow">for</span>(i=0; i&lt;numMasks; i++)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="keywordflow">for</span>(b=0; b&lt;32; b++)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad5ae1b65495b11b6a5624e6f3c18e440">audioPlayMaskArray</a>[i] &amp; (1&lt;&lt;b))</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a>++;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                }</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            }</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="comment">// So, did we have too much?</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a> &lt;= 2);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a> = <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a>;      <span class="comment">// Make all active...</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    OSRestoreInterrupts(old);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01301">audioNumActiveVoices</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01300">audioNumPlayMasks</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01299">audioPlayMaskArray</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">audioReadBufferNumChannels</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01898">VIDSimpleAudioStartPlayback()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_a50aa8652f64bcdd6cce4471b88f8c713_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">&#9670;&nbsp;</a></span>audioCopy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void audioCopy </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>smpOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>numSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy PCM16 data from the read buffer into the audio buffer. </p>
<p>This function serves as an internal service function to make sure mono and stereo audio data gets properly converted into audio buffer format.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramname">smpOffset</td><td>Offset in samples into the current write buffer</td></tr>
    <tr><td class="paramname">numSamples</td><td>Number of samples to be updated / copied </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">1969</a></p>
<div class="fragment"><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    s16     *destAddrL,*destAddrR,*srcAddr,s;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    u32     j;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    </div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="comment">// Target address in audio buffer</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    destAddrL = (s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>] + smpOffset * <span class="keyword">sizeof</span>(s16));</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    destAddrR = (s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a>[<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a>] + smpOffset * <span class="keyword">sizeof</span>(s16) + (VID_AUDIO_AIBUFFERSAMPLES * <span class="keyword">sizeof</span>(s16)));</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="comment">// Single or dual channel setup?</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a> == 2)</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <span class="comment">// Stereo! Get source address of data...</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        srcAddr = (s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> * 2 * <span class="keyword">sizeof</span>(s16));</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        <span class="comment">// Copy samples into AI buffer and swap channels</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">for</span>(j=0; j&lt;numSamples; j++)</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            *(destAddrL++) = *(srcAddr++);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            *(destAddrR++) = *(srcAddr++);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        {</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="comment">// Mono case!</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        </div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <span class="comment">// Make sure it&#39;s truely mono!</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">ASSERT</a>(<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a> == 1);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        </div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <span class="comment">// Get source address...</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        srcAddr = (s16 *)((u32)<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a> + <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> * <span class="keyword">sizeof</span>(s16));</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="comment">// Copy samples into AI buffer (AI is always stereo, so we have to dublicate data)</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="keywordflow">for</span>(j=0; j&lt;numSamples; j++)</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            {</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            s = (*srcAddr++);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            *(destAddrL++) = s;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            *(destAddrR++) = s;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            }</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    </div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="comment">// Advance read position as needed...</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> += numSamples;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> &gt;= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a>)</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a> -= <a class="code" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Перекрестные ссылки <a class="el" href="../../df/d49/scriptdefs_8h_source.html#l00016">Script::ASSERT</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01288">audioPlayBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01289">audioPlayBufferWriteIndex</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01282">audioReadBuffer</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">audioReadBufferNumChannels</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01283">audioReadBufferNumSamples</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">audioReadBufferReadPos</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>.</p>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d5b/ngc_2p__movies_8cpp_aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Переменные</h2>
<a id="ad251bec5bf630ff0013c1db41fed583e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad251bec5bf630ff0013c1db41fed583e">&#9670;&nbsp;</a></span>padData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PADStatus padData[PAD_MAX_CONTROLLERS]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../da/dd4/ngc_2sioman_8cpp_source.html">sioman.cpp</a> строка <a class="el" href="../../da/dd4/ngc_2sioman_8cpp_source.html#l00040">40</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>

</div>
</div>
<a id="afb5d55e87720b696bc7045286f00bbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb5d55e87720b696bc7045286f00bbf9">&#9670;&nbsp;</a></span>messageColor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GXColor messageColor</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../dc/d9a/p__display_8cpp_source.html">p_display.cpp</a> строка <a class="el" href="../../dc/d9a/p__display_8cpp_source.html#l00185">185</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>

</div>
</div>
<a id="aef0c2c2fe05db7cf6cece22ee8a229e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef0c2c2fe05db7cf6cece22ee8a229e8">&#9670;&nbsp;</a></span>rmode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GXRenderModeObj* rmode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html">p_hwinit.cpp</a> строка <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00272">272</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01119">VIDDrawGXYuv2RgbSetup()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00855">VIDSimpleDraw()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00873">VIDSimpleDrawXFB()</a>.</p>

</div>
</div>
<a id="a880921edc6d5d692f29289a07e6c79a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a880921edc6d5d692f29289a07e6c79a2">&#9670;&nbsp;</a></span>lcMemBase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8* lcMemBase = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Base address for 'Locked Cache' simple memory manager. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00080">80</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01054">myAllocFromLC()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>

</div>
</div>
<a id="a9104f0acd4f9d0e652de265bb7a899d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9104f0acd4f9d0e652de265bb7a899d7">&#9670;&nbsp;</a></span>xfbLCStart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* xfbLCStart = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Locked cache base address for XFB conversion stuff This is only required, if USE_DIRECT_XFB is set </p>

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00084">84</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>

</div>
</div>
<a id="a659bf657e5fa1a5e835934ba9244b3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659bf657e5fa1a5e835934ba9244b3d7">&#9670;&nbsp;</a></span>g_legal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool g_legal</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../dc/d9a/p__display_8cpp_source.html">p_display.cpp</a> строка <a class="el" href="../../dc/d9a/p__display_8cpp_source.html#l00076">76</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>.</p>

</div>
</div>
<a id="a3f2de64762dceb8ee52c761d40eac538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2de64762dceb8ee52c761d40eac538">&#9670;&nbsp;</a></span>hwCurrentBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hwCurrentBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html">p_hwinit.cpp</a> строка <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00261">261</a></p>

<p class="reference">Используется в <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00637">__hwInitGX()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00556">__hwInitMem()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l00932">__hwInitVI()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l01377">__NoHangDoneRender()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l01050">hwDoneRender()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l01290">hwGetCurrentBuffer()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l01092">hwLockBackBuffer()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l01129">hwSwapBuffers()</a>, <a class="el" href="../../d4/da4/p__hwinit_8cpp_source.html#l01109">hwUnlockBackBuffer()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00873">VIDSimpleDrawXFB()</a>.</p>

</div>
</div>
<a id="adee15ed765deb99e8f2e52599a63ef9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee15ed765deb99e8f2e52599a63ef9d">&#9670;&nbsp;</a></span>player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VidSimplePlayer player</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">101</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d21/_goal_8cpp_source.html#l00514">Game::CGoal::Activate()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00183">GameNet::LobbyMan::add_player_to_menu()</a>, <a class="el" href="../../dc/d03/_server_list_8cpp_source.html#l01620">GameNet::ServerInfo::AddPlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03555">GameNet::Manager::AddPlayerToList()</a>, <a class="el" href="../../d6/d21/_goal_8cpp_source.html#l01039">Game::CGoal::AllSkatersAtEndOfRun()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d5/d29/_skater_flip_and_rotate_component_8cpp_source.html#l00116">Obj::CSkaterFlipAndRotateComponent::CallMemberFunction()</a>, <a class="el" href="../../d5/d14/modelcomponent_8cpp_source.html#l00822">Obj::CModelComponent::CallMemberFunction()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03824">GameNet::Manager::ChooseNewServerPlayer()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l01412">GameNet::StatsKeeper::Cleanup()</a>, <a class="el" href="../../dc/d03/_server_list_8cpp_source.html#l01592">GameNet::ServerInfo::ClearPlayerNames()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l05783">GameNet::Manager::CreateNetPanelMessage()</a>, <a class="el" href="../../d3/d8b/skatercam_8cpp_source.html#l00177">Obj::CSkaterCam::CSkaterCam()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03459">GameNet::Manager::DeferredNewPlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03569">GameNet::Manager::DestroyPlayer()</a>, <a class="el" href="../../d5/d29/_skater_flip_and_rotate_component_8cpp_source.html#l00307">Obj::CSkaterFlipAndRotateComponent::DoAnyFlipRotateOrBoardRotateAfters()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04356">GameNet::Manager::DropPartiallyLoadedPlayers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04384">GameNet::Manager::DropPlayer()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00186">dvdDoneCallback()</a>, <a class="el" href="../../d2/d93/manual_8cpp_source.html#l00401">Obj::CManual::EnableWobble()</a>, <a class="el" href="../../dd/d50/_skater_non_local_net_logic_component_8cpp_source.html#l00926">Obj::CSkaterNonLocalNetLogicComponent::extrapolate_position()</a>, <a class="el" href="../../dd/d50/_skater_non_local_net_logic_component_8cpp_source.html#l00672">Obj::CSkaterNonLocalNetLogicComponent::extrapolate_rail_position()</a>, <a class="el" href="../../dd/d4a/_ngps_2p__buddy_8cpp_source.html#l00596">GameNet::BuddyMan::fill_buddy_list()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00333">GameNet::LobbyMan::fill_player_list()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l01325">GameNet::StatsKeeper::FillMenu()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l01256">GameNet::StatsKeeper::FillSectionedMenu()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04145">GameNet::Manager::FirstNewPlayerInfo()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04109">GameNet::Manager::FirstPlayerInfo()</a>, <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l02107">Obj::CAnimationComponent::FlipAnimation()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l00349">GameNet::Manager::free_all_players()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04276">GameNet::Manager::GetKingOfTheHill()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04232">GameNet::Manager::GetLocalPlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04173">GameNet::Manager::GetNewPlayerInfoByObjectID()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03959">GameNet::Manager::GetNextPlayerObjectId()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03106">GameNet::Manager::GetNumObservers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03069">GameNet::Manager::GetNumPlayers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04039">GameNet::Manager::GetPlayerByConnection()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04060">GameNet::Manager::GetPlayerByObjectID()</a>, <a class="el" href="../../dc/d03/_server_list_8cpp_source.html#l01648">GameNet::ServerInfo::GetPlayerName()</a>, <a class="el" href="../../dc/d03/_server_list_8cpp_source.html#l01670">GameNet::ServerInfo::GetPlayerRating()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04254">GameNet::Manager::GetServerPlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04018">GameNet::Manager::GetSkaterByConnection()</a>, <a class="el" href="../../d5/d14/modelcomponent_8cpp_source.html#l00469">Obj::CModelComponent::HideGeom()</a>, <a class="el" href="../../dd/d50/_skater_non_local_net_logic_component_8cpp_source.html#l01087">Obj::CSkaterNonLocalNetLogicComponent::interpolate_client_position()</a>, <a class="el" href="../../d3/d6b/_net_goal_8cpp_source.html#l00074">Game::CNetGoal::IsExpired()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l05092">GameNet::Manager::LoadPendingPlayers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04159">GameNet::Manager::NextNewPlayerInfo()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04127">GameNet::Manager::NextPlayerInfo()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l01228">GameNet::StatsKeeper::NumEntries()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l04333">GameNet::Manager::NumPartiallyLoadedPlayers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l02024">GameNet::Manager::NumTeamMembers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03685">GameNet::Manager::ObservePlayer()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l00109">GameNet::StatsMan::parse_ratings()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l00159">GameNet::StatsMan::parse_score_list()</a>, <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01082">Obj::CAnimationComponent::PlayPrimarySequence()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00138">ReadFrameAsync()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00298">GameNet::LobbyMan::refresh_player_list()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l00924">GameNet::StatsMan::ReportStats()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l05439">GameNet::Manager::ResetPlayers()</a>, <a class="el" href="../../d5/d29/_skater_flip_and_rotate_component_8cpp_source.html#l00231">Obj::CSkaterFlipAndRotateComponent::RotateSkateboard()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00717">GameNet::LobbyMan::s_enum_players_callback()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00671">GameNet::LobbyMan::s_get_room_keys_callback()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00770">GameNet::LobbyMan::s_new_player_list_callback()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00952">GameNet::LobbyMan::s_player_key_callback()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00508">GameNet::LobbyMan::s_player_message_callback()</a>, <a class="el" href="../../d0/d2c/_lobby_8cpp_source.html#l00520">GameNet::LobbyMan::s_player_proile_id_callback()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07387">GameNet::Manager::ScriptAllPlayersAreReady()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l01965">CFuncs::ScriptAnyTotalScoreAtLeast()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07745">GameNet::Manager::ScriptBanPlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07666">GameNet::Manager::ScriptCancelRemovePlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06482">GameNet::Manager::ScriptCapturedFlag()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03470">CFuncs::ScriptClearPlayerFaceTexture()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07474">GameNet::Manager::ScriptCreatePlayerOptions()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06906">GameNet::Manager::ScriptEndNetworkGame()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07538">GameNet::Manager::ScriptFillPlayerListMenu()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l07326">CFuncs::ScriptGetCollidingPlayerAndTeam()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07040">GameNet::Manager::ScriptGetMyTeam()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l05554">CFuncs::ScriptGetNumStatPointsAvailable()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03333">CFuncs::ScriptGetPlayerFacePoints()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06584">GameNet::Manager::ScriptHasFlag()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07259">GameNet::Manager::ScriptIsHost()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07165">GameNet::Manager::ScriptJoinTeam()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07685">GameNet::Manager::ScriptKickPlayer()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l02020">CFuncs::ScriptOnlyOneSkaterLeft()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03493">CFuncs::ScriptPlayerFaceIsValid()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07623">GameNet::Manager::ScriptRemovePlayer()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06537">GameNet::Manager::ScriptRetrievedFlag()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06871">GameNet::Manager::ScriptSendGameOverToObservers()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l07061">GameNet::Manager::ScriptSetNumTeams()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03311">CFuncs::ScriptSetPlayerAppearance()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03444">CFuncs::ScriptSetPlayerFaceOverlayTexture()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03378">CFuncs::ScriptSetPlayerFacePoints()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l03412">CFuncs::ScriptSetPlayerFaceTexture()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06735">GameNet::Manager::ScriptStartNetworkGame()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06624">GameNet::Manager::ScriptTeamFlagTaken()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l02312">CFuncs::ScriptToggleSkaterCamMode()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06435">GameNet::Manager::ScriptTookFlag()</a>, <a class="el" href="../../d6/d5d/skfuncs_8cpp_source.html#l04858">CFuncs::ScriptUpdateSkaterStats()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06033">GameNet::Manager::SendChatMessage()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l03279">GameNet::Manager::SendFaceDataToPlayer()</a>, <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01507">Obj::CAnimationComponent::SetAnimSpeed()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l05893">GameNet::Manager::SetCurrentLeader()</a>, <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01445">Obj::CAnimationComponent::SetLoopingType()</a>, <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01374">Obj::CAnimationComponent::SetWobbleDetails()</a>, <a class="el" href="../../d4/d2e/animationcomponent_8cpp_source.html#l01215">Obj::CAnimationComponent::SetWobbleTarget()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l05294">GameNet::Manager::StartNetworkGame()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l05192">GameNet::Manager::StartNetworkLobby()</a>, <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l00855">GameNet::StatsMan::StartNewGame()</a>, <a class="el" href="../../d9/d64/_game_net_8cpp_source.html#l06373">GameNet::Manager::ToggleProSet()</a>, <a class="el" href="../../da/ddc/_skater_floating_name_component_8cpp_source.html#l00114">Obj::CSkaterFloatingNameComponent::Update()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00246">VIDSimpleAllocDVDBuffers()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01666">VIDSimpleAudioBytesFromSamplesPCM16()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01718">VIDSimpleAudioBytesFromSamplesVAUD()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">VIDSimpleAudioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01598">VIDSimpleAudioGetInfo()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">VIDSimpleAudioReset()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01671">VIDSimpleAudioSamplesFromBytesPCM16()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01723">VIDSimpleAudioSamplesFromBytesVAUD()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00730">VIDSimpleClose()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00309">VIDSimpleCreateDecoder()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00762">VIDSimpleDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00353">VIDSimpleDestroyDecoder()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">VIDSimpleDoAudioDecodePCM16()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00855">VIDSimpleDraw()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00873">VIDSimpleDrawXFB()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01527">VIDSimpleExitAudioDecoder()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00286">VIDSimpleFreeDVDBuffers()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00936">VIDSimpleGetAudioSampleRate()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00901">VIDSimpleGetFPS()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00924">VIDSimpleGetFrameCount()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00885">VIDSimpleGetVideoSize()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00120">VIDSimpleInit()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00912">VIDSimpleIsInterlace()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00374">VIDSimpleLoadStart()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00453">VIDSimpleLoadStop()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00501">VIDSimpleOpen()</a> и <a class="el" href="../../d1/df4/p__stats_8cpp_source.html#l01211">GameNet::StatsLevel::~StatsLevel()</a>.</p>

</div>
</div>
<a id="ae97a4c12080557b3fad389a526fbfcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae97a4c12080557b3fad389a526fbfcec">&#9670;&nbsp;</a></span>audioReadBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* audioReadBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01282">1282</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01527">VIDSimpleExitAudioDecoder()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a16d8ac095e8a3c8d7d7e31aa8746ab52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d8ac095e8a3c8d7d7e31aa8746ab52">&#9670;&nbsp;</a></span>audioReadBufferNumSamples</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 audioReadBufferNumSamples</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01283">1283</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="ab5619833da1ff053ca18d068facc9b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5619833da1ff053ca18d068facc9b64">&#9670;&nbsp;</a></span>audioReadBufferWritePos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 audioReadBufferWritePos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01284">1284</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">VIDSimpleAudioReset()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="ae9830a25c42d887ad982cc3d2b411a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9830a25c42d887ad982cc3d2b411a48">&#9670;&nbsp;</a></span>audioReadBufferReadPos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 audioReadBufferReadPos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">1285</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">VIDSimpleAudioReset()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a6c87bde08be64fc6865f8966ecf99911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c87bde08be64fc6865f8966ecf99911">&#9670;&nbsp;</a></span>audioReadBufferNumChannels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8 audioReadBufferNumChannels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">1286</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">VIDSimpleAudioChangePlayback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">VIDSimpleDoAudioDecodePCM16()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="ace982e9637937e4c80640da3bedf9037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace982e9637937e4c80640da3bedf9037">&#9670;&nbsp;</a></span>audioPlayBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* audioPlayBuffer[VID_AUDIO_NUMAIBUFFERS]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01288">1288</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01527">VIDSimpleExitAudioDecoder()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a52f28398f5a133e921f1d9b69f9d7442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f28398f5a133e921f1d9b69f9d7442">&#9670;&nbsp;</a></span>audioPlayBufferWriteIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8 audioPlayBufferWriteIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01289">1289</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">audioCopy()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a15d13e8b470de605adcc5c88957b6aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d13e8b470de605adcc5c88957b6aed">&#9670;&nbsp;</a></span>audioPlayBufferFrq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 audioPlayBufferFrq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01290">1290</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a37f74b805e6e7d3ae0f8fce841e7972a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f74b805e6e7d3ae0f8fce841e7972a">&#9670;&nbsp;</a></span>audioPlayBufferEnabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile BOOL audioPlayBufferEnabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01291">1291</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">VIDSimpleAudioReset()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01898">VIDSimpleAudioStartPlayback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a8e20055108068549e7423aeca8a50ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e20055108068549e7423aeca8a50ce1">&#9670;&nbsp;</a></span>audioPlayBackPossible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile BOOL audioPlayBackPossible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01292">1292</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">VIDSimpleAudioDecode()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">VIDSimpleAudioReset()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01898">VIDSimpleAudioStartPlayback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a565e64a9257ccc69186c7e49f203fc10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a565e64a9257ccc69186c7e49f203fc10">&#9670;&nbsp;</a></span>VIDSimpleDoAudioDecode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void(* VIDSimpleDoAudioDecode) (s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01295">1295</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">audioDecode()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a641b0a7d06027618362e3a8e572549e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a641b0a7d06027618362e3a8e572549e8">&#9670;&nbsp;</a></span>VIDSimpleAudioBytesFromSamples</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32(* VIDSimpleAudioBytesFromSamples) (u32 samples)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01296">1296</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="aa6f62540a2c93345cd4aa047393745c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f62540a2c93345cd4aa047393745c1">&#9670;&nbsp;</a></span>VIDSimpleAudioSamplesFromBytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32(* VIDSimpleAudioSamplesFromBytes) (u32 bytes)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01297">1297</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">VIDSimpleAudioDecode()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="ad5ae1b65495b11b6a5624e6f3c18e440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ae1b65495b11b6a5624e6f3c18e440">&#9670;&nbsp;</a></span>audioPlayMaskArray</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const u32* audioPlayMaskArray</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01299">1299</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">VIDSimpleAudioChangePlayback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">VIDSimpleDoAudioDecodePCM16()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a473aaa07535a5bdcf6ea5067ce8ba30b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473aaa07535a5bdcf6ea5067ce8ba30b">&#9670;&nbsp;</a></span>audioNumPlayMasks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 audioNumPlayMasks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01300">1300</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">VIDSimpleAudioChangePlayback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">VIDSimpleDoAudioDecodePCM16()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a1d59fbeb0a3361a9f9b3273bf1f59961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d59fbeb0a3361a9f9b3273bf1f59961">&#9670;&nbsp;</a></span>audioNumActiveVoices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 audioNumActiveVoices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01301">1301</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">VIDSimpleAudioChangePlayback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="ab8b4bc3f65824a1e37ae889055487a16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b4bc3f65824a1e37ae889055487a16">&#9670;&nbsp;</a></span>axVoice</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AXVPB* axVoice[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01303">1303</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02204">Flx::PMovies_PlayMovie()</a>, <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01527">VIDSimpleExitAudioDecoder()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a73033ab7ad0d1961bced9b9225b23bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73033ab7ad0d1961bced9b9225b23bd2">&#9670;&nbsp;</a></span>arqRequest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARQRequest arqRequest[2][VID_AUDIO_NUMAIREQUESTS]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01304">1304</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a>.</p>

</div>
</div>
<a id="aba07e1699b33c8c0ddb302d2e36c2b4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba07e1699b33c8c0ddb302d2e36c2b4e">&#9670;&nbsp;</a></span>axLastAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 axLastAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01305">1305</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a6506fade5f2f98afaa90730587349300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6506fade5f2f98afaa90730587349300">&#9670;&nbsp;</a></span>axPlayedSamples</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 axPlayedSamples</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01306">1306</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="ab1ec0649f9b8782d422cd1acb285a3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ec0649f9b8782d422cd1acb285a3f3">&#9670;&nbsp;</a></span>axCurrentFrq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">f32 axCurrentFrq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01307">1307</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a3f6d2d73afad1cda8ae4eafff4ecad8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6d2d73afad1cda8ae4eafff4ecad8d">&#9670;&nbsp;</a></span>axMinAvailFrames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 axMinAvailFrames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01308">1308</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
<a id="a8d66be1adab50007d503d2256821fc50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d66be1adab50007d503d2256821fc50">&#9670;&nbsp;</a></span>axPhase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a> axPhase</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html">p_movies.cpp</a> строка <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01316">1316</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">AXCallback()</a> и <a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01350">VIDSimpleInitAudioDecoder()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="angc_2p__movies_8cpp_html_a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfab9d1d86a77f3039df8816d1d4bad1463">AX_PHASE_START</a></div><div class="ttdeci">@ AX_PHASE_START</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01312">p_movies.cpp:1312</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a3f6d2d73afad1cda8ae4eafff4ecad8d"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f6d2d73afad1cda8ae4eafff4ecad8d">axMinAvailFrames</a></div><div class="ttdeci">static u32 axMinAvailFrames</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01308">p_movies.cpp:1308</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_a17162e2f6ea33ee7c45ffb78044806a9"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#a17162e2f6ea33ee7c45ffb78044806a9">Mem::Manager::BottomUpHeap</a></div><div class="ttdeci">Heap * BottomUpHeap(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/memman_8h_source.html#l00132">memman.h:132</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a8e20055108068549e7423aeca8a50ce1"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8e20055108068549e7423aeca8a50ce1">audioPlayBackPossible</a></div><div class="ttdeci">static volatile BOOL audioPlayBackPossible</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01292">p_movies.cpp:1292</a></div></div>
<div class="ttc" id="angc_2bgm_2bgm__com_8c_html_a6baa346e44f4c2158d2be4f9b77b8203"><div class="ttname"><a href="../../dd/db2/ngc_2bgm_2bgm__com_8c.html#a6baa346e44f4c2158d2be4f9b77b8203">ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/ngc_2bgm_2bgm__com_8c_source.html#l00077">bgm_com.c:77</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a37f74b805e6e7d3ae0f8fce841e7972a"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a37f74b805e6e7d3ae0f8fce841e7972a">audioPlayBufferEnabled</a></div><div class="ttdeci">static volatile BOOL audioPlayBufferEnabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01291">p_movies.cpp:1291</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_adee15ed765deb99e8f2e52599a63ef9d"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#adee15ed765deb99e8f2e52599a63ef9d">player</a></div><div class="ttdeci">VidSimplePlayer player</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00101">p_movies.cpp:101</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a12ef59366303f531e32b139514838a32"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a12ef59366303f531e32b139514838a32">VIDSimpleAudioReset</a></div><div class="ttdeci">void VIDSimpleAudioReset(void)</div><div class="ttdoc">Stop audio playback without shutting down AI etc.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01562">p_movies.cpp:1562</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ab8b4bc3f65824a1e37ae889055487a16"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab8b4bc3f65824a1e37ae889055487a16">axVoice</a></div><div class="ttdeci">static AXVPB * axVoice[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01303">p_movies.cpp:1303</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ab5619833da1ff053ca18d068facc9b64"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab5619833da1ff053ca18d068facc9b64">audioReadBufferWritePos</a></div><div class="ttdeci">static u32 audioReadBufferWritePos</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01284">p_movies.cpp:1284</a></div></div>
<div class="ttc" id="anamespace_gfx_html_a0cc0c255bb5dfdc16b506173bf1f59ee"><div class="ttname"><a href="../../de/d47/namespace_gfx.html#a0cc0c255bb5dfdc16b506173bf1f59ee">Gfx::data</a></div><div class="ttdeci">short data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d76/_boned_anim_8cpp_source.html#l01898">BonedAnim.cpp:1898</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_aa6f62540a2c93345cd4aa047393745c1"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa6f62540a2c93345cd4aa047393745c1">VIDSimpleAudioSamplesFromBytes</a></div><div class="ttdeci">static u32(* VIDSimpleAudioSamplesFromBytes)(u32 bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01297">p_movies.cpp:1297</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a53f6148999acca8d6dddcdf8fd1b80a6"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a53f6148999acca8d6dddcdf8fd1b80a6">VIDDrawGXRestore</a></div><div class="ttdeci">void VIDDrawGXRestore(void)</div><div class="ttdoc">Restore GX graphics context to some 'defaults'.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01084">p_movies.cpp:1084</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a473aaa07535a5bdcf6ea5067ce8ba30b"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a473aaa07535a5bdcf6ea5067ce8ba30b">audioNumPlayMasks</a></div><div class="ttdeci">static u32 audioNumPlayMasks</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01300">p_movies.cpp:1300</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a06c9d229ee79938ffb08c739fa9d9658"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a06c9d229ee79938ffb08c739fa9d9658">VIDSimpleAudioBytesFromSamplesPCM16</a></div><div class="ttdeci">static u32 VIDSimpleAudioBytesFromSamplesPCM16(u32 samples)</div><div class="ttdoc">Misc conversion fucntions for PCM16 stream data.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01666">p_movies.cpp:1666</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aecb52ba0d2e6e1d9bbe4d33a0c0a7e4b">audioCopy</a></div><div class="ttdeci">static void audioCopy(u32 smpOffset, u32 numSamples)</div><div class="ttdoc">Copy PCM16 data from the read buffer into the audio buffer.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01969">p_movies.cpp:1969</a></div></div>
<div class="ttc" id="anamespace_dbg_html_a8270231090dad0898d8f3eb5cd232b0d"><div class="ttname"><a href="../../da/d37/namespace_dbg.html#a8270231090dad0898d8f3eb5cd232b0d">Dbg::if</a></div><div class="ttdeci">if(again)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/_assert_8cpp_source.html#l00148">Assert.cpp:148</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_afb0adab6ec235901aa449c554995d4da"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#afb0adab6ec235901aa449c554995d4da">VIDSimpleDoAudioDecodeVAUD</a></div><div class="ttdeci">static void VIDSimpleDoAudioDecodeVAUD(s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</div><div class="ttdoc">Decode VAUD Data.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01686">p_movies.cpp:1686</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ae97a4c12080557b3fad389a526fbfcec"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae97a4c12080557b3fad389a526fbfcec">audioReadBuffer</a></div><div class="ttdeci">static void * audioReadBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01282">p_movies.cpp:1282</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ab1ec0649f9b8782d422cd1acb285a3f3"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab1ec0649f9b8782d422cd1acb285a3f3">axCurrentFrq</a></div><div class="ttdeci">static f32 axCurrentFrq</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01307">p_movies.cpp:1307</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a50aa8652f64bcdd6cce4471b88f8c713"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a50aa8652f64bcdd6cce4471b88f8c713">VIDSimpleAudioChangePlayback</a></div><div class="ttdeci">void VIDSimpleAudioChangePlayback(const u32 *playMaskArray, u32 numMasks)</div><div class="ttdoc">Change the active audio channels.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01920">p_movies.cpp:1920</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a8b49d3a707ceea785388489532f98ccf"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccf">VID_AXPHASE</a></div><div class="ttdeci">VID_AXPHASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01310">p_movies.cpp:1310</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ae9830a25c42d887ad982cc3d2b411a48"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ae9830a25c42d887ad982cc3d2b411a48">audioReadBufferReadPos</a></div><div class="ttdeci">static u32 audioReadBufferReadPos</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01285">p_movies.cpp:1285</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_aba07e1699b33c8c0ddb302d2e36c2b4e"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aba07e1699b33c8c0ddb302d2e36c2b4e">axLastAddr</a></div><div class="ttdeci">static u32 axLastAddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01305">p_movies.cpp:1305</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a641b0a7d06027618362e3a8e572549e8"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a641b0a7d06027618362e3a8e572549e8">VIDSimpleAudioBytesFromSamples</a></div><div class="ttdeci">static u32(* VIDSimpleAudioBytesFromSamples)(u32 samples)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01296">p_movies.cpp:1296</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_acac3d7cb240f95f2449cefc9a8da833a"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#acac3d7cb240f95f2449cefc9a8da833a">audioDecode</a></div><div class="ttdeci">static BOOL audioDecode(u32 numChannels, const s16 **samples, u32 sampleNum, void *userData)</div><div class="ttdoc">Main audio data decode function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01754">p_movies.cpp:1754</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a75a590082399e3271a6144a515829892"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a75a590082399e3271a6144a515829892">VIDSimpleAudioSamplesFromBytesVAUD</a></div><div class="ttdeci">static u32 VIDSimpleAudioSamplesFromBytesVAUD(u32 bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01723">p_movies.cpp:1723</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a15d13e8b470de605adcc5c88957b6aed"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a15d13e8b470de605adcc5c88957b6aed">audioPlayBufferFrq</a></div><div class="ttdeci">static u32 audioPlayBufferFrq</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01290">p_movies.cpp:1290</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa6a42f33c798078b735436cbc40304911">AX_PHASE_PLAY</a></div><div class="ttdeci">@ AX_PHASE_PLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01313">p_movies.cpp:1313</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a6c87bde08be64fc6865f8966ecf99911"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6c87bde08be64fc6865f8966ecf99911">audioReadBufferNumChannels</a></div><div class="ttdeci">static u8 audioReadBufferNumChannels</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01286">p_movies.cpp:1286</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a73033ab7ad0d1961bced9b9225b23bd2"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a73033ab7ad0d1961bced9b9225b23bd2">arqRequest</a></div><div class="ttdeci">static ARQRequest arqRequest[2][VID_AUDIO_NUMAIREQUESTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01304">p_movies.cpp:1304</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_a3aefd91781b7f41d35e6df6a32d379d0"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a></div><div class="ttdeci">static Manager &amp; sHandle(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/memman_8h_source.html#l00340">memman.h:340</a></div></div>
<div class="ttc" id="a_a_u_d_simple_player_8cpp_html_ab5b370e3c94db92c543d6b3ab8db71c6"><div class="ttname"><a href="../../d3/dc5/_a_u_d_simple_player_8cpp.html#ab5b370e3c94db92c543d6b3ab8db71c6">readNum</a></div><div class="ttdeci">static u32 readNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc5/_a_u_d_simple_player_8cpp_source.html#l00277">AUDSimplePlayer.cpp:277</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a16d8ac095e8a3c8d7d7e31aa8746ab52"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a16d8ac095e8a3c8d7d7e31aa8746ab52">audioReadBufferNumSamples</a></div><div class="ttdeci">static u32 audioReadBufferNumSamples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01283">p_movies.cpp:1283</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a6d055291d176636e8b9ac0c91bbaa19a"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6d055291d176636e8b9ac0c91bbaa19a">dvdDoneCallback</a></div><div class="ttdeci">static void dvdDoneCallback(s32 result, DVDFileInfo *videoInfo)</div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_aaf8e36abc36eecabe46bf2582035192a"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">Mem::Manager::PushContext</a></div><div class="ttdeci">void PushContext(Allocator *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/win32functions_8cpp_source.html#l00071">win32functions.cpp:71</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a352bfd5da831761c09c2d76356c6339c"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a352bfd5da831761c09c2d76356c6339c">VIDSimpleAudioDecode</a></div><div class="ttdeci">BOOL VIDSimpleAudioDecode(const u8 *bitstream, u32 bitstreamLen)</div><div class="ttdoc">Receive data from bitstream and direct to required encoding facility.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01860">p_movies.cpp:1860</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a52f28398f5a133e921f1d9b69f9d7442"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a52f28398f5a133e921f1d9b69f9d7442">audioPlayBufferWriteIndex</a></div><div class="ttdeci">static u8 audioPlayBufferWriteIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01289">p_movies.cpp:1289</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_aef0c2c2fe05db7cf6cece22ee8a229e8"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aef0c2c2fe05db7cf6cece22ee8a229e8">rmode</a></div><div class="ttdeci">GXRenderModeObj * rmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da4/p__hwinit_8cpp_source.html#l00272">p_hwinit.cpp:272</a></div></div>
<div class="ttc" id="aclass_mem_1_1_allocator_html_ad867c0d0ef2ad7b1db3983d0a0baef81"><div class="ttname"><a href="../../d5/d97/class_mem_1_1_allocator.html#ad867c0d0ef2ad7b1db3983d0a0baef81">Mem::Allocator::PushAlign</a></div><div class="ttdeci">void PushAlign(int align)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9f/alloc_8cpp_source.html#l00416">alloc.cpp:416</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_aa2f6ccf303808eb4344d581b21881a9b"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#aa2f6ccf303808eb4344d581b21881a9b">VIDDrawGXYuv2RgbDraw</a></div><div class="ttdeci">void VIDDrawGXYuv2RgbDraw(s16 x, s16 y, s16 polygonWidth, s16 polygonHeight, const VIDImage *image)</div><div class="ttdoc">Draw a textured polygon using the decoded image a texture.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01202">p_movies.cpp:1202</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ab65f92d387657afbb54c99d6c9ce40bb"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ab65f92d387657afbb54c99d6c9ce40bb">VIDSimpleAudioBytesFromSamplesVAUD</a></div><div class="ttdeci">static u32 VIDSimpleAudioBytesFromSamplesVAUD(u32 samples)</div><div class="ttdoc">Misc conversion fucntions for VAUD stream data.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01718">p_movies.cpp:1718</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ad5ae1b65495b11b6a5624e6f3c18e440"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad5ae1b65495b11b6a5624e6f3c18e440">audioPlayMaskArray</a></div><div class="ttdeci">static const u32 * audioPlayMaskArray</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01299">p_movies.cpp:1299</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a3bc8a3e635d331139856e6ada86702fc"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3bc8a3e635d331139856e6ada86702fc">VIDDrawGXYuv2RgbSetup</a></div><div class="ttdeci">void VIDDrawGXYuv2RgbSetup(GXRenderModeObj *rmode)</div><div class="ttdoc">Setup GX for YUV conversion.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01119">p_movies.cpp:1119</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a6506fade5f2f98afaa90730587349300"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a6506fade5f2f98afaa90730587349300">axPlayedSamples</a></div><div class="ttdeci">static u32 axPlayedSamples</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01306">p_movies.cpp:1306</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8b49d3a707ceea785388489532f98ccfa9cd337be4e3b091a597aa9fb4a2b70b0">AX_PHASE_STARTUP</a></div><div class="ttdeci">@ AX_PHASE_STARTUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01311">p_movies.cpp:1311</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a565e64a9257ccc69186c7e49f203fc10"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a565e64a9257ccc69186c7e49f203fc10">VIDSimpleDoAudioDecode</a></div><div class="ttdeci">static void(* VIDSimpleDoAudioDecode)(s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01295">p_movies.cpp:1295</a></div></div>
<div class="ttc" id="aclass_mem_1_1_allocator_html_a85a57938d2ec5fe61e575a358f009ca9"><div class="ttname"><a href="../../d5/d97/class_mem_1_1_allocator.html#a85a57938d2ec5fe61e575a358f009ca9">Mem::Allocator::PopAlign</a></div><div class="ttdeci">void PopAlign(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9f/alloc_8cpp_source.html#l00446">alloc.cpp:446</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_a7c4cba14870f002aee0243e16114f443"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">Mem::Manager::PopContext</a></div><div class="ttdeci">void PopContext(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/win32functions_8cpp_source.html#l00075">win32functions.cpp:75</a></div></div>
<div class="ttc" id="anamespace_nx_html_a6a17d6914fc4d83136bd326e196a9877"><div class="ttname"><a href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">Nx::x</a></div><div class="ttdeci">static Mth::Vector x</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01913">CollTriData.cpp:1913</a></div></div>
<div class="ttc" id="anamespace_nx_html_a05e83dec9126204c2b3db66d2c6158f0"><div class="ttname"><a href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">Nx::y</a></div><div class="ttdeci">static Mth::Vector y</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01914">CollTriData.cpp:1914</a></div></div>
<div class="ttc" id="anamespace_sfx_html_a23135446b40c588b81f1112056dffd2d"><div class="ttname"><a href="../../de/d43/namespace_sfx.html#a23135446b40c588b81f1112056dffd2d">Sfx::AXUserCBack</a></div><div class="ttdeci">void AXUserCBack(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfa/ngc_2p__sfx_8cpp_source.html#l00169">p_sfx.cpp:169</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ad59ba20434c089b34d17686de28a8433"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ad59ba20434c089b34d17686de28a8433">AXCallback</a></div><div class="ttdeci">static void AXCallback(void)</div><div class="ttdoc">AX callback.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l02023">p_movies.cpp:2023</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a1d59fbeb0a3361a9f9b3273bf1f59961"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a1d59fbeb0a3361a9f9b3273bf1f59961">audioNumActiveVoices</a></div><div class="ttdeci">static u32 audioNumActiveVoices</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01301">p_movies.cpp:1301</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a4b9549e5723f42e69abbdbf88e963467"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a4b9549e5723f42e69abbdbf88e963467">ReadFrameAsync</a></div><div class="ttdeci">static void ReadFrameAsync(void)</div><div class="ttdoc">Request an async file transfer.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00138">p_movies.cpp:138</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a880921edc6d5d692f29289a07e6c79a2"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a880921edc6d5d692f29289a07e6c79a2">lcMemBase</a></div><div class="ttdeci">static u8 * lcMemBase</div><div class="ttdoc">Base address for 'Locked Cache' simple memory manager.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l00080">p_movies.cpp:80</a></div></div>
<div class="ttc" id="anamespace_script_html_a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a></div><div class="ttdeci">@ ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d49/scriptdefs_8h_source.html#l00016">scriptdefs.h:16</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a70b319d50c3de0cd4dfe0bea5ad8a69b"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a70b319d50c3de0cd4dfe0bea5ad8a69b">VIDSimpleAudioSamplesFromBytesPCM16</a></div><div class="ttdeci">static u32 VIDSimpleAudioSamplesFromBytesPCM16(u32 bytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01671">p_movies.cpp:1671</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a97f834c354ab4f2a1c98ad2e12c8dfbb"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a97f834c354ab4f2a1c98ad2e12c8dfbb">VIDSimpleDoAudioDecodePCM16</a></div><div class="ttdeci">static void VIDSimpleDoAudioDecodePCM16(s16 *dest, u32 channels, const s16 **samples, u32 sampleOffset, u32 sampleNum)</div><div class="ttdoc">'Decode' PCM16 to PCM16</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01614">p_movies.cpp:1614</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a8d66be1adab50007d503d2256821fc50"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a8d66be1adab50007d503d2256821fc50">axPhase</a></div><div class="ttdeci">static VID_AXPHASE axPhase</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01316">p_movies.cpp:1316</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_ace982e9637937e4c80640da3bedf9037"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#ace982e9637937e4c80640da3bedf9037">audioPlayBuffer</a></div><div class="ttdeci">static void * audioPlayBuffer[VID_AUDIO_NUMAIBUFFERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/ngc_2p__movies_8cpp_source.html#l01288">p_movies.cpp:1288</a></div></div>
<div class="ttc" id="angc_2p__movies_8cpp_html_a3f2de64762dceb8ee52c761d40eac538"><div class="ttname"><a href="../../d6/d5b/ngc_2p__movies_8cpp.html#a3f2de64762dceb8ee52c761d40eac538">hwCurrentBuffer</a></div><div class="ttdeci">void * hwCurrentBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da4/p__hwinit_8cpp_source.html#l00261">p_hwinit.cpp:261</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_3601fabbe3429c936523f20d8da3f5fe.html">gel</a></li><li class="navelem"><a class="el" href="../../dir_2aa0b3620c38bf368798da486fae478f.html">Movies</a></li><li class="navelem"><a class="el" href="../../dir_d8a7aa4840ad947af1cac218d5cda820.html">ngc</a></li><li class="navelem"><a class="el" href="../../d6/d5b/ngc_2p__movies_8cpp.html">p_movies.cpp</a></li>
    <li class="footer">Документация по OpenTHUG. Последние изменения: Вс 26 Апр 2020 03:47:40. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
