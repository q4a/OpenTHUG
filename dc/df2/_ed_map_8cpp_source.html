<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTHUG: Исходный файл C:/git/thug/src/sk/ParkEditor2/EdMap.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTHUG
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">OpenTHUG: let&#39;s port THUG on Linux</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/df2/_ed_map_8cpp_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EdMap.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/df2/_ed_map_8cpp.html">См. документацию.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d8/de2/_defines_8h.html">core/defines.h</a>&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d0/d04/_ed_rail_8h.html">sk/ParkEditor/EdRail.h</a>&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../df/d54/_ed_map_8h.html">sk/ParkEditor2/EdMap.h</a>&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../de/df6/_park_ed_8h.html">sk/ParkEditor2/ParkEd.h</a>&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d5/da7/clipboard_8h.html">sk/ParkEditor2/clipboard.h</a>&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../df/db1/math_8h.html">core/math.h</a>&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../dc/de6/crc_8h.html">core/crc.h</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../dc/d31/checksum_8h.html">gel/scripting/checksum.h</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../de/d7f/script_8h.html">gel/scripting/script.h</a>&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../df/dec/struct_8h.html">gel/scripting/struct.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d63/array_8h.html">gel/scripting/array.h</a>&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/d98/symboltable_8h.html">gel/scripting/symboltable.h</a>&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d9/dc0/symboltype_8h.html">gel/scripting/symboltype.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/dcf/component_8h.html">gel/scripting/component.h</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d1/d16/vecpair_8h.html">gel/scripting/vecpair.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d5/d60/utils_8h.html">gel/scripting/utils.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d10/music_8h.html">gel/music/music.h</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../dd/ddd/filesys_8h.html">sys/file/filesys.h</a>&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d1c/_game_net_8h.html">sk/gamenet/gamenet.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d0/d0a/_rail_editor_component_8h.html">sk/components/raileditorcomponent.h</a>&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d1/df6/_goal_editor_component_8h.html">sk/components/goaleditorcomponent.h</a>&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d1/d74/feeler_8h.html">sk/engine/feeler.h</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<a class="code" href="../../dc/df2/_ed_map_8cpp.html#abc91d4ea1434470a81016203dec42780">DefinePoolableClass</a>(<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">Ed::CMapListNode</a>);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#define _16(a) (((a&gt;&gt;8)&amp;0x00ff)|((a&lt;&lt;8)&amp;0xff00))</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#define _32(a) (((a&gt;&gt;24)&amp;0x000000ff)|((a&gt;&gt;8)&amp;0x0000ff00)|((a&lt;&lt;8)&amp;0x00ff0000)|((a&lt;&lt;24)&amp;0xff000000)) </span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define _16(a) a</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define _32(a) a</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif      // __PLAT_NGC__</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifdef  __PLAT_NGPS__</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define __USE_EXTERNAL_BUFFER__</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d7/d6c/nx_8h.html">gfx/nx.h</a>&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d9/d95/dma_8h.html">gfx/ngps/nx/dma.h</a>&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define __EXTERNAL_BUFFER__ NxPs2::dma::pRuntimeBuffer</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define  ACQUIRE_BUFFER Nx::CEngine::sFinishRendering();</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d2/d84/namespace_ed.html">Ed</a></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<a class="code" href="../../d2/d84/namespace_ed.html#a3da6d683fae7921c37baa34589a21311">DefineSingletonClass</a>(CParkManager, <span class="stringliteral">&quot;Park Manager&quot;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;CParkManager *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1e7b40522e4d268ffcb7146b02585a34">CParkManager::sp_instance</a> = NULL;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../da/d40/class_ed_1_1_grid_dims.html#a1a6055b76831db397f24d7f2d911f6d7">   56</a></span>&#160;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a1a6055b76831db397f24d7f2d911f6d7">GridDims::GridDims</a>(<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, <a class="code" href="../../d8/de2/_defines_8h.html#a1a6408291ee3cfd0760a61ac64084154">sint8</a> <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>, <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> z, <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> w, <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> h, <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> l)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[0] = <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[1] = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[2] = z;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[3] = w;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[4] = h;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[5] = l;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../da/d40/class_ed_1_1_grid_dims.html#abb36774f5d45c40c479f9975c7a06d58">   69</a></span>&#160;<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> &amp;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#abb36774f5d45c40c479f9975c7a06d58">GridDims::operator []</a>(<a class="code" href="../../d8/de2/_defines_8h.html#ada7e83fdfe943aba4f1d5bf80cb66f40">sint</a> i)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    Dbg_Assert(i &lt; 6);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[i];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// Effectively gives the area an H of infinity</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">   79</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">GridDims::MakeInfinitelyHigh</a>()</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[4] = 127 - (<a class="code" href="../../d8/de2/_defines_8h.html#a1a6408291ee3cfd0760a61ac64084154">sint8</a>) <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[1];</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// Effectively gives the area an H of infinity</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../da/d40/class_ed_1_1_grid_dims.html#a89f423f3af087392036020679c179d86">   88</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89f423f3af087392036020679c179d86">GridDims::MakeInfiniteOnY</a>()</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[1] = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) -100;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[4] = 200;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../da/d40/class_ed_1_1_grid_dims.html#a192dc595be3d28c541c90bba4928f4e2">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a192dc595be3d28c541c90bba4928f4e2">GridDims::PrintContents</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;pos=(%d,%d,%d) dims=(%d,%d,%d)\n&quot;</span>, </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;           <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[0], (<a class="code" href="../../d8/de2/_defines_8h.html#a1a6408291ee3cfd0760a61ac64084154">sint8</a>) <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[1], <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[2],</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;           <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[3], <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[4], <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">m_dims</a>[5]);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86bd8d33b4c661bd5adcdfb9e7970175">  107</a></span>&#160;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86bd8d33b4c661bd5adcdfb9e7970175">CMetaPiece::CMetaPiece</a>()</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5af">EFlags</a>(0);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a> = NULL;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a> = 0;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5ad8642ed8d418e7178a05923dbf076f">  118</a></span>&#160;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5ad8642ed8d418e7178a05923dbf076f">CMetaPiece::~CMetaPiece</a>()</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a6d64288efc48c87c86b7e028a052aecb">  127</a></span>&#160;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a6d64288efc48c87c86b7e028a052aecb">CMetaPiece::CastToConcreteMeta</a>()</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    Dbg_MsgAssert(<span class="keyword">this</span> == NULL || (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6f01f0e596e699caa433acc322526367">mCONCRETE_META</a>), (<span class="stringliteral">&quot;not a concrete metapiece&quot;</span>));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *) <span class="keyword">this</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a50da321d52d0c53232d722687633fe58">  136</a></span>&#160;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a50da321d52d0c53232d722687633fe58">CMetaPiece::CastToAbstractMeta</a>()</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    Dbg_MsgAssert(<span class="keyword">this</span> == NULL || (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa4be21c46843a1249c5ffec7564c98f0f">mABSTRACT_META</a>), (<span class="stringliteral">&quot;not an abstract metapiece&quot;</span>));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *) <span class="keyword">this</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ae289132372ee1aee765a3968ba2f9307">  142</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ae289132372ee1aee765a3968ba2f9307">CMetaPiece::IsRestartOrFlag</a>()</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">case</span> CRCC(0xdc09a6a4,<span class="stringliteral">&quot;Sk3Ed_RS_1p&quot;</span>):</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">case</span> CRCC(0xca07b4fc,<span class="stringliteral">&quot;Sk3Ed_RS_Mp&quot;</span>):</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">case</span> CRCC(0x3a784d4c,<span class="stringliteral">&quot;Sk3Ed_Rs_Ho&quot;</span>):</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">case</span> CRCC(0x4e2efd2a,<span class="stringliteral">&quot;Sk3Ed_Rs_KOTH&quot;</span>):</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">case</span> CRCC(0x613c7766,<span class="stringliteral">&quot;Sk4Ed_Team_Yellow&quot;</span>):</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">case</span> CRCC(0xec82433c,<span class="stringliteral">&quot;Sk4Ed_Team_Green&quot;</span>):</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">case</span> CRCC(0xd7eb62b5,<span class="stringliteral">&quot;Sk4Ed_Team_Red&quot;</span>):</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">case</span> CRCC(0x8a1576b6,<span class="stringliteral">&quot;Sk4Ed_Team_Blue&quot;</span>):</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }       </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a25cb7c6a722e35b3bd508a0e317a042f">  164</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a25cb7c6a722e35b3bd508a0e317a042f">CMetaPiece::IsCompletelyWithinArea</a>(<span class="keyword">const</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> &amp;area)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &gt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &amp;&amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &lt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &amp;&amp;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &gt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &amp;&amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &lt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>())</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;   </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">    Use to set rotation of abstract metapiece for testing purposes (in GetMetaPiecesAt()), or</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">    to set rotation of concrete metapiece before adding to park.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">  178</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">CMetaPiece::SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> newRot)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    Dbg_MsgAssert(!(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4">CMetaPiece::mIN_PARK</a>), (<span class="stringliteral">&quot;metapiece already in park -- can&#39;t change rotation&quot;</span>));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// just want to change relative to current rotation</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>((newRot + 4 - <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a33351dec8a4908d91f7b5bbe7f7bdeb7">m_rot</a>) &amp; 3);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a33351dec8a4908d91f7b5bbe7f7bdeb7">m_rot</a> = newRot;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> &amp; 1)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// switch W and L</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(), <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> temp_new_first[<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Create a new table, which will soon replace the old one</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> *p_meta_tab = NULL;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;GetGenerator()-&gt;GetParkEditorHeap());</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        p_meta_tab = <span class="keyword">new</span> <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a>[<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a>-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// &quot;dims&quot; contains position of upper-left, after rotation</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;out = (i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>) ? temp_new_first[i] : p_meta_tab[i-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;in = (i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>) ? <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaa447a5fa231591d693b8cffdd7bad03">m_first_desc_tab</a>[i] : <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>[i-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        out = in;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// dimensions with current rotation (not new)</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">// OOG!</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> in_dims(0, 0, 0);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa4be21c46843a1249c5ffec7564c98f0f">mABSTRACT_META</a>)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            in_dims = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">if</span> ((in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> &amp; 1))</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <span class="comment">// for a concrete metapiece, the retrieved cell dimensions will already reflect</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="comment">// the current rotation, so no need to enter this block</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(), in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>()); <span class="comment">// switch W &amp; L</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">GetCellDims</a>(&amp;in_dims);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">switch</span>(<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>:</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139abb99d83cc3f5792e32e0a40fa32079d0">Mth::ROT_90</a>:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() - in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> - in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a539524bdfe925b759487b1a8c653fe85">Mth::ROT_180</a>:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() - in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> - in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() - in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> - in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a32efea0ebb5db47a7cceb94fde19d246">Mth::ROT_270</a>:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() - in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> - in_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                Dbg_MsgAssert(0, (<span class="stringliteral">&quot;ahhh-oooop?&quot;</span>));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }       </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> = in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>((in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> + <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>) &amp; 3);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// this will also copy in.mPieceName, if this is an abstract metapiece</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        out.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a> = in.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    } <span class="comment">// end for</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a> = p_meta_tab;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>; i++)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaa447a5fa231591d693b8cffdd7bad03">m_first_desc_tab</a>[i] = temp_new_first[i];</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="comment">//printf(&quot;desc at (%d,%d,%d)\n&quot;, m_first_desc_tab[i].mX, m_first_desc_tab[i].mY, m_first_desc_tab[i].mZ);</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// returns postion of piece&#39;s center, relative to center of metapiece</span></div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9cb31b3e85c4bacf97205392bdf6e8eb">  271</a></span>&#160;<a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9cb31b3e85c4bacf97205392bdf6e8eb">CMetaPiece::GetRelativePosOfContainedPiece</a>(<span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// center_pos in world coordinates</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> center_pos;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = (float) <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> / 2.0f;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = (float) <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> / 2.0f;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(index);   </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html">CPiece</a> *p_piece = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a283dce45704587975791104fc7e5feed">GetContainedPiece</a>(index);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> piece_pos(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> + p_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2e66f4e6cbc7cf1be6345be4cbb5fdc3">GetDimsWithRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>)).<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                          desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                          desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> + p_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2e66f4e6cbc7cf1be6345be4cbb5fdc3">GetDimsWithRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>)).<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> piece_pos - center_pos;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#af04e066b851ff29e3e0650aab13d34c1">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#af04e066b851ff29e3e0650aab13d34c1">CMetaPiece::BuildElement3dSectorsArray</a>(<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *pArray)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    pArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a54248747f1372c9247b71703853e5bfc">SetSizeAndType</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>, <a class="code" href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21a01c86a42bc159931779558169918551c">ESYMBOLTYPE_STRUCTURE</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);   </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_struct = <span class="keyword">new</span> <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a148f8f6bc239cff60340c410df449c71">AddChecksum</a>(NONAME, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> pos = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9cb31b3e85c4bacf97205392bdf6e8eb">GetRelativePosOfContainedPiece</a>(i);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a49c79546032fdadb74b1cb94aa9ef6d2">AddVector</a>(NONAME, pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>(), pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>(), pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>());</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        pArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a3f62675cdb3323f37f239a94dc814898">SetStructure</a>(i, p_struct);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    Creates new table of SMetaDescriptors. Might copy old one.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">  312</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">CMetaPiece::initialize_desc_table</a>(<span class="keywordtype">int</span> numEntries)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> *p_new_tab = NULL;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (numEntries &gt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>) </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;GetGenerator()-&gt;GetParkEditorHeap());</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        p_new_tab = <span class="keyword">new</span> <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a>[numEntries-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// Copy old table, if any. Only copied if there are to be at least as many entries as</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// there were before.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (p_new_tab &amp;&amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a> &amp;&amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a> &lt;= (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) numEntries)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a>; i++)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            p_new_tab[i-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>] = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>[i-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a> = p_new_tab; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a> = numEntries;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    Returns specified descriptor.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">  342</a></span>&#160;<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">CMetaPiece::get_desc_at_index</a>(<span class="keywordtype">int</span> i)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>) <span class="keywordflow">return</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaa447a5fa231591d693b8cffdd7bad03">m_first_desc_tab</a>[i];</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a> &amp;&amp; (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>, (<span class="stringliteral">&quot;descriptor entry doesn&#39;t exist&quot;</span>));</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">mp_additional_desc_tab</a>[i-<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">USUAL_NUM_DESCRIPTORS</a>];</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad7072ac02ad7c42bad1882db14cbd8c4">  353</a></span>&#160;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad7072ac02ad7c42bad1882db14cbd8c4">CConcreteMetaPiece::CConcreteMetaPiece</a>()</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5af">EFlags</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> | <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6f01f0e596e699caa433acc322526367">mCONCRETE_META</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a33351dec8a4908d91f7b5bbe7f7bdeb7">m_rot</a> = 0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#af94a8e757967387d8c33a56b1855b1ac">  362</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#af94a8e757967387d8c33a56b1855b1ac">CConcreteMetaPiece::CountContainedPieces</a>()</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad5b8b071df8abe7f248744ddfd154b2b">  370</a></span>&#160;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html">CPiece</a> *<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad5b8b071df8abe7f248744ddfd154b2b">CConcreteMetaPiece::GetContainedPiece</a>(<span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) index &gt;= <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> || index &lt; 0)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(index).<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">    Used for the cursor piece, allowing any position and rotation, not just cell-aligned with 90 degree</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    increments. Doesn&#39;t affect &quot;hard&quot; position, rotation.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a6d4df8381bef8ab0b34448b3a251bfeb">  385</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a6d4df8381bef8ab0b34448b3a251bfeb">CConcreteMetaPiece::SetSoftRot</a>(<a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> pos, <span class="keywordtype">float</span> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">//Ryan(&quot;moving metapiece to (%.2f,%.2f,%.2f)\n&quot;, pos[X], pos[Y], pos[Z]);</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> center(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> / 2.0f,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                       0.0f,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                       <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> / 2.0f);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">// BAKU</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> piece_dims = desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#ae3ca81b57530909208627bf3e6767e83">GetDims</a>();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> piece_pos(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> + piece_dims[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] / 2.0f - center[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>],</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                              desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a> - center[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>],</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                              desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> + piece_dims[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] / 2.0f - center[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a> rot_mat;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        rot_mat.<a class="code" href="../../d9/d37/class_mth_1_1_matrix.html#a06a07c27b6ed6a037b5dfaaeb5ba6cb2">Ident</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        rot_mat.<a class="code" href="../../d9/d37/class_mth_1_1_matrix.html#a019eca0aefed8bdfd54629c6dfcc81fb">SetPos</a>(piece_pos);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        rot_mat.<a class="code" href="../../d9/d37/class_mth_1_1_matrix.html#a53e305e028e93d9416f979cf26de9e09">RotateY</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a>(<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        rot_mat.<a class="code" href="../../d9/d37/class_mth_1_1_matrix.html#a14d59619fbe36a02d00b6739c4fa9172">Translate</a>(pos);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="comment">//Ryan(&quot;    sub-piece position (%d) (%.2f,%.2f,%.2f)\n&quot;, desc.mY, rot_mat[Mth::POS][X], rot_mat[Mth::POS][Y], rot_mat[Mth::POS][Z]);</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>()-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a8784f22b72bb4beb8da350e8939ff604">SetDesiredPos</a>(rot_mat[<a class="code" href="../../d5/db9/namespace_mth.html#a7b9b1c529db03b284ac3fce278234cc2ac24e7e3a2765335df4beb94d4c728837">Mth::POS</a>], <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a89d4fe0eccfebec4006c4438b2b6d56a">CClonedPiece::CHANGE_SECTOR</a>);      </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">//desc.mpPiece-&gt;CastToCClonedPiece()-&gt;SetDesiredRot(Mth::ROT_0, CClonedPiece::CHANGE_SECTOR);</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordtype">float</span> soft_rot = 90.0f * (float) desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> + <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>()-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ac527a8e2fc184b1877112c6dbb84b411">SetSoftRot</a>(soft_rot);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">// Turn on or off the highlight effect for this concrete meta piece</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">// which just turns the effect on or off for the cloned pieces that make it up </span></div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a4f75ff19e714ad00726b2b9f45f982bb">  422</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a4f75ff19e714ad00726b2b9f45f982bb">CConcreteMetaPiece::Highlight</a>(<span class="keywordtype">bool</span> on, <span class="keywordtype">bool</span> gapHighlight)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> (desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a93207021c40d7d06a8c0e0614144bc35">GetFlags</a>() &amp; <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1ad551cc8c84a4d7167bfef751c820fda3">CPiece::mCLONED_PIECE</a>)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>()-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ac12d3ba81a547a6726cc17ed403b3d49">Highlight</a>(on, gapHighlight);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        }   </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#af967331d43cc99fa9521e479aaae54e4">  436</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#af967331d43cc99fa9521e479aaae54e4">CConcreteMetaPiece::SetVisibility</a>(<span class="keywordtype">bool</span> visible)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>()-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a547fe8132db738fe9bd8305a1a730482">SetActive</a>(visible);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">    Use after calls to add_piece() have been made. Once metapiece has been locked, it can be added to </span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">    the world or used as a cursor</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a8e7e5665c6d808d07fff7cb15537ed13">  452</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a8e7e5665c6d808d07fff7cb15537ed13">CConcreteMetaPiece::lock</a>()</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// work out dimensions of metapiece from contained pieces</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> min_pos, max_pos;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a2026ce576820f9be9e32135b6041e06c">get_max_min_world_coords</a>(max_pos, min_pos);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> my_dims;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    my_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>(max_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() - min_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>(), max_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>() - min_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>(), max_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() - min_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>());</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>((<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) ((my_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() + 2.0f) / <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>),</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                       (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) ((my_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>() + 2.0f) / <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>),</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                       (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) ((my_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() + 2.0f) / <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>));</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">H</a>] &lt; 1) <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">H</a>] = 1;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">//Dbg_Assert(m_cell_area.mW &gt; 0 &amp;&amp; m_cell_area.mL &gt; 0);</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// reposition all contained pieces relative to center bottom</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i).<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">//Mth::Vector piece_dims = p_piece-&gt;GetDims();</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">m_pos</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() - min_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() - my_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">m_pos</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() - min_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() - my_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">m_pos</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">m_pos</a>.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>(); <span class="comment">// - min_pos.GetY();</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">    Called by lock()</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a2026ce576820f9be9e32135b6041e06c">  487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a2026ce576820f9be9e32135b6041e06c">CConcreteMetaPiece::get_max_min_world_coords</a>(<a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;<a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>, <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> &amp;min)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;{</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    min.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>(100000.0f, 100000.0f, 100000.0f, 0.0f);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>.Set(-100000.0f, -100000.0f, -100000.0f, 0.0f);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i).<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> piece_dims = p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a1d8b0d9e4d6924c6450200d98113d484">GetDims</a>();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> piece_pos = p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ab9e4db0ef7f6b6dc0cfee2b318cde2c0">GetPos</a>();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span> (piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() - piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f &lt; min.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>())</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            min[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() - piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f &gt; <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>.GetX())</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() - piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f &lt; min.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>())</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            min[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() - piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span> (piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f &gt; <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>.GetZ())</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span> (piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>() &lt; min.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>())</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            min[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>() + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>() &gt; <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>.GetY())</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <a class="code" href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">max</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = piece_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>() + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">//Dbg_Assert(max[X] - min[X] &gt; 1.0f &amp;&amp; max[Z] - min[Z] &gt; 1.0f);</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">/* </span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">    Determines if overlap between specified area of park and this metapiece.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">    If excludeRisers set, then we ignore overlaps with contained CPieces that are risers.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#aeb5a62959f8b3f739d850f35dc72a4e3">  526</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#aeb5a62959f8b3f739d850f35dc72a4e3">CConcreteMetaPiece::test_for_conflict</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <span class="keywordtype">bool</span> excludeRisers)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">// for now, we simply see if this metapiece overlaps with the area</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// later, we may add code that tests against contained pieces</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    Dbg_Assert(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; 0 &amp;&amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; 0 &amp;&amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &gt; 0);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    Dbg_MsgAssert(area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; 0 &amp;&amp; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; 0 &amp;&amp; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &gt; 0, (<span class="stringliteral">&quot;invalid dimensions (%d,%d,%d)&quot;</span>, </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                                                          area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()));</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// do quick test</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &lt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>())</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &gt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>())</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &lt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>())</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() &gt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>())</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &lt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>())</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &gt;= area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>())</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordtype">bool</span> contains_risers = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (excludeRisers)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">if</span> (desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a>) contains_risers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// &#39;|| if !excludeRisers&#39; is implicit</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (!contains_risers) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad5b8b071df8abe7f248744ddfd154b2b">GetContainedPiece</a>(i)-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> piece_area;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        p_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">GetCellDims</a>(&amp;piece_area);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        piece_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        piece_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        piece_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> (!desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a> &amp;&amp;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &amp;&amp;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &gt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() &amp;&amp;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &amp;&amp;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &amp;&amp;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &amp;&amp;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            piece_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>())</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">    See comments with original declaration.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">    It is fine if pPiece has been rotated already.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ae6fb5321e1b725ac7be55bf867cbc31a">  595</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ae6fb5321e1b725ac7be55bf867cbc31a">CConcreteMetaPiece::add_piece</a>(<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html">CPiece</a> *pPiece, <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> *pPos, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>, <span class="keywordtype">bool</span> isRiser)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    Dbg_Assert(pPiece);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    Dbg_MsgAssert(!(pPiece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a93207021c40d7d06a8c0e0614144bc35">GetFlags</a>() &amp; <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1ae7162b2b97bf6c734c0f3eb82e6812cd">CPiece::mIN_WORLD</a>), (<span class="stringliteral">&quot;piece already in world&quot;</span>));</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_cloned = pPiece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="preprocessor">    #ifdef __NOPT_ASSERT__</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> &gt; 0)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(0).mpPiece-&gt;GetFlags() &amp; <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a85becc4bf917c55fa546b7f11226a978">CPiece::mSOFT_PIECE</a>)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            Dbg_MsgAssert(pPiece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a93207021c40d7d06a8c0e0614144bc35">GetFlags</a>() &amp; <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a85becc4bf917c55fa546b7f11226a978">CPiece::mSOFT_PIECE</a>, (<span class="stringliteral">&quot;must be a soft piece&quot;</span>));</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            Dbg_MsgAssert(!(pPiece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a93207021c40d7d06a8c0e0614144bc35">GetFlags</a>() &amp; <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a85becc4bf917c55fa546b7f11226a978">CPiece::mSOFT_PIECE</a>), (<span class="stringliteral">&quot;must be a hard piece&quot;</span>));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a>, (<span class="stringliteral">&quot;out of entries&quot;</span>));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>++);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// Set position relative to northwest bottom of piece. For now.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> piece_dims = p_cloned-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a1d8b0d9e4d6924c6450200d98113d484">GetDims</a>();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> desired_pos;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    desired_pos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>(pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>() / 2.0f,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                          pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>, <span class="comment">// + piece_dims.GetY() / 2.0f,</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                          pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> + piece_dims.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>() / 2.0f);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    p_cloned-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a8784f22b72bb4beb8da350e8939ff604">SetDesiredPos</a>(desired_pos, <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a04c8c64aa92eb014bef03e16e16d5fcc">CClonedPiece::MARKER_ONLY</a>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a> = p_cloned;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> = <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a> = isRiser ? 1 : 0;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">    if (isRiser)</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">        printf(&quot;hoogaboog 2 (%d,%d,%d), desc.mRiser is %d, desc.mRiser at 0x%x, index %d\n&quot;, </span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">               desc.mX, desc.mY, desc.mZ, desc.mRiser, &amp;desc.mRiser, m_num_used_entries-1);</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#acd074a6d4b0d74ed17745145d9787a72">  645</a></span>&#160;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#acd074a6d4b0d74ed17745145d9787a72">CAbstractMetaPiece::CAbstractMetaPiece</a>()</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5af">EFlags</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> | <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa4be21c46843a1249c5ffec7564c98f0f">mABSTRACT_META</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a1804e9a7e04b35441a127e6c897eddb4">  653</a></span>&#160;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html">CPiece</a> *<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a1804e9a7e04b35441a127e6c897eddb4">CAbstractMetaPiece::GetContainedPiece</a>(<span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) index &gt;= <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> || index &lt; 0)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html">CPiece</a> *p_piece = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#acd8d346033b2e54f9d1fad091af11978">GetMasterPiece</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(index).mPieceName);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    Dbg_Assert(p_piece);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">return</span> p_piece;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;}</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">    See comments with original declaration. It is fine if pPiece has been rotated already.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">    Automatically changes stored cell WHL dimensions of metapiece to include new addition.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ad938a90bce77184a941ec3efeb764b">  671</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ad938a90bce77184a941ec3efeb764b">CAbstractMetaPiece::add_piece</a>(<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html">CPiece</a> *pPiece, <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> *pPos, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>, <span class="keywordtype">bool</span> isRiser)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    Dbg_Assert(pPiece);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="../../d4/d52/class_ed_1_1_c_source_piece.html">CSourcePiece</a> *p_source = NULL;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (pPiece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a93207021c40d7d06a8c0e0614144bc35">GetFlags</a>() &amp; <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1ac93eca46b581b7074e1db2fb65b812ef">CPiece::mSOURCE_PIECE</a>)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        p_source = pPiece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#aa07396a8313fbbab57f417c6c396ce24">CastToCSourcePiece</a>();</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (!p_source)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        Dbg_MsgAssert(0, (<span class="stringliteral">&quot;not supported yet&quot;</span>));</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a>, (<span class="stringliteral">&quot;out of entries&quot;</span>));</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>++);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (p_source)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> = <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a> = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) isRiser;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a> = p_source-&gt;<a class="code" href="../../d4/d52/class_ed_1_1_c_source_piece.html#ad6a75cea46307a5f23bee920bad5a704">GetType</a>();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordtype">int</span> highest_x = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordtype">int</span> highest_y = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordtype">int</span> highest_z = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> current_w = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> current_h = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> current_l = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">if</span> (highest_x &gt; current_w)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            current_w = highest_x;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">if</span> (highest_y &gt; current_h)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            current_h = highest_y;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">if</span> (highest_z &gt; current_l)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            current_l = highest_z;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(current_w, current_h, current_l);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">H</a>] &lt; 1) <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">H</a>] = 1;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">    if (isRiser)</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">        printf(&quot;hoogaboog 1 (%d,%d,%d), index %d\n&quot;, desc.mX, desc.mY, desc.mZ, m_num_used_entries-1);</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a99858f9bd03fcad25da123aa7f5d289c">  722</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a99858f9bd03fcad25da123aa7f5d289c">CAbstractMetaPiece::add_piece_dumb</a>(<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *pMeta, <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> *pPos, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>, <span class="keywordtype">bool</span> isRiser)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a> &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">m_total_entries</a>, (<span class="stringliteral">&quot;out of entries&quot;</span>));</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>++);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (pMeta)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> = <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a> = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) isRiser;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a> = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordtype">int</span> highest_x = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordtype">int</span> highest_y = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordtype">int</span> highest_z = pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + pPos-&gt;<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> current_w = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> current_h = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> current_l = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordflow">if</span> (highest_x &gt; current_w)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            current_w = highest_x;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">if</span> (highest_y &gt; current_h)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            current_h = highest_y;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordflow">if</span> (highest_z &gt; current_l)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            current_l = highest_z;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(current_w, current_h, current_l);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">    if (isRiser)</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">        printf(&quot;hoogaboog 1 (%d,%d,%d), index %d\n&quot;, desc.mX, desc.mY, desc.mZ, m_num_used_entries-1);</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ed74daebde045c5b119c6421c0046a6">  765</a></span>&#160;<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ed74daebde045c5b119c6421c0046a6">CAbstractMetaPiece::get_desc_with_expansion</a>(<span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> j = 0; j &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; j++)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;outer_desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(j);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_contained_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">if</span> (p_contained_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b">CMetaPiece::mSINGULAR</a>)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="keywordflow">if</span> (count == index)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                <span class="keywordflow">return</span> outer_desc;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            count++;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; p_contained_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;inner_desc = p_contained_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">if</span> (count == index)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> ret_desc = inner_desc;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a> = inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> = inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a> + outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> outer_dims = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> inner_dims = p_contained_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                    ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> = outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> = outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                    ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> = outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a> + inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                    </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                    <span class="keywordflow">switch</span>(outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>:</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> += inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> += inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139abb99d83cc3f5792e32e0a40fa32079d0">Mth::ROT_90</a>:</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> += inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> += outer_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() - inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> - inner_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a539524bdfe925b759487b1a8c653fe85">Mth::ROT_180</a>:</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> += outer_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() - inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> - inner_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> += outer_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() - inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> - inner_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a32efea0ebb5db47a7cceb94fde19d246">Mth::ROT_270</a>:</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a> += outer_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() - inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> - inner_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                            ret_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a> += inner_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                    </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    <span class="keywordflow">return</span> ret_desc;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                count++;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    Dbg_MsgAssert(0, (<span class="stringliteral">&quot;what the bloody &#39;ell?&quot;</span>));</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> dumb;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">return</span> dumb;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(index);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#aabc921d336b652c2517407fc284d928d">  836</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#aabc921d336b652c2517407fc284d928d">CAbstractMetaPiece::count_descriptors_expanded</a>()</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;{</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> j = 0; j &lt; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; j++)</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;outer_desc = <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(j);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_contained_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        Dbg_MsgAssert(p_contained_meta, (<span class="stringliteral">&quot;couldn&#39;t find metapiece %s&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(outer_desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>)));</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">if</span> (p_contained_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b">CMetaPiece::mSINGULAR</a>)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            count++;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; p_contained_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                count++;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> count;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">  867</a></span>&#160;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">CMapListNode::GetMeta</a>()</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    Dbg_Assert(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    Dbg_MsgAssert(((<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)<span class="keyword">this</span>) != 0x03030303,(<span class="stringliteral">&quot;Bad CMapListNode pointer ! (0x03030303)&quot;</span>));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    Dbg_MsgAssert(((<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)<span class="keyword">this</span>) != 0x55555555,(<span class="stringliteral">&quot;Bad CMapListNode pointer ! (0x55555555)&quot;</span>));</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">  879</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">CMapListNode::DestroyList</a>()</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;{</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">while</span> (p_node)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_next_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keyword">delete</span> p_node;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        p_node = p_next_node;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a0108f7d02bb8c948fe5f5e69c67b1292">  893</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a0108f7d02bb8c948fe5f5e69c67b1292">CMapListNode::VerifyIntegrity</a>()</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_outer_node = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">while</span> (p_outer_node)</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_inner_node = p_outer_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">while</span> (p_inner_node)</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            Dbg_Assert(p_inner_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>() != p_outer_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>());</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            p_inner_node = p_inner_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        p_outer_node = p_outer_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa36a4263a3e2f72f40d82d0a172b124b">  911</a></span>&#160;<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa36a4263a3e2f72f40d82d0a172b124b">CMapListTemp::CMapListTemp</a>(<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_list)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;{</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#ae81b424a57e0d99a5624ee123c01d5f5">mp_list</a> = p_list;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#adcdde59422a3ee25f99c4dcca561f4f9">  919</a></span>&#160;<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#adcdde59422a3ee25f99c4dcca561f4f9">CMapListTemp::~CMapListTemp</a>()</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;{</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#ae81b424a57e0d99a5624ee123c01d5f5">mp_list</a>)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#ae81b424a57e0d99a5624ee123c01d5f5">mp_list</a>-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">DestroyList</a>();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">  928</a></span>&#160;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">CMapListTemp::GetList</a>()</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#ae81b424a57e0d99a5624ee123c01d5f5">mp_list</a>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#af63476c98072e4b5348c64b38d48abd2">  936</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#af63476c98072e4b5348c64b38d48abd2">CMapListTemp::PrintContents</a>()</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;{</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;contents of map list:\n&quot;</span>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#ae81b424a57e0d99a5624ee123c01d5f5">mp_list</a>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;   address=%p area=&quot;</span>, p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>());</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>().<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a192dc595be3d28c541c90bba4928f4e2">PrintContents</a>();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;}</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae3d9192094ee91875dbbb653d0b38adf">  951</a></span>&#160;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae3d9192094ee91875dbbb653d0b38adf">CParkManager::CParkManager</a>()</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;{</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a> = <span class="keyword">new</span> <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html">CParkGenerator</a>();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a> = NULL;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a> = NULL;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab7adab45be5df3c3fa512bddf4f3adce">m_num_concrete_metapieces</a> = 0;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abae5054380fbc54a31a5558fe2350e26">m_num_general_concrete_metapieces</a> = 0;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4d1b327712c39b8c2a7137bf8a6d4a2a">m_dma_piece_count</a> = 0;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">m_num_abstract_metapieces</a> = 0;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a> = NULL;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[i][j] = NULL;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1e7b40522e4d268ffcb7146b02585a34">sp_instance</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> = <span class="keyword">new</span> <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>[<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>];</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a14ca2757cc69aeb7f75b198b984ddfbb">mNO_FLAGS</a>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae149ab720d7e8d7cc72a428cdc84ebfa">m_park_is_valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a> = NULL;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a87eea3885bcd165aaac29bbb6ab4818cac480bae1145ce54244a2f01adac3abe1">NUM_RISER_INFO_SLOTS</a>; i++)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordtype">char</span> name0[128];</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">sprintf</a>(name0, <span class="stringliteral">&quot;floor_wall_block%d&quot;</span>, i+1);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[i][0] = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(name0);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordtype">char</span> name1[128];</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <a class="code" href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">sprintf</a>(name1, <span class="stringliteral">&quot;wall_block%d&quot;</span>, i+1);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[i][1] = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(name1);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordtype">char</span> name2[128];</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <a class="code" href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">sprintf</a>(name2, <span class="stringliteral">&quot;floor_block%d&quot;</span>, i+1);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[i][2] = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(name2);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">m_theme</a> = 0;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="comment">// Mick: Create a compressed map buffer, equivalent to an empty park                                </span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3ad9ca4fc95eca9fe5d1a5e802675938">fake_compressed_map_buffer</a>();</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a> = NULL;    </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a66dafe383e4c6378b828a55bb707ba81">mp_park_name</a>[0]=0;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="preprocessor">    #ifdef USE_BUILD_LIST</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>=0;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>=NULL;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a84cc1225041881f660cf7ffa548eb920"> 1011</a></span>&#160;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a84cc1225041881f660cf7ffa548eb920">CParkManager::~CParkManager</a>()</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">    #ifdef USE_BUILD_LIST</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="preprocessor">        #ifndef __USE_EXTERNAL_BUFFER__</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="../../db/dc4/namespace_mem.html#aeedb606ea94a3398fdcfa3101c5ea8d9">Mem::Free</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>=NULL;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    }   </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1e7b40522e4d268ffcb7146b02585a34">sp_instance</a> = NULL;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">    Boots up park editor.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">    -Loads up files needed</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">    -Initializes buffers</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">    -Initializes CParkGenerator module</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">    -Calls Rebuild(), which:</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">        -Clears map</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">        -Generates riser geometry</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">    -Creates piece set database</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a129890ee1132f04f2c98e6777431e2a4"> 1043</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a129890ee1132f04f2c98e6777431e2a4">CParkManager::Initialize</a>()</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;{</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::Initialize()&quot;</span>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().TopDownHeap());</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#ac968d0b171efaca827bda711ccf0778c">Mem::CPoolable&lt;CMapListNode&gt;::SCreatePool</a>(16000, <span class="stringliteral">&quot;CMapListNode&quot;</span>);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#a3b0839619703951053424bb7f5918638">Mem::CPoolable&lt;CMapListNode&gt;::SPrintInfo</a>();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#ac968d0b171efaca827bda711ccf0778c">Mem::CPoolable&lt;CClipboardEntry&gt;::SCreatePool</a>(<a class="code" href="../../d2/d84/namespace_ed.html#a1696f071cb7b8d05a1c37244d72ebe10a20ca1590443db26f209dae27b1a87bf8">MAX_CLIPBOARD_METAS</a>, <span class="stringliteral">&quot;CClipboardEntry&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#ac968d0b171efaca827bda711ccf0778c">Mem::CPoolable&lt;CClipboard&gt;::SCreatePool</a>(<a class="code" href="../../d2/d84/namespace_ed.html#a1696f071cb7b8d05a1c37244d72ebe10affa04810c046197738a9859e8b2bcd03">MAX_CLIPBOARDS</a>, <span class="stringliteral">&quot;CClipboard&quot;</span>);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a673db26f8123ad8402a13248414f8211">InitializeMasterPieces</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">MAX_WIDTH</a>, 16, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">MAX_LENGTH</a>, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a97459bf8e737053049a7bcdabfb76ee4">GetTheme</a>());</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a1a4b743e9de3e84ed6efc336b30b0dd2">ReadInRailInfo</a>();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1baa2aca5156d3494a14f7330106abd5">create_abstract_metapieces</a>();</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa60dabc1fad9263d10fc24cbb2c66c4b">setup_road_mask</a>();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    Dbg_MsgAssert(!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>, (<span class="stringliteral">&quot;bad monkey!!!&quot;</span>));</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a> = <span class="keyword">new</span> <a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html">FloorHeightEntry</a>*[<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>];</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i] = <span class="keyword">new</span> <a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html">FloorHeightEntry</a>[<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>];     </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a6aee39508ea9a2210cfc3a587561c50f">mMarkAsSlid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a3f69150292cfd1788e93e283d7c48dd4">mSlideAmount</a> = 0;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    }</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa0021e0cef633e280ae0d526b1e0b406">setup_default_dimensions</a>();</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a> = <span class="keyword">new</span> <a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html">CGapManager</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a99f4c81a0f4c7285d6667c7480d732ba">RebuildWholePark</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_set_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_piece_sets&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa5066239bacd7688609adba33b9a5ff9">m_total_sets</a> = p_set_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa5066239bacd7688609adba33b9a5ff9">m_total_sets</a> &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a91f6281a9bfeaa3e887ecaccb92279c6aa2085afe1a45b8d383e9012da7bf225a">MAX_SETS</a>);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_piece_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_standard_metapieces&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordtype">int</span> last_piece_index=p_piece_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>();</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordtype">int</span> last_set_index=-1;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa5066239bacd7688609adba33b9a5ff9">m_total_sets</a>-1; s &gt;=0 ; --s)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_set = p_set_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(s);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a5ed9c553a9e8d22d1ebe60938b55ac8e">mpName</a> = NULL;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        p_set-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a5d9860e75457556161201e9cf3e9732d">GetText</a>(<span class="stringliteral">&quot;name&quot;</span>, &amp;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].mpName, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#ab23c479f7f93c4f74b8d8b42fcc8c3b7">mNameCrc</a> = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].mpName);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a3e33572d1f7b63084672692100c4e52d">mSelectedEntry</a> = 0;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aa122372d239a29d2fcc9145c9d3f7088">mTotalEntries</a>=0;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> first_checksum;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">if</span> (p_set-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">GetChecksum</a>(<span class="stringliteral">&quot;first&quot;</span>, &amp;first_checksum))</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="keywordtype">int</span> first_index=0;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(first_checksum, &amp;first_index))</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                Dbg_MsgAssert(0, (<span class="stringliteral">&quot;couldn&#39;t find first-in-set entry&quot;</span>));</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="comment">// make sure index in previous first-in_set_entry is less than this one</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keywordflow">if</span> (last_set_index&gt;=0)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                Dbg_MsgAssert(first_index &lt;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                              last_piece_index,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                              (<span class="stringliteral">&quot;sets %s and %s are out of order in EdPieces2.q&quot;</span>, </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                               <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].mpName,</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                               <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[last_set_index].mpName));</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                Dbg_MsgAssert(first_index &lt;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                              last_piece_index,</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                              (<span class="stringliteral">&quot;set %s has a bad first piece in EdPieces2.q&quot;</span>, </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                               <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].mpName));</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aa122372d239a29d2fcc9145c9d3f7088">mTotalEntries</a>=last_piece_index-first_index;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            last_piece_index=first_index;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            last_set_index=s;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <span class="comment">// Now that we know the number of entries, create the set.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <span class="keywordtype">int</span> entry=first_index;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aa122372d239a29d2fcc9145c9d3f7088">mTotalEntries</a>; ++i)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_abstract = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4142fd786ee6da405fc8c66d685d42e7">GetAbstractMetaByIndex</a>(entry);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                Dbg_Assert(i &lt; <a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a0421ac86228530fd4d38c54b194f9ce7a2da18dca90926a9c65aee9d39dcb2a16">CPieceSet::MAX_ENTRIES</a>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a4c8af84ecde257b422fcf060ba010e7a">mEntryTab</a>[i].<a class="code" href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a6ab0780e8863e5c0febc3d7ded4401d7">mNameCrc</a> = p_abstract-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>();</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_piece_entry = p_piece_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(entry);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                <span class="keywordflow">if</span> (!p_piece_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a11c0ac39d7dc927d8da6d2e6f25c6586">GetLocalString</a>(<span class="stringliteral">&quot;text_name&quot;</span>, &amp;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a4c8af84ecde257b422fcf060ba010e7a">mEntryTab</a>[i].<a class="code" href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a8fab55db7f525d333a359296c960012f">mpName</a>))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a4c8af84ecde257b422fcf060ba010e7a">mEntryTab</a>[i].<a class="code" href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a8fab55db7f525d333a359296c960012f">mpName</a> = NULL;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                ++entry;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#ad22010d6c59bd0cf34862df837b2970e">mIsClipboardSet</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="keywordflow">if</span> (p_set-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(CRCD(0x45c6c158,<span class="stringliteral">&quot;clipboard_set&quot;</span>)))</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#ad22010d6c59bd0cf34862df837b2970e">mIsClipboardSet</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aa122372d239a29d2fcc9145c9d3f7088">mTotalEntries</a>=<a class="code" href="../../d2/d84/namespace_ed.html#a1696f071cb7b8d05a1c37244d72ebe10affa04810c046197738a9859e8b2bcd03">MAX_CLIPBOARDS</a>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *p_clipboard_title=<a class="code" href="../../d1/d54/namespace_script.html#ab27ea984c3280ff79948e7e660d9f6bf">Script::GetString</a>(CRCD(0x4e677220,<span class="stringliteral">&quot;ClipboardTitle&quot;</span>));</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d2/d84/namespace_ed.html#a1696f071cb7b8d05a1c37244d72ebe10affa04810c046197738a9859e8b2bcd03">MAX_CLIPBOARDS</a>; ++i)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                <span class="keywordtype">char</span> p_name[100];</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <a class="code" href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">sprintf</a>(p_name,<span class="stringliteral">&quot;Clipboard%d&quot;</span>,i);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a4c8af84ecde257b422fcf060ba010e7a">mEntryTab</a>[i].<a class="code" href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a8fab55db7f525d333a359296c960012f">mpName</a>=p_clipboard_title;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a4c8af84ecde257b422fcf060ba010e7a">mEntryTab</a>[i].<a class="code" href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a6ab0780e8863e5c0febc3d7ded4401d7">mNameCrc</a>=<a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(p_name);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            }   </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aaa5f3b5b0b0d118fa546ff4738749f2f">mVisible</a> = !p_set-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(<span class="stringliteral">&quot;hidden&quot;</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="preprocessor">        #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="keywordflow">if</span> (p_set-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(<span class="stringliteral">&quot;no_gamecube&quot;</span>))</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aaa5f3b5b0b0d118fa546ff4738749f2f">mVisible</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;}</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a45cd8ca249e638ffd66fa7e4346ade2c"> 1179</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a45cd8ca249e638ffd66fa7e4346ade2c">CParkManager::GetClipboardProportionUsed</a>()</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;{</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordtype">float</span> proportion_clipboard_entries=((float)<a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html">Mem::CPoolable&lt;CClipboardEntry&gt;::SGetNumUsedItems</a>())/<a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html">Mem::CPoolable&lt;CClipboardEntry&gt;::SGetTotalItems</a>();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordtype">float</span> proportion_clipboard_slots=((float)<a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html">Mem::CPoolable&lt;CClipboard&gt;::SGetNumUsedItems</a>())/<a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html">Mem::CPoolable&lt;CClipboard&gt;::SGetTotalItems</a>();</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">if</span> (proportion_clipboard_entries &gt; proportion_clipboard_slots)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">return</span> proportion_clipboard_entries;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">return</span> proportion_clipboard_slots;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">// This is just a public version of the private function</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">// needed so the parks can be saved from within the park editor</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">// This just updates the contents of the map buffer that will be used</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">// by the enxt two public functions</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a534da0c8b079c89533660449eb0124a0"> 1195</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a534da0c8b079c89533660449eb0124a0">CParkManager::WriteCompressedMapBuffer</a>()</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;{</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">write_compressed_map_buffer</a>();  </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0c053b8b40f412f44d426e8bb53e3fd5"> 1201</a></span>&#160;<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>* <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0c053b8b40f412f44d426e8bb53e3fd5">CParkManager::GetCompressedMapBuffer</a>(<span class="keywordtype">bool</span> markSaved)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">        The compressed map buffer is valid if:</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment">        </span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="comment">        -The park manager is active AND (in sync with built park OR newer than built park) OR</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">        -The park manager is not active</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    Dbg_MsgAssert((<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>), (<span class="stringliteral">&quot;compressed map buffer not valid&quot;</span>)); </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        Dbg_MsgAssert((<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>) || (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>),</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                      (<span class="stringliteral">&quot;park has changed, compressed map buffer out of sync&quot;</span>));</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="preprocessor">#ifdef __NOPT_ASSERT__</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>( <span class="stringliteral">&quot;************ NUM METAS: %d\n&quot;</span>, p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a> );</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="preprocessor">#endif      // __NOPT_ASSERT__</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">if</span> (markSaved)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10046ca21475985b7b91a31a4db7a36b"> 1231</a></span>&#160;<span class="keywordtype">void</span>    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10046ca21475985b7b91a31a4db7a36b">CParkManager::SetCompressedMapBuffer</a>( <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>* src_buffer, <span class="keywordtype">bool</span> markNotSaved )</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;{</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;SetCompressedMapBuffer()&quot;</span>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    memcpy( <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>, src_buffer, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a> );</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">if</span> (markNotSaved)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="preprocessor">#ifdef __NOPT_ASSERT__</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">//uint32 checksum=Crc::GenerateCRCCaseSensitive((const char*)mp_compressed_map_buffer+4,COMPRESSED_MAP_SIZE-4);</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="comment">//Dbg_MsgAssert(checksum==p_header-&gt;mChecksum,(&quot;Park editor buffer checksum mismatch !&quot;));</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>( <span class="stringliteral">&quot;************ NUM METAS: %d\n&quot;</span>, p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a> );</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="preprocessor">#endif      // __NOPT_ASSERT__</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9bbcf8c7fc53ec6430153481fa6e83fd"> 1255</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9bbcf8c7fc53ec6430153481fa6e83fd">CParkManager::IsMapSavedLocally</a>()</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;{</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">if</span> ((!(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>) &amp;&amp; !(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>)) || </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>))</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a90c4c1429a48870aa0161fa21009cd2b"> 1264</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a90c4c1429a48870aa0161fa21009cd2b">CParkManager::WriteIntoStructure</a>(<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_struct)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a534da0c8b079c89533660449eb0124a0">WriteCompressedMapBuffer</a>();     <span class="comment">// Ensure map buffer is correct</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>  *p_map_buffer = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>*) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0c053b8b40f412f44d426e8bb53e3fd5">GetCompressedMapBuffer</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordtype">int</span>     size = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a> ;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// create the array</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_map=<span class="keyword">new</span> <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    p_map-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#ad585a34126ec8376256612ceba0d5e55">SetArrayType</a>(size/4,<a class="code" href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21af2eca5380b5f9edf380b1ea9121c03eb">ESYMBOLTYPE_INTEGER</a>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// copy the park editor into it</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;size/4;i++)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        p_map-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a5cfabc42659d7b73ab472ac094c33e81">SetInteger</a>(i,p_map_buffer[i]);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="comment">// append it to p_struct</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a8d7d01e3e97039001e1039ebf7bc830a">AddArrayPointer</a>(CRCD(0x337c5289,<span class="stringliteral">&quot;Park_editor_map&quot;</span>),p_map);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="comment">// Now also add in any created goals, so that the goals do not have to saved out to a separate file.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_goals_struct=<span class="keyword">new</span> <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html">Obj::CGoalEditorComponent</a> *p_goal_editor=<a class="code" href="../../d2/d10/namespace_obj.html#a62c9946a024434bd34e76640d7028583">Obj::GetGoalEditor</a>();</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    Dbg_MsgAssert(p_goal_editor,(<span class="stringliteral">&quot;No goal editor component ???&quot;</span>));</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    p_goal_editor-&gt;<a class="code" href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#aab3296bc1cd7299f209ed83fdfd46bc3">WriteIntoStructure</a>(CRCD(0xe8b4b836,<span class="stringliteral">&quot;Load_Sk5Ed&quot;</span>),p_goals_struct);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a667e4124e102a386583d9fd97eaa8d38">AddStructurePointer</a>(CRCD(0xd8eb825e,<span class="stringliteral">&quot;Park_editor_goals&quot;</span>),p_goals_struct);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// Add in the created rails.            </span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="../../d2/d10/namespace_obj.html#a85806a9f31eb5f7031c30a6cb17d0e9d">Obj::GetRailEditor</a>()-&gt;<a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a7e4bd8bf9e76b47f4e6dc5495b974152">WriteIntoStructure</a>(p_struct);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#ab6805f805d22e3876bcd47552a663f1a">AddInteger</a>(CRCD(0xb7e39b53,<span class="stringliteral">&quot;MaxPlayers&quot;</span>),<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;GetMaxPlayers());</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;}</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="preprocessor">#ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af06ffb35bd29d3823932e27fe231c7ea"> 1299</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af06ffb35bd29d3823932e27fe231c7ea">CParkManager::ReadFromStructure</a>(<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_struct, <span class="keywordtype">bool</span> do_post_mem_card_load, <span class="keywordtype">bool</span> preMadePark)</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af06ffb35bd29d3823932e27fe231c7ea">CParkManager::ReadFromStructure</a>(<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_struct, <span class="keywordtype">bool</span> do_post_mem_card_load)</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;{</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html">Obj::CGoalEditorComponent</a> *p_goal_editor=<a class="code" href="../../d2/d10/namespace_obj.html#a62c9946a024434bd34e76640d7028583">Obj::GetGoalEditor</a>();</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    Dbg_MsgAssert(p_goal_editor,(<span class="stringliteral">&quot;No goal editor component ???&quot;</span>));</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    p_goal_editor-&gt;<a class="code" href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#a6d8b008ed284d9331672ef322ff872a3">ClearOnlyParkGoals</a>();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="comment">// Read in any created goals.</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_goals_struct=NULL;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">if</span> (p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a7d6929b5a907965b7a7ef86dc9b90123">GetStructure</a>(CRCD(0xd8eb825e,<span class="stringliteral">&quot;Park_editor_goals&quot;</span>),&amp;p_goals_struct))</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        p_goal_editor-&gt;<a class="code" href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#acc9662d2e9e1152f77d5f7bbcd05cb50">ReadFromStructure</a>(p_goals_struct,<a class="code" href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#af8ce0b0e5f4bc7576079fc213a1f4074ab231bd26da706c585aeee59d88977881">Obj::CGoalEditorComponent::LOADING_PARK_GOALS</a>);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="comment">// Read in the created rails</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <a class="code" href="../../d6/de0/class_spt_1_1_singleton_ptr.html">Spt::SingletonPtr&lt;Ed::CParkEditor&gt;</a> p_park_ed;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span> (!p_park_ed-&gt;<a class="code" href="../../d8/d13/class_ed_1_1_c_park_editor.html#a6542c76303b2d99873e35c8167032274">EditingCustomPark</a>())</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="comment">// Do not call UpdateSuperSectors after deleting any existing rails if playing a park,</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="comment">// otherwise the entire park will disappear from under the skater due to all the sectors</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="comment">// having been flagged for deletion.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a119d6b6afa35fa1fdd62ae40c999fe01">Obj::CRailEditorComponent::sUpdateSuperSectorsAfterDeletingRailSectors</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }   </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="../../d2/d10/namespace_obj.html#a85806a9f31eb5f7031c30a6cb17d0e9d">Obj::GetRailEditor</a>()-&gt;<a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a00237c42a3837d4dda64af27fd99876e">ReadFromStructure</a>(p_struct);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a119d6b6afa35fa1fdd62ae40c999fe01">Obj::CRailEditorComponent::sUpdateSuperSectorsAfterDeletingRailSectors</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordtype">int</span> max_players=2;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a1e85eee5e600de8358db26f6c777e42d">GetInteger</a>(CRCD(0xb7e39b53,<span class="stringliteral">&quot;MaxPlayers&quot;</span>),&amp;max_players);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    Ed::CParkManager::Instance()-&gt;GetGenerator()-&gt;SetMaxPlayers(max_players);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordtype">int</span> old_theme = GetTheme();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    WriteCompressedMapBuffer();</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>  *p_map_buffer = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>*) GetCompressedMapBuffer();</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordtype">int</span>     size = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">Ed::CParkManager::COMPRESSED_MAP_SIZE</a> ;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">// get the array</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_map=NULL;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (p_struct-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">GetArray</a>(<span class="stringliteral">&quot;Park_editor_map&quot;</span>,&amp;p_map,<span class="keyword">true</span>))</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="comment">// copy the park editor map from structure to buffer</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;size/4;i++)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="preprocessor">            #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordflow">if</span> (preMadePark)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> v=p_map-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(i);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                p_map_buffer[i] = ((v&gt;&gt;24) | (((v&gt;&gt;16)&amp;0xff)&lt;&lt;8) | (((v&gt;&gt;8)&amp;0xff)&lt;&lt;16) | ((v&amp;0xff)&lt;&lt;24));</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            }   </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                p_map_buffer[i] = p_map-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(i);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            }       </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="preprocessor">            #else</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            p_map_buffer[i] = p_map-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(i);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="preprocessor">        #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordflow">if</span> (preMadePark)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            <span class="comment">// If loading a pre-made park, it will need the map buffer endianness swapped since</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            <span class="comment">// it was saved from the PS2.</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            SwapMapBufferEndianness();</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        }   </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">if</span> (do_post_mem_card_load)</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <a class="code" href="../../d6/de0/class_spt_1_1_singleton_ptr.html">Spt::SingletonPtr&lt;Ed::CParkEditor&gt;</a> p_park_ed;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            p_park_ed-&gt;<a class="code" href="../../d8/d13/class_ed_1_1_c_park_editor.html#a7d21742d7c45dad9428d67cbcdeccd02">PostMemoryCardLoad</a>((<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*) p_map_buffer, old_theme);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        }   </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a97459bf8e737053049a7bcdabfb76ee4">CParkManager::GetTheme</a>()</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;{</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keywordtype">int</span> theme = (((CompressedMapHeader *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mTheme);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        Dbg_MsgAssert(theme &gt;= 0 &amp;&amp; theme &lt;= <a class="code" href="../../d2/d84/namespace_ed.html#ae88bda17c9142c4cbaaea14251ffc2c7ae1c34fa51acb20b03835c223ff061e27">MAX_THEMES</a>, (<span class="stringliteral">&quot;nonsense theme %d&quot;</span>, theme));</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">return</span> theme;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;}</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ac548b141aef21d92f0be44bd5225110a"> 1390</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ac548b141aef21d92f0be44bd5225110a">CParkManager::SetTheme</a>(<span class="keywordtype">int</span> theme)</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    Dbg_MsgAssert(theme &gt;= 0 &amp;&amp; theme &lt; <a class="code" href="../../d2/d84/namespace_ed.html#ae88bda17c9142c4cbaaea14251ffc2c7ae1c34fa51acb20b03835c223ff061e27">MAX_THEMES</a> , (<span class="stringliteral">&quot;nonsense theme %d&quot;</span>, theme));</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">m_theme</a> = theme;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">write_compressed_map_buffer</a>();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9bb26bc2bccc42d8b6f03fd211300f94"> 1400</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9bb26bc2bccc42d8b6f03fd211300f94">CParkManager::GetParkName</a>()</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;{</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> &amp;&amp; ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mVersion == (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>))</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">return</span> ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mParkName;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8a55d8b194213ffef4707d3addf87679"> 1408</a></span>&#160;<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8a55d8b194213ffef4707d3addf87679">CParkManager::GetParkChecksum</a>()</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;{</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> &amp;&amp; ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mVersion == (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>))</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">return</span> ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mChecksum;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;}</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a311804d774d6bd07378123ea375025ce"> 1416</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a311804d774d6bd07378123ea375025ce">CParkManager::GetCompressedParkWidth</a>()</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;{</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> &amp;&amp; ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mVersion == (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>))</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="keywordflow">return</span> ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mW;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a093ed608ab26cedcf2504ea05f565673"> 1424</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a093ed608ab26cedcf2504ea05f565673">CParkManager::GetCompressedParkLength</a>()</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;{</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> &amp;&amp; ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mVersion == (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>))</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">return</span> ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mL;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;}</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74fcfde6f4df561064a233bdf7800b00"> 1433</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74fcfde6f4df561064a233bdf7800b00">CParkManager::SetParkName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pName)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;{</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> || ((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mVersion != (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    Dbg_Assert(pName);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    Dbg_MsgAssert(strlen(pName) &lt; 64, (<span class="stringliteral">&quot;park name too long&quot;</span>));</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    strcpy(((<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>)-&gt;mParkName, pName);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    strcpy(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a66dafe383e4c6378b828a55bb707ba81">mp_park_name</a>, pName);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aab29f1a394b0f9b7aeb1a4bd2a969efd"> 1445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aab29f1a394b0f9b7aeb1a4bd2a969efd">CParkManager::AccessDisk</a>(<span class="keywordtype">bool</span> save, <span class="keywordtype">int</span> fileSlot)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;{</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordtype">char</span> fullname[64];</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">sprintf</a>(fullname, <span class="stringliteral">&quot;CustomParks\\custom%d.prk&quot;</span>, fileSlot);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">if</span> (save)</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">//      Ryan(&quot;I am saving park %s\n&quot;, fullname);</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">//      printf(&quot;I am saving park %s\n&quot;, fullname);</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_struct=<span class="keyword">new</span> <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a90c4c1429a48870aa0161fa21009cd2b">WriteIntoStructure</a>(p_struct);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> size=<a class="code" href="../../d1/d54/namespace_script.html#a4f75faaf58235bf0b28fb7203c837da8">Script::CalculateBufferSize</a>(p_struct);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>=(<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*)<a class="code" href="../../db/dc4/namespace_mem.html#a10246603d03405159c82320b96e3efbf">Mem::Malloc</a>(size);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#ad62606d41a6c74629df87a6caaf460ea">Script::WriteToBuffer</a>(p_struct,<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>,size);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordtype">void</span> *fp = <a class="code" href="../../de/d10/namespace_file.html#a180384dc852ac3b971285fc63b1287cb">File::Open</a>(fullname, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        Dbg_MsgAssert(fp, (<span class="stringliteral">&quot;failed to open file %s for write&quot;</span>, fullname));</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <a class="code" href="../../de/d10/namespace_file.html#ae1a2fc14e6df2b782caad192a3123bd5">File::Write</a>(<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>, size, 1, fp);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <a class="code" href="../../de/d10/namespace_file.html#af5cd83b01fc5f341f767beb7c0b1130c">File::Close</a>(fp);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="../../db/dc4/namespace_mem.html#aeedb606ea94a3398fdcfa3101c5ea8d9">Mem::Free</a>(<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keyword">delete</span> p_struct;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment">//      Ryan(&quot;I am loading park %s\n&quot;, fullname);</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">//      printf(&quot;I am loading park %s\n&quot;, fullname);</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordtype">void</span> *fp = <a class="code" href="../../de/d10/namespace_file.html#a180384dc852ac3b971285fc63b1287cb">File::Open</a>(fullname, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        Dbg_MsgAssert(fp, (<span class="stringliteral">&quot;failed to open file %s for read&quot;</span>, fullname));</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <span class="keywordtype">int</span> size=<a class="code" href="../../de/d10/namespace_file.html#a42faef384ac438a449656a07258cdbec">File::GetFileSize</a>(fp);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>=(<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*)<a class="code" href="../../db/dc4/namespace_mem.html#a10246603d03405159c82320b96e3efbf">Mem::Malloc</a>(size);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <a class="code" href="../../de/d10/namespace_file.html#ae5e5ed0fd4834fc2e0e1c29edc62fc02">File::Read</a>(<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>, size, 1, fp);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <a class="code" href="../../de/d10/namespace_file.html#af5cd83b01fc5f341f767beb7c0b1130c">File::Close</a>(fp);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_struct=<span class="keyword">new</span> <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <a class="code" href="../../d1/d54/namespace_script.html#a720f483ddaf679483fe9e801b314bdae">Script::ReadFromBuffer</a>(p_struct,<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="../../db/dc4/namespace_mem.html#aeedb606ea94a3398fdcfa3101c5ea8d9">Mem::Free</a>(<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="preprocessor">        #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af06ffb35bd29d3823932e27fe231c7ea">ReadFromStructure</a>(p_struct,<span class="keyword">false</span>,<span class="keyword">true</span>);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">        #else</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af06ffb35bd29d3823932e27fe231c7ea">ReadFromStructure</a>(p_struct,<span class="keyword">false</span>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        <span class="keyword">delete</span> p_struct;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a> + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>));</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }   </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment">    Destroys everything, concrete metas, abstract metas, floor map.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment">// K: Added type so that DESTROY_ONLY_PIECES can be passed when this function is used to clean</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment">// up the park editor heap for deletion when playing a park.</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a294b6088fc662e0f95d45feea3cfda70"> 1509</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a294b6088fc662e0f95d45feea3cfda70">CParkManager::Destroy</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4ec12f38a67e0abdf109859818d85505">CParkGenerator::EDestroyType</a> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>)</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::Destroy(), m_compressed_map_flags=%08x&quot;</span>, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>) &amp;&amp; !(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>))</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">write_compressed_map_buffer</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af0a8b41f90ca0560d7c5139e96225ab9">RemoveAllGaps</a>();</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="comment">// remove all abstract metapieces</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = NULL;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">while</span>((p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a>))</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>();</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9905eaa7ded54264bd143294115ef509">remove_metapiece_from_node_list</a>(p_meta, &amp;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a>);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="keyword">delete</span> p_meta;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">m_num_abstract_metapieces</a> = 0;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af640e213a45553360f591b8feb636449">destroy_concrete_metapieces</a>(<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a385f69e1fb9388dc865395aa970c533b">UnloadMasterPieces</a>();</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4e73ec6340f9fb57c6f94948dcf74985">DestroyRailInfo</a>();        <span class="comment">// info from node array (mostly rails)</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    </div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>, (<span class="stringliteral">&quot;bad bad monkey!!!&quot;</span>));</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i];</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keyword">delete</span> [] <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a> = NULL;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="comment">// since park is destroyed, buffer is out of sync and newer than park</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae149ab720d7e8d7cc72a428cdc84ebfa">m_park_is_valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a> = NULL;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">DestroyList</a>();</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a> = NULL;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#a5007b3f54159e9e13fac32e73e387863">Mem::CPoolable&lt;CClipboard&gt;::SRemovePool</a>();  </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#a5007b3f54159e9e13fac32e73e387863">Mem::CPoolable&lt;CClipboardEntry&gt;::SRemovePool</a>(); </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="../../d6/d3a/class_mem_1_1_c_poolable.html#a5007b3f54159e9e13fac32e73e387863">Mem::CPoolable&lt;CMapListNode&gt;::SRemovePool</a>();</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;}</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a99f4c81a0f4c7285d6667c7480d732ba"> 1565</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a99f4c81a0f4c7285d6667c7480d732ba">CParkManager::RebuildWholePark</a>(<span class="keywordtype">bool</span> clearPark)</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;{</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::RebuildWholePark() 0x%x&quot;</span>, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab97c038ea9ba001e93f343a8cb4e75ab">setup_lighting</a>();  <span class="comment">// ensure light arrays are correct for current theme</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>) &amp;&amp; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        !(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>) &amp;&amp; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae149ab720d7e8d7cc72a428cdc84ebfa">m_park_is_valid</a>)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="comment">//Ryan(&quot;writing compressed map buffer\n&quot;);</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">write_compressed_map_buffer</a>();</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>( <span class="stringliteral">&quot;************* Rebuilding whole park : %d\n&quot;</span>, (<span class="keywordtype">int</span>) clearPark );</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af640e213a45553360f591b8feb636449">destroy_concrete_metapieces</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4ec12f38a67e0abdf109859818d85505ae58701e17c294e41d2f0c3ee5dbd217b">CParkGenerator::DESTROY_PIECES_AND_SECTORS</a>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ad6daaf8c92aecaa7be8f08f262fdee7d">GenerateCollisionInfo</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">if</span> (clearPark || !(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>))</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <span class="comment">//Ryan(&quot;clearing park\n&quot;);</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>, (<span class="stringliteral">&quot;bad bad monkey!!!&quot;</span>));</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = i;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <span class="keywordtype">int</span> z = j;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = 0; <span class="comment">//Mth::Rnd(4);</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">mEnclosedFloor</a> = 0;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a6aee39508ea9a2210cfc3a587561c50f">mMarkAsSlid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a3f69150292cfd1788e93e283d7c48dd4">mSlideAmount</a> = 0; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">write_compressed_map_buffer</a>();</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74fcfde6f4df561064a233bdf7800b00">SetParkName</a>(<span class="stringliteral">&quot;unnamed park&quot;</span>);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        clearPark = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    }   </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        <span class="comment">// use compressed map</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa29a4e2b6b9e303aa60a65d134831be2">read_from_compressed_map_buffer</a>();</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1f1fab05dba222adba629cc7b7b529f0">RebuildInnerShell</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a897030eed0d8e64a5af4d363405f77be">generate_floor_pieces_from_height_map</a>(clearPark, <span class="keyword">false</span>);    </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ad6daaf8c92aecaa7be8f08f262fdee7d">GenerateCollisionInfo</a>();</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">//  mp_generator-&gt;GenerateNodeInfo(mp_concrete_metapiece_list);</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae149ab720d7e8d7cc72a428cdc84ebfa">m_park_is_valid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordflow">if</span> (clearPark)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="comment">// K: Now that the park geometry has been built and collision info generated, </span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// update the created rails.</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="../../d2/d10/namespace_obj.html#a85806a9f31eb5f7031c30a6cb17d0e9d">Obj::GetRailEditor</a>()-&gt;<a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a1fe5821185edc231a34617e89288f07b">RefreshGeometry</a>();</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;}</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">    -Might clear map</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">    -Generates riser geometry (from height map)</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">    The only place we call this function with firstTestMemory true is from CCursor::ChangeFloorHeight()</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15"> 1641</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15">CParkManager::RebuildFloor</a>(<span class="keywordtype">bool</span> firstTestMemory)</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;{</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::RebuildFloor()&quot;</span>);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="comment">//Dbg_Printf( &quot;************* Rebuilding floor\n&quot; );</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">if</span> (firstTestMemory)</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a897030eed0d8e64a5af4d363405f77be">generate_floor_pieces_from_height_map</a>(<span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    }</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a897030eed0d8e64a5af4d363405f77be">generate_floor_pieces_from_height_map</a>(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">//CConcreteMetaPiece *p_out = CreateConcreteMeta(GetAbstractMeta(Script::GenerateCRC(&quot;gloopy&quot;)));</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="comment">//GridDims dims(m_park_near_bounds.GetX(), 0, m_park_near_bounds.GetZ());</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">//AddMetaPieceToPark(dims, p_out);</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ad6daaf8c92aecaa7be8f08f262fdee7d">GenerateCollisionInfo</a>();</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;}</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afe3b49be10db3c24e7a68e400f00ade5"> 1668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afe3b49be10db3c24e7a68e400f00ade5">CParkManager::RebuildNodeArray</a>()</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;{</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::RebuildNodeArray()&quot;</span>);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="comment">// clear any pre-exisiting automatic restarts</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="comment">// so we have slots free to add new ones    </span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac775a3d6b65b301acd043c44f21be25b">ClearAutomaticRestarts</a>();</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">// add default restarts</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="comment">// (they won&#39;t be added if player-placed ones already exist)</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">// there are 18 points</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="comment">// 1p, 2p, 4 flags, 6 horse, 6 KOTH</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; 18; p++)</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">CParkGenerator::RestartType</a> restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda065af787e48b2e8ee826d1cb792a8887">CParkGenerator::vONE_PLAYER</a>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> restart_area;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        restart_area = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa63810533da64391bcaeebb26c78c0ec">GetParkNearBounds</a>();      <span class="comment">// returns the rectangle enclosed by the fence</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>()/2, 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()/2);   <span class="comment">// sets xyz to the midpoint</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(1,1,1);     <span class="comment">// needed for when we get the floor height</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                        </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordtype">bool</span>    find_ground = <span class="keyword">true</span>;         <span class="comment">// most restarts need to find the ground, except copied horse points</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                        </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keywordtype">int</span> need = 1;       <span class="comment">// Most restarts only need one.  Horse/Multi being the current exception                        </span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="keywordflow">if</span> (p == 1)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda6ffb66429982e3e1af3ac70fe420da96">CParkGenerator::vMULTIPLAYER</a>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+1, 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()); </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keywordflow">if</span> (p == 2)</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda545425aa6fd98286fc2082f474a3a1a6">CParkGenerator::vRED_FLAG</a>;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()-2, 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+2);   </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">if</span> (p == 3)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda3d160baa2091e0d102ee815309ebe903">CParkGenerator::vGREEN_FLAG</a>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+0, 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+2);   </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="keywordflow">if</span> (p == 4)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda21a485de4dbef2cca27f9233636f7a06">CParkGenerator::vBLUE_FLAG</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+2, 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+2);   </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="keywordflow">if</span> (p == 5)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda9b3b4fe7e5939d372c8905d1e7997620">CParkGenerator::vYELLOW_FLAG</a>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()+4, 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()+2);   </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="comment">// all the dummy horse/multi restart points go in a line at Z-2     </span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">if</span> (p &gt;= 6 &amp;&amp; p &lt;=11)                   <span class="comment">// 6,7,8,9,10,11</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            need = 6;           </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda12e71f38140a8263fd862ad7aa8f48b8">CParkGenerator::vHORSE</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="preprocessor">            #if 0</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <span class="comment">// Code to make horse points be evenly distributed between 1p/2p nodes</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <span class="comment">// but it&#39;s not usable, as the players will start at the same point</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <span class="comment">// either all multi points need to be different, of the code needs</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <span class="comment">// to check in 2P (and multi) for same node positions</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            <span class="comment">// either are too risky to implement right now          </span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            <span class="keyword">static</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> horse_points[6];    <span class="comment">// needs to be static, so I can include it in this conditional</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a>  dims;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="keywordflow">if</span> (p==6)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                <span class="comment">// about to try the first horse point</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                <span class="comment">// so fill the array with appropriate values</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                <span class="keywordtype">int</span> num_actual_horse = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a44a2c12c09e7c7b6a95deaae8139f6d8">NumRestartsOfType</a>(restart_type);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment">//              printf (&quot;There are %d actual horse points\n&quot;,num_actual_horse);</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                <span class="keywordflow">if</span> (num_actual_horse == 0)</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="comment">//                  printf (&quot;No horse points, using 1p/2p\n&quot;);</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    <span class="comment">// not even got one, so fill the array with 1p,2p,1p,2p,1p,2p</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0;i&lt;6;i+=2)</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                        dims = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a19e5c6155b6183ba7d12857d57b216f8">GetRestartDims</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda065af787e48b2e8ee826d1cb792a8887">CParkGenerator::vONE_PLAYER</a>,0);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                        horse_points[i] = restart_area;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                        horse_points[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(),0,dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>());</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                        dims = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a19e5c6155b6183ba7d12857d57b216f8">GetRestartDims</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda6ffb66429982e3e1af3ac70fe420da96">CParkGenerator::vMULTIPLAYER</a>,0);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                        horse_points[i+1] = restart_area;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                        horse_points[i+1].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(),0,dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>());</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                    }                    </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                    <span class="comment">// we have one or more real horse points, so find out where they are</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                    <span class="comment">// and copy those values for any automatic horse points, if needed</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0;i&lt;6;i++)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                    {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                        <span class="keywordflow">if</span> (i &lt; num_actual_horse)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                        {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                            <span class="comment">// copy the n initial values into the array</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                            horse_points[i] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a19e5c6155b6183ba7d12857d57b216f8">GetRestartDims</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda12e71f38140a8263fd862ad7aa8f48b8">CParkGenerator::vHORSE</a>,i);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                        }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                        {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                            <span class="comment">// and duplicate these through the rest of the array</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                            <span class="comment">//  so we will get an even distribution</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                            <span class="comment">//  n = 1  gives [ 1 1 1 1 1 1 ]</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                            <span class="comment">//  n = 2  gives [ 1 2 1 2 1 2 ]</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                            <span class="comment">//  n = 3  gives [ 1 2 3 1 2 3 ]</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                            <span class="comment">//  n = 4  gives [ 1 2 3 4 1 2 ]</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                            <span class="comment">//  n = 5  gives [ 1 2 3 4 5 1 ]</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                            <span class="comment">//  n = 6  gives [ 1 2 3 4 5 6 ]</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                            horse_points[i] = horse_points[i % num_actual_horse];</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                        }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="comment">//                      printf (&quot;Horse %d: (%d,%d,%d)\n&quot;,horse_points[i].GetX(),horse_points[i].GetY(),horse_points[i].GetX());</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                    }                                       </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            }</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="comment">// copy the appropiate value from the array</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            restart_area = horse_points[p-6];</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            find_ground = <span class="keyword">false</span>;            <span class="comment">// Don&#39;t find the ground when copying existing restarts, as we will be raised up by 1p/2p/horse pieces</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            <span class="comment">//printf (&quot;Using Restart Area(%d,%d,%d)\n&quot;,restart_area.GetX(), restart_area.GetY(), restart_area.GetZ());</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                                                             </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="preprocessor">            #else           </span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()-3 + (p-6), 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()-2);   </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            <span class="comment">//printf (&quot;Using Restart Area(%d,%d,%d)\n&quot;,restart_area.GetX(), restart_area.GetY(), restart_area.GetZ());</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="keywordtype">bool</span>    auto_copy = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">if</span> ( p &gt;= 12 &amp;&amp; p &lt;= 17 )                   <span class="comment">// 12,13,14,15,16,17</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            auto_copy = <span class="keyword">true</span>;                       <span class="comment">// copy any existing restart point position, if there is one</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            need = 6;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            restart_type = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8ddaf8e2875c2b8c0c587f32e241c36fed28">CParkGenerator::vKING_OF_HILL</a>;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()-3 + (p-12), 0, restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()-3);   </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#af25a00fd7bed84c8aee3d7b6e86901e1">NotEnoughRestartsOfType</a>(restart_type, need))</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            <span class="keywordflow">if</span> (find_ground)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(),<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007">GetFloorHeight</a>(restart_area),restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>());</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> meta_list = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(restart_area);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                <span class="keywordflow">if</span> (!meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">IsEmpty</a>())</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                    restart_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = restart_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>()-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>().<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> restart_pos = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5919d5f837b1ab92aada74c5df9860e0">GridCoordinatesToWorld</a>(restart_area);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            restart_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = restart_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> / 2.0f;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            restart_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = restart_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] + <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> / 2.0f;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            <span class="comment">// Fix to TT12221, where the flags would be floating if over a pool.</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            <a class="code" href="../../dc/d35/class_c_feeler.html">CFeeler</a> feeler;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aa50b2aac111f2530a2aa5521e8953186">SetStart</a>(restart_pos+<a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>(0.0f, 10000.0f, 0.0f));</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#a71af11401be9af7efa5ab01776095dea">SetEnd</a>(restart_pos+<a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a>(0.0f, -1000.0f, 0.0f));</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keywordflow">if</span> (feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">GetCollision</a>())</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                restart_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>]=feeler.<a class="code" href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">GetPoint</a>().<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>();</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            }   </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">//          printf(&quot;restart point %d at: cell=(%d,%d,%d) world=(%.4f,%.4f,%.4f)\n&quot;, p, </span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">//               restart_area.GetX(), restart_area.GetY(), restart_area.GetZ(),</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">//               restart_pos[X], restart_pos[Y], restart_pos[Z]);</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a5211047500d88086afc1138b38b89fbe">AddRestart</a>(restart_pos, 0, restart_area, restart_type, <span class="keyword">true</span>, auto_copy);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    } <span class="comment">// end for p</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#aa09527e9552236975be71ab5aa2bda14">GenerateNodeInfo</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>); </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;}</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acb77e069fc32c8ffb1a6a9c0ac0faeef"> 1847</a></span>&#160;<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acb77e069fc32c8ffb1a6a9c0ac0faeef">CParkManager::GetShellSceneID</a>()</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;{</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordtype">char</span> p_shell_name[40];</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a97459bf8e737053049a7bcdabfb76ee4">GetTheme</a>())</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    {</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <a class="code" href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">sprintf</a>(p_shell_name,<span class="stringliteral">&quot;sk5ed%d_shell&quot;</span>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a97459bf8e737053049a7bcdabfb76ee4">GetTheme</a>()+1);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    }</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        strcpy(p_shell_name,<span class="stringliteral">&quot;sk5ed_shell&quot;</span>);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(p_shell_name);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;}</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160; </div>
<div class="line"><a name="l01861"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1f1fab05dba222adba629cc7b7b529f0"> 1861</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1f1fab05dba222adba629cc7b7b529f0">CParkManager::RebuildInnerShell</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> newNearBounds)</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;{</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::RebuildInnerShell()&quot;</span>);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>( <span class="stringliteral">&quot;************* Rebuilding inner shell\n&quot;</span> );</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;old shell bounds: (%d,%d,%d)-(%d,%d,%d)\n&quot;</span>, </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;         <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(),</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;         <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>());</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a> = newNearBounds;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;new shell bounds: (%d,%d,%d)-(%d,%d,%d)\n&quot;</span>, </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;         newNearBounds.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), newNearBounds.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), newNearBounds.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(),</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;         newNearBounds.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), newNearBounds.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), newNearBounds.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>());</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="comment">// west</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[0][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - 1;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[0][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - 1;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[0][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = 1;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[0][<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() + 2;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">// east</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[1][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[1][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - 1;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[1][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = 1;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[1][<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() + 2;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    </div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="comment">// north</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[2][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - 1;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[2][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - 1;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[2][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() + 2;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[2][<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = 1;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="comment">// south</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[3][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - 1;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[3][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[3][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() + 2;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[3][<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = 1;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="comment">//#if DEBUG_THIS_DAMN_THING</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="comment">//int destroy_type2_count = 0;</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">//#endif</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="comment">// destroy all existing inner shell pieces</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="comment">// also: kill everything that&#39;s outside the near bounds</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_next_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> meta_area = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="keywordflow">if</span> (p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#adc0893aa1b81d3131b52a2db9544c096">IsInnerShell</a>())</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802">mDONT_DESTROY_PIECES_ABOVE</a>);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        }</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="preprocessor">        #if 1</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>() &amp;&amp;  </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a3fef4af6f589d591e507df93c039793e">IsInPark</a>() &amp;&amp;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            (meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() ||</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() ||</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() ||</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()))</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802">mDONT_DESTROY_PIECES_ABOVE</a>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <span class="comment">//#if DEBUG_THIS_DAMN_THING</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <span class="comment">//destroy_type2_count++;</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <span class="comment">//#endif</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        }</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        p_node = p_next_node;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> fence_meta_name_crc = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<span class="stringliteral">&quot;Sk4Ed_Fence_20x20&quot;</span>);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_abstract_fence_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(fence_meta_name_crc);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> += 2)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> road_test_area;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        road_test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(2, 1, 1);</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        <span class="comment">// north</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, 0, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - 1);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        road_test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), 0, pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + 1);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(road_test_area))</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;            <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(p_abstract_fence_meta);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5adae15e4699748e0bcc630008568892">MarkAsInnerShell</a>();</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_meta);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        }</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="comment">// south</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, 0, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>());</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        road_test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), 0, pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - 1);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(road_test_area))</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;            <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(p_abstract_fence_meta);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a539524bdfe925b759487b1a8c653fe85">Mth::ROT_180</a>);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5adae15e4699748e0bcc630008568892">MarkAsInnerShell</a>();</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_meta);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160; </div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z += 2)</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> road_test_area;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        road_test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(1, 1, 2);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <span class="comment">// west</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - 1, 0, z);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        road_test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + 1, 0, pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>());</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(road_test_area))</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(p_abstract_fence_meta);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139abb99d83cc3f5792e32e0a40fa32079d0">Mth::ROT_90</a>);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5adae15e4699748e0bcc630008568892">MarkAsInnerShell</a>();</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_meta);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        <span class="comment">// east</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), 0, z);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        road_test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - 1, 0, pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>());</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(road_test_area))</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(p_abstract_fence_meta);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a32efea0ebb5db47a7cceb94fde19d246">Mth::ROT_270</a>);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5adae15e4699748e0bcc630008568892">MarkAsInnerShell</a>();</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_meta);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        }</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160; </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">//ParkEd(&quot;destroyed %d non-riser pieces\n&quot;, destroy_type2_count); </span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160; </div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = 0; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">MAX_WIDTH</a>; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">MAX_LENGTH</a>; z++)</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() ||</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() ||</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() ||</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                z &gt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>())</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = 0;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a75d655ae8e34fd3a1cc5fb9683fb5cfb">RemoveOuterShellPieces</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a97459bf8e737053049a7bcdabfb76ee4">GetTheme</a>());</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ad6daaf8c92aecaa7be8f08f262fdee7d">GenerateCollisionInfo</a>();</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment">//  mp_generator-&gt;GenerateNodeInfo(mp_concrete_metapiece_list);</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;end RebuildInnerShell()\n&quot;</span>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="comment">    Retrieves the abstract meta with the specified name checksum. Returns its index.</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a"> 2025</a></span>&#160;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">CParkManager::GetAbstractMeta</a>(<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>, <span class="keywordtype">int</span> *pRetIndex)</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;{</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    </div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordtype">int</span> index = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">m_num_abstract_metapieces</a>-1;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac562f79e9f3ffe1f889473ca717d1cb1">GetAbstractMeta</a>();</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        Dbg_Assert(p_meta);</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a> == <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>)</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            <span class="keywordflow">if</span> (pRetIndex)</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                *pRetIndex = index;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            <span class="keywordflow">return</span> p_meta;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        index--;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;}</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160; </div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="comment">    Retrieves the abstract meta with the specified index.</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4142fd786ee6da405fc8c66d685d42e7"> 2055</a></span>&#160;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4142fd786ee6da405fc8c66d685d42e7">CParkManager::GetAbstractMetaByIndex</a>(<span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;{</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordtype">int</span> i = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">m_num_abstract_metapieces</a>-1;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac562f79e9f3ffe1f889473ca717d1cb1">GetAbstractMeta</a>();</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        Dbg_Assert(p_meta);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="keywordflow">if</span> (i == index)</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            <span class="keywordflow">return</span> p_meta;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        i--;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    }</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    Dbg_MsgAssert(0, (<span class="stringliteral">&quot;index %d out of range&quot;</span>, i));</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span> NULL;    </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;}</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="comment">    Creates a concrete copy of the specified abstract meta.</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa"> 2082</a></span>&#160;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CParkManager::CreateConcreteMeta</a>(<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *pSource, <span class="keywordtype">bool</span> isSoft)</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;{</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    Dbg_Assert(pSource);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <span class="keyword">new</span> <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a>();</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    </div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordtype">int</span> num_entries = pSource-&gt;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#aabc921d336b652c2517407fc284d928d">count_descriptors_expanded</a>();</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">initialize_desc_table</a>(num_entries);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a> = pSource-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a>;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1">CPiece::EFlags</a> clone_flags = (isSoft) ? <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a85becc4bf917c55fa546b7f11226a978">CPiece::mSOFT_PIECE</a> : <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a9c47ebd0069160895eb9af1a269b955a">CPiece::mNO_FLAGS</a>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordflow">if</span> (pSource-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f1c16cbdfc97d87f2958c1b2da115c9">CMetaPiece::mIS_RISER</a>);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        clone_flags = <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1">CPiece::EFlags</a>(clone_flags | <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1acd8454128ab89607842b636a76b8b52f">CPiece::mFLOOR</a>);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">if</span> (pSource-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a4672ce5896a9910876e39d805a473d39">NoRails</a>())</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa7b64ec5e561d8eda7f277232bc5f3859">CMetaPiece::mNO_RAILS</a>);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        clone_flags = <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1">CPiece::EFlags</a>(clone_flags | <a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1aba0d234bd787ef99e52337c720a3c6ea">CPiece::mNO_RAILS</a>);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    }</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordflow">if</span> (pSource-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa75e8b4c28ab587548e577230fd275d47">CMetaPiece::mCONTAINS_RISERS</a>)</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa75e8b4c28ab587548e577230fd275d47">CMetaPiece::mCONTAINS_RISERS</a>);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160; </div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="comment">// pick through source piece, for each descriptor entry, make new cloned piece</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_entries; i++)</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    {</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> desc = pSource-&gt;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ed74daebde045c5b119c6421c0046a6">get_desc_with_expansion</a>(i);</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = </div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a138d0769ee297cbebbf5f6e2b3dcf3ac">ClonePiece</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()-&gt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;GetMasterPiece(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">mPieceName</a>), clone_flags);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a2e91ed8b7d71446eaef1813766846cb0">SetDesiredRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>), <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a04c8c64aa92eb014bef03e16e16d5fcc">CClonedPiece::MARKER_ONLY</a>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> dims(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        p_meta-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ae6fb5321e1b725ac7be55bf867cbc31a">add_piece</a>(p_piece, &amp;dims, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>), (desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a> != 0));</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <span class="comment">// Ryan: this call is unnecessary</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <span class="keywordflow">if</span> (!isSoft)</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#aa4378aeab90d46b1f6827bf25337ca80">CalculateLighting</a>(p_piece);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        }</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordflow">if</span> (pSource-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>() == <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<span class="stringliteral">&quot;Low_Short_Deck&quot;</span>))</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;   rotation: %d\n&quot;</span>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">mRot</a>);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        }</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160; </div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    p_meta-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a8e7e5665c6d808d07fff7cb15537ed13">lock</a>();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;       </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;<span class="preprocessor">    #ifdef __NOPT_ASSERT__</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_area = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    Dbg_MsgAssert(test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; 0 &amp;&amp; test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &gt; 0 &amp;&amp; test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; 0, </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                  (<span class="stringliteral">&quot;metapiece %s has invalid dimensions (%d,%d,%d)&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>()),</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                   test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()));</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="preprocessor">    #if 0</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">if</span> (1 || p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>() == <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<span class="stringliteral">&quot;Sk4Ed_Fence_10x10&quot;</span>))</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;OY! metapiece %s has dimensions (%d,%d,%d)\n&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>()),</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                   test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>());</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <span class="keyword">new</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a>();</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = p_meta;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;<span class="preprocessor">    #if 0   </span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a> = p_node;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = NULL;     </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>)</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a> = p_node;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_add = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="keywordflow">while</span>( p_add-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;            p_add = p_add-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        }</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        p_add-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = p_node;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    }</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab7adab45be5df3c3fa512bddf4f3adce">m_num_concrete_metapieces</a>++;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160; </div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="keywordflow">return</span> p_meta;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;}</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b"> 2190</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">CParkManager::DestroyConcreteMeta</a>(<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMeta, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7c">EDestroyFlags</a> <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a>)</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;{</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">if</span> (pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afab94a68ae878d8dd5dcc832aa1752bbee">CMetaPiece::mLOCK_AGAINST_DELETE</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    Dbg_MsgAssert(!(pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afab94a68ae878d8dd5dcc832aa1752bbee">CMetaPiece::mLOCK_AGAINST_DELETE</a>), (<span class="stringliteral">&quot;Metapiece is locked, can&#39;t deleted&quot;</span>));</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160; </div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/db9/class_ed_1_1_c_cursor.html#afdec7b232baa896872430baa7f987944">CCursor::sInstance</a>(<span class="keyword">false</span>))</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        <a class="code" href="../../d0/db9/class_ed_1_1_c_cursor.html#afdec7b232baa896872430baa7f987944">CCursor::sInstance</a>()-&gt;<a class="code" href="../../d0/db9/class_ed_1_1_c_cursor.html#a2cfb0915c1a3e54b09079438e81bb06d">InformOfMetapieceDeletion</a>(pMeta);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">// remove any gaps attached to this piece</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1">RemoveGap</a>(pMeta);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160; </div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordflow">if</span> (!pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#adc0893aa1b81d3131b52a2db9544c096">IsInnerShell</a>() &amp;&amp; pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a3fef4af6f589d591e507df93c039793e">IsInPark</a>())</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5586a643faa145979cf18beb1e08e39a">decrement_meta_count</a>(pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>());</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">if</span> (!pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>));</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        }   </div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    }</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    </div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="comment">// destroy all metas that are ABOVE this one</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="keywordflow">if</span> (!pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>() &amp;&amp; (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7cae5faa1ea046247a701c9f67107fa060d">mDESTROY_PIECES_ABOVE</a>))</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_area = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        test_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">MakeInfinitelyHigh</a>();</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        <span class="comment">// XXX</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;die now: &quot;</span>);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <span class="comment">//test_area.PrintContents();</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a25b1215217fe835ae1301a677df5e01f">DestroyMetasInArea</a>(test_area, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7c">EDestroyFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7caa91a16d71b4cfe900e191a7d2b37a652">mEXCLUDE_RISERS</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7cae5faa1ea046247a701c9f67107fa060d">mDESTROY_PIECES_ABOVE</a>));</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a13acff60d0e5d17662f43721c768be08">apply_meta_contained_risers_to_floor</a>(pMeta, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae0acea90cbebce82c1cb786dfb3c335f">debucketify_metapiece</a>(pMeta);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9905eaa7ded54264bd143294115ef509">remove_metapiece_from_node_list</a>(pMeta, &amp;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    </div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="preprocessor">    #if 0</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;concrete metapiece %s destroyed: cell dims (%d,%d,%d)-(%d,%d,%d), flags=0x%x\n&quot;</span>,</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;           <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>()),</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;           pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(), </div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;           pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(),</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;           pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a>);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160; </div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                                         </div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">CParkGenerator::RestartType</a> restart_type = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0207ea29681485f462ca08af7251d579">IsRestartPiece</a>(pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>());        </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordflow">if</span> (restart_type != <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda06c23a59e887bf29f12dd36957012b22">CParkGenerator::vEMPTY</a>)</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a3e628d075bba59d82db25fe012a6ce08">RemoveRestart</a>(pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>(),restart_type);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    </div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="comment">// take out metapiece</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i).<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">mpPiece</a>-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        Dbg_Assert(p_piece);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a29bdebad48a7375f780fcb788c7ba732">DestroyClonedPiece</a>(p_piece);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="keyword">delete</span> pMeta;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab7adab45be5df3c3fa512bddf4f3adce">m_num_concrete_metapieces</a>--;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;}</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160; </div>
<div class="line"><a name="l02256"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7b827c8daf90b247ab80761a7262eb32"> 2256</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7b827c8daf90b247ab80761a7262eb32">CParkManager::HighlightMetasInArea</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <span class="keywordtype">bool</span> on)</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;{</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c">GetAreaMetaPieces</a>(area);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_entry = <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a>.GetList();</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160; </div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="keywordflow">while</span>(p_entry)</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *p_meta=p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>();</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <span class="keywordflow">if</span> (p_meta)</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        {</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a0206f348807e50f13f634d3eb6409946">IsConcrete</a>() &amp;&amp; p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a25cb7c6a722e35b3bd508a0e317a042f">IsCompletelyWithinArea</a>(area))</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            {</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;                p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a4f75ff19e714ad00726b2b9f45f982bb">Highlight</a>(on);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            }   </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        }   </div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        p_entry = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;}</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="comment">GridDims CParkManager::FindBoundingArea(GridDims area)</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="comment">    int min_x=1000000;  </span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">    int min_z=1000000;  </span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment">    int max_x=-1000000;</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="comment">    int max_z=-1000000;</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">    CMapListTemp list = GetAreaMetaPieces(area);</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">    CMapListNode *p_entry = list.GetList();</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">    while(p_entry)</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="comment">        CMetaPiece *p_meta=p_entry-&gt;GetMeta();</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="comment">        if (p_meta &amp;&amp; p_meta-&gt;IsConcrete())</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<span class="comment">            GridDims meta_area = p_entry-&gt;GetConcreteMeta()-&gt;GetArea();</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="comment">            int x1=meta_area.GetX();</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="comment">            int z1=meta_area.GetZ();</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="comment">            int x2=x1+meta_area.GetW()-1;</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="comment">            int z2=z1+meta_area.GetL()-1;</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="comment">            </span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="comment">            if (x1 &lt; min_x) min_x=x1;</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="comment">            if (x2 &gt; max_x) max_x=x2;</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="comment">            if (z1 &lt; min_z) min_z=z1;</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="comment">            if (z2 &gt; max_z) max_z=z2;</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="comment">        }   </span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">        p_entry = p_entry-&gt;GetNext();</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="comment">    GridDims bounding_area=area;</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="comment">    if (min_x &lt;= max_x &amp;&amp; min_z &lt;= max_z)</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="comment">        bounding_area.SetXYZ(min_x, 0, min_z);</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="comment">        bounding_area.SetWHL(max_x-min_x+1, 1, max_z-min_z+1);</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="comment">    return bounding_area;</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;<span class="comment">// K: Does the same as CCursor::AttemptRemove() but for any area</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade3a39b0d9543b7a036317bc25214e51"> 2316</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a25b1215217fe835ae1301a677df5e01f">CParkManager::DestroyMetasInArea</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <span class="keywordtype">bool</span> doNotDestroyRestartsOrFlags, <span class="keywordtype">bool</span> onlyIfWithinArea)</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;{</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordtype">bool</span> destroyed_something=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> metas_at_pos = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c">GetAreaMetaPieces</a>(area);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_entry = metas_at_pos.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>();</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="keywordflow">while</span> (p_entry)</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>() || </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;            (doNotDestroyRestartsOrFlags &amp;&amp; p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ae289132372ee1aee765a3968ba2f9307">IsRestartOrFlag</a>()) ||</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;            (onlyIfWithinArea &amp;&amp; !p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a25cb7c6a722e35b3bd508a0e317a042f">IsCompletelyWithinArea</a>(area)))</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        }</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(p_meta, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7cae5faa1ea046247a701c9f67107fa060d">CParkManager::mDESTROY_PIECES_ABOVE</a>);</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;            destroyed_something=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        }   </div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;        </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        p_entry = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    }</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160; </div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="comment">// Also destroy any rail points in the area.</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> corner_pos;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> area_dims;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    corner_pos=Ed::CParkManager::Instance()-&gt;GridCoordinatesToWorld(area,&amp;area_dims);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <a class="code" href="../../d2/d10/namespace_obj.html#a85806a9f31eb5f7031c30a6cb17d0e9d">Obj::GetRailEditor</a>()-&gt;<a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a4c9c5242f85e0c10246ddf5de3362caa">ClipRails</a>(corner_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>], corner_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>],</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                                    corner_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>]+area_dims[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>], corner_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]+area_dims[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>],</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                                    <a class="code" href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a4497ca9ccff123441122d95233b45848ac12b0c36d30a221465c80b0e6a398cc2">Obj::CRailEditorComponent::DELETE_POINTS_INSIDE</a>);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="keywordflow">if</span> (destroyed_something)</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15">RebuildFloor</a>();</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    }</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        </div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;}</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160; </div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="comment">    Destroys concrete metapieces in specified area, according to flags.</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">    Flags:</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment">    -mDESTROY_PIECES_ABOVE: if set, whenever a meta is destroyed, recursively</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">        destroy all metas above it</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="comment">        </span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="comment">    Return value:</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment">    upper 16 bits: number metas killed</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="comment">    lower 16 bits: number pieces killed</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a25b1215217fe835ae1301a677df5e01f"> 2367</a></span>&#160;<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a25b1215217fe835ae1301a677df5e01f">CParkManager::DestroyMetasInArea</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7c">EDestroyFlags</a> <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a>)</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;{</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> metas_killed = 0;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> pieces_killed = 0;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_list = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(area, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>, NULL, (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7caa91a16d71b4cfe900e191a7d2b37a652">mEXCLUDE_RISERS</a>));</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = p_list;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <span class="keywordflow">while</span> (p_node)</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    {</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca592474775cfa48dd36b7765d0f99ff44">mEXCLUDE_PIECES_MARKED_AS_SLID</a>) || !(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f5880dbbe6c9e3fca444123d3238cf0">CMetaPiece::mMARK_AS_SLID</a>))</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        {</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;            metas_killed++;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;            pieces_killed += p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>(), <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a>);</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        }</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    }</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    p_list-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">DestroyList</a>();</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160; </div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">return</span> ((metas_killed&lt;&lt;16) | pieces_killed);</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;}</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a324112795d23b885999322b3a2c0ecd1"> 2388</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a324112795d23b885999322b3a2c0ecd1">CParkManager::get_dma_usage</a>(<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> pieceChecksum)</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;{</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_dma_usage=<a class="code" href="../../d1/d54/namespace_script.html#aaf10cce8c51e44ea46f7789b3db96bc0">Script::GetStructure</a>(CRCD(0x9547da8d,<span class="stringliteral">&quot;DMA_Usage&quot;</span>),<a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordtype">int</span> usage=1;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    p_dma_usage-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#a1e85eee5e600de8358db26f6c777e42d">GetInteger</a>(pieceChecksum, &amp;usage);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">return</span> usage;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;}   </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abd2d8850a1fd8d7d9ead8ab06c222d9c"> 2396</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abd2d8850a1fd8d7d9ead8ab06c222d9c">CParkManager::increment_meta_count</a>(<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> pieceChecksum)</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;{</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    ++<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abae5054380fbc54a31a5558fe2350e26">m_num_general_concrete_metapieces</a>;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4d1b327712c39b8c2a7137bf8a6d4a2a">m_dma_piece_count</a> += <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a324112795d23b885999322b3a2c0ecd1">get_dma_usage</a>(pieceChecksum);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="comment">//printf(&quot;IncrementMetaCount &#39;%s&#39;, %d   DMA=%d\n&quot;,Script::FindChecksumName(pieceChecksum),m_num_general_concrete_metapieces,m_dma_piece_count);</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;}</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5586a643faa145979cf18beb1e08e39a"> 2404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5586a643faa145979cf18beb1e08e39a">CParkManager::decrement_meta_count</a>(<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> pieceChecksum)</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;{</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    --<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abae5054380fbc54a31a5558fe2350e26">m_num_general_concrete_metapieces</a>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4d1b327712c39b8c2a7137bf8a6d4a2a">m_dma_piece_count</a> -= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a324112795d23b885999322b3a2c0ecd1">get_dma_usage</a>(pieceChecksum);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="comment">//printf(&quot;DecrementMetaCount &#39;%s&#39; %d   DMA=%d\n&quot;,Script::FindChecksumName(pieceChecksum),m_num_general_concrete_metapieces,m_dma_piece_count);</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4d1b327712c39b8c2a7137bf8a6d4a2a">m_dma_piece_count</a> &gt;= 0,(<span class="stringliteral">&quot;Negative m_dma_piece_count of %d\n&quot;</span>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4d1b327712c39b8c2a7137bf8a6d4a2a">m_dma_piece_count</a>));</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;}</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment">    Position is in cell coordinates, relative to northwest corner of 256X256 grid.</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment">    Y coordinate is relative to &quot;ground level&quot;, can be + or -.</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">    Rotation is 0-3.</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02419"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c"> 2419</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">CParkManager::AddMetaPieceToPark</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos, <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMetaPiece)</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;{</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    Dbg_MsgAssert(!(pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4">CMetaPiece::mIN_PARK</a>), (<span class="stringliteral">&quot;metapiece already in park&quot;</span>));</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4">CMetaPiece::mIN_PARK</a>);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>());</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160; </div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="comment">// center_pos in world coordinates</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> center_pos;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = ((float) pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + (float) pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() / 2.0f) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] -= (<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> * (float) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">CParkManager::FLOOR_MAX_WIDTH</a>) / 2.0f;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = ((float) pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + (float) pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() / 2.0f) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] -= (<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> * (float) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">CParkManager::FLOOR_MAX_LENGTH</a>) / 2.0f;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160; </div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;<span class="preprocessor">    #if 0</span></div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>(<span class="stringliteral">&quot;adding piece to park: (%d,%d,%d), (%.2f,%.2f,%.2f)\n&quot;</span>, </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;         pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), pos.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(), </div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;         center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>], center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>], center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]);</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    </div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    {</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> rel_pos = pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9cb31b3e85c4bacf97205392bdf6e8eb">GetRelativePosOfContainedPiece</a>(i);</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = pMetaPiece-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad5b8b071df8abe7f248744ddfd154b2b">GetContainedPiece</a>(i)-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        </div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="comment">// reposition piece from metapiece-relative coordinates to world-relative</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> abs_pos;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        abs_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] + rel_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>]; </div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        abs_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] + rel_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>]; </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        abs_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = center_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] + rel_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>];</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        </div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a8784f22b72bb4beb8da350e8939ff604">SetDesiredPos</a>(abs_pos, <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a89d4fe0eccfebec4006c4438b2b6d56a">CClonedPiece::CHANGE_SECTOR</a>);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a2e91ed8b7d71446eaef1813766846cb0">SetDesiredRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>((p_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ae71c7ec575bc15738ccc6173e71d1d2d">GetRot</a>() + pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a33351dec8a4908d91f7b5bbe7f7bdeb7">m_rot</a>) &amp; 3), <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a89d4fe0eccfebec4006c4438b2b6d56a">CClonedPiece::CHANGE_SECTOR</a>);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a046df9501a85c39fa2e6f53833895a72">AddClonedPieceToWorld</a>(p_piece);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#aa4378aeab90d46b1f6827bf25337ca80">CalculateLighting</a>(p_piece);</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    }</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160; </div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a13acff60d0e5d17662f43721c768be08">apply_meta_contained_risers_to_floor</a>(pMetaPiece, <span class="keyword">true</span>);     </div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a80150a1b343fc4ae60556567445cb669">bucketify_metapiece</a>(pMetaPiece);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160; </div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="comment">// If it&#39;s a restart point, then add that to the list of restart points</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">CParkGenerator::RestartType</a> restart_type = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0207ea29681485f462ca08af7251d579">IsRestartPiece</a>(pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>());       </div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="keywordflow">if</span> (restart_type != <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda06c23a59e887bf29f12dd36957012b22">CParkGenerator::vEMPTY</a>)</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a5211047500d88086afc1138b38b89fbe">AddRestart</a>(center_pos,pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a33351dec8a4908d91f7b5bbe7f7bdeb7">m_rot</a>,pos,restart_type,<span class="keyword">false</span>);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    }</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160; </div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">if</span> (!pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#adc0893aa1b81d3131b52a2db9544c096">IsInnerShell</a>())</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        <span class="keywordflow">if</span> (!pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>));</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abd2d8850a1fd8d7d9ead8ab06c222d9c">increment_meta_count</a>(pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>());</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    }</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    </div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;}</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160; </div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160; </div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">    &quot;Moves&quot; a metapiece from one position to another. Really, the old metapiece is destroyed, and a new copy created,</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">    so be careful to replace any pointers to old one.</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5cac96c24586edfa719311b658213429"> 2488</a></span>&#160;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5cac96c24586edfa719311b658213429">CParkManager::RelocateMetaPiece</a>(<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMeta, <span class="keywordtype">int</span> changeX, <span class="keywordtype">int</span> changeY, <span class="keywordtype">int</span> changeZ)</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;{</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../db/dfb/namespacename.html">name</a> = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>();</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86d8b76a63b14fbe84d4eede0e6249ca">GetRot</a>();</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5af">CMetaPiece::EFlags</a> old_flags = pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160; </div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="comment">// get gap associated with metapiece</span></div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordtype">int</span> gap_half;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordtype">bool</span> gap_exists = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *p_gap_desc = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0bacf48f754e644058c9205635ac020">GetGapDescriptor</a>(area, &amp;gap_half);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> new_gap_desc;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">if</span> (p_gap_desc)</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        gap_exists = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        new_gap_desc = *p_gap_desc;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        </div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        <span class="comment">// remove it</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1">RemoveGap</a>(*p_gap_desc);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160; </div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        <span class="comment">// shift gap descriptor to new position</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        new_gap_desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[gap_half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = new_gap_desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[gap_half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + changeX;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        new_gap_desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[gap_half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = new_gap_desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[gap_half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + changeY;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        new_gap_desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[gap_half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = new_gap_desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[gap_half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + changeZ;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    </div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(pMeta, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802">mDONT_DESTROY_PIECES_ABOVE</a>);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    </div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] += changeX;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + changeY;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] += changeZ;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160; </div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_new_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(<a class="code" href="../../db/dfb/namespacename.html">name</a>), <span class="keyword">false</span>);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    p_new_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>);</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    p_new_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> = old_flags;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    p_new_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a8b019f43f9a54f9a9cce3b542a928489">clear_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4">CMetaPiece::mIN_PARK</a>);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(area, p_new_meta);</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160; </div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <span class="keywordflow">if</span> (gap_exists)</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a010b7b7d003d063a72203943c20fc6c0">AddGap</a>(new_gap_desc);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    }</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160; </div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <span class="keywordflow">return</span> p_new_meta;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;}</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160; </div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160; </div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160; </div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="comment">    Returns list of concrete metapieces in specified area.</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="comment">    Modes:</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="comment">    pPiece == NULL, grab all pieces in area specified by &#39;dims&#39;, excluding risers and riser-containing metas if desired.</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="comment">    pPiece != NULL, does pretty much the same thing right now.</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160; </div>
<div class="line"><a name="l02546"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f"> 2546</a></span>&#160;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">CParkManager::GetMetaPiecesAt</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> dims, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>, <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *pPiece, <span class="keywordtype">bool</span> excludeRisers)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;{</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    </div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="keywordflow">if</span> (!pPiece)</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_out_list = NULL;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        <span class="comment">// need to be scanning an area bigger than 0</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <span class="comment">//if (dims.mW == 0) dims.mW++;</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="comment">//if (dims.mL == 0) dims.mL++;</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        </div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        <span class="comment">// no piece supplied, just scan through and grab all metapieces</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <span class="keywordtype">int</span> end_x = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; end_x; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;            <span class="keywordtype">int</span> end_z = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; end_z; z++)</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;            {</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z];</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                </div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                    <span class="comment">//Ryan(&quot;boogah %d\n&quot;, x);</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                    <span class="keywordflow">if</span> ((!excludeRisers || !(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())) &amp;&amp;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;                        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#aeb5a62959f8b3f739d850f35dc72a4e3">test_for_conflict</a>(dims, excludeRisers))</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;                    {</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3300b128263d8d90d8399d2bb596de75">add_metapiece_to_node_list</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>(), &amp;p_out_list);</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                    }</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                    </div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;                    p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;            }</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        </div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        p_out_list-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a0108f7d02bb8c948fe5f5e69c67b1292">VerifyIntegrity</a>();</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="keywordflow">return</span> p_out_list;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    }</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    {</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        Dbg_MsgAssert(pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86d8b76a63b14fbe84d4eede0e6249ca">GetRot</a>() == <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>, (<span class="stringliteral">&quot;abstract metapiece needs 0 rotation&quot;</span>));</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        <span class="comment">// build a descriptor table rotated and shifted to correct world coordinates</span></div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        </div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <span class="comment">// rotate the abstract meta piece to the desired rotation</span></div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>);</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        dims[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        dims[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">H</a>] = pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        dims[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160; </div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_out_list = NULL;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        </div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <span class="comment">// grab list of all concrete metas</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> metas_in_park = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(dims);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160; </div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        <span class="comment">// for each contained piece</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        {</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;            <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_area(desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            test_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] += dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;            test_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] += dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;            test_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] += dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160; </div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;            <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_in_park_entry = metas_in_park.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>();</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            <span class="keywordflow">while</span> (p_in_park_entry)</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                <span class="keywordflow">if</span> (p_in_park_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#aeb5a62959f8b3f739d850f35dc72a4e3">test_for_conflict</a>(test_area, <span class="keyword">false</span>))</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3300b128263d8d90d8399d2bb596de75">add_metapiece_to_node_list</a>(p_in_park_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>(), &amp;p_out_list);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160; </div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;                p_in_park_entry = p_in_park_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;            }</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        }</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="comment">// return abstract meta to a zero rotation</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        pPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        p_out_list-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a0108f7d02bb8c948fe5f5e69c67b1292">VerifyIntegrity</a>();</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        <span class="keywordflow">return</span> p_out_list;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    }</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;}</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160; </div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment">// This is just a slightly faster version of GetMetaPiecesAt, which gets all</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c"> 2630</a></span>&#160;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c">CParkManager::GetAreaMetaPieces</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> dims)</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;{</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160; </div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_out_list = NULL;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="keywordtype">int</span> end_x = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; end_x; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <span class="keywordtype">int</span> end_z = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; end_z; z++)</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        {</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;            <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z];</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;            <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;            {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3300b128263d8d90d8399d2bb596de75">add_metapiece_to_node_list</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>(), &amp;p_out_list);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;            }</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;        }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    }</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;        </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">return</span> p_out_list;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;}</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160; </div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="comment">// K: These two functions used by CClipboard::CopySelectionToClipboard</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a855bf0f77f8ff703b6e680e69027284c"> 2655</a></span>&#160;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a855bf0f77f8ff703b6e680e69027284c">CParkManager::GetMapListNode</a>(<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, <span class="keywordtype">int</span> z)</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;{</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z];</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;}</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007"> 2660</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007">CParkManager::GetFloorHeight</a>(<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, <span class="keywordtype">int</span> z)</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;{</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;}</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    </div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="comment">    Used to determine if resizing park will destroy existing metas.</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa000d40103c014f95fc9b355491db9db"> 2668</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa000d40103c014f95fc9b355491db9db">CParkManager::AreMetasOutsideBounds</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> new_dims)</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;{</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <span class="comment">//Ryan(&quot;New Park Bounds are: (%d,%d,%d)-(%d,%d,%d)\n&quot;, </span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <span class="comment">//   new_dims.GetX(), new_dims.GetY(), new_dims.GetZ(),</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <span class="comment">//   new_dims.GetW(), new_dims.GetH(), new_dims.GetL());</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    {</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> meta_area = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        <span class="comment">//Ryan(&quot;Checking if meta in bounds: is_riser=%d, inner_shell=%d (%d,%d,%d)-(%d,%d,%d)\n&quot;, </span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;        <span class="comment">//   p_meta-&gt;IsRiser(), p_meta-&gt;IsInnerShell(), </span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        <span class="comment">//   meta_area.GetX(), meta_area.GetY(), meta_area.GetZ(),</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        <span class="comment">//   meta_area.GetW(), meta_area.GetH(), meta_area.GetL());</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        <span class="keywordflow">if</span> ((meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &lt; new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() ||</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;            meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &lt; new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() ||</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;            meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() ||</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;            meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()) &amp;&amp;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;            !p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>() &amp;&amp;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;            !p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#adc0893aa1b81d3131b52a2db9544c096">IsInnerShell</a>() &amp;&amp;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4">CMetaPiece::mIN_PARK</a>))</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    }</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160; </div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;}</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160; </div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160; </div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="comment">    Used to determine if resizing park will destroy existing metas.</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9d0f54d7c9414d2cb6900d8c28e824b8"> 2702</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9d0f54d7c9414d2cb6900d8c28e824b8">CParkManager::EnoughMemoryToResize</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> new_dims)</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;{</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <span class="keywordtype">int</span> current_num_tiles = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() * <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="keywordtype">int</span> new_num_tiles = new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() * new_dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160; </div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordflow">if</span> (new_num_tiles - current_num_tiles &gt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;GetResourceSize(<span class="stringliteral">&quot;max_dma_pieces&quot;</span>) - <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ac5db858dce724deab75284e0e0e89f91">GetDMAPieceCount</a>())</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    {</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        </div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordtype">int</span> park_add_amount = (new_num_tiles - current_num_tiles) * <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ace0cbc73f67858c36fd22c871ec61875">GetResourceSize</a>(<span class="stringliteral">&quot;floor_piece_size_park&quot;</span>);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="keywordtype">int</span> main_add_amount = (new_num_tiles - current_num_tiles) * <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ace0cbc73f67858c36fd22c871ec61875">GetResourceSize</a>(<span class="stringliteral">&quot;floor_piece_size_main&quot;</span>);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160; </div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <a class="code" href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html">CParkGenerator::MemUsageInfo</a> usage_info = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a434c2a11c366bb7f3c3bd4d71c422eaf">GetResourceUsageInfo</a>();</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">if</span> (usage_info.<a class="code" href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html#a94f217cc1ffb9830b3d06d6edf58b123">mParkHeapFree</a> &lt; park_add_amount) </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;not enough memory for resize on park heap, need %d, have %d\n&quot;</span>, park_add_amount, usage_info.<a class="code" href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html#a94f217cc1ffb9830b3d06d6edf58b123">mParkHeapFree</a>);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    }</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">if</span> (usage_info.<a class="code" href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html#ac04764130667563fd572dbc7bf6a90fc">mMainHeapFree</a> &lt; main_add_amount) </div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    {</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;not enough memory for resize on main heap, need %d, have %d\n&quot;</span>, main_add_amount, usage_info.<a class="code" href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html#ac04764130667563fd572dbc7bf6a90fc">mMainHeapFree</a>);</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    }</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    </div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="preprocessor">    #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <span class="comment">// NGC has problems resizing if the top down heap is low due to UpdateSuperSectors requiring some temporary space.</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <span class="keywordtype">int</span> required_top_down_heap=TOP_DOWN_REQUIRED_MARGIN;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    </div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <span class="comment">// If increasing the size of the park, then in the worse case the TD heap may reduce by main_add_amount,</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="comment">// if none of the fragments got used.</span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <span class="comment">// We want there to be more than TOP_DOWN_REQUIRED_MARGIN after increasing the size, so that the user</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="comment">// will be able to reduce the size afterwards, so add in main_add_amount to the requirement.</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">if</span> (main_add_amount &gt; 0)</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    {</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        required_top_down_heap += main_add_amount;</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    }   </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    </div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <a class="code" href="../../d8/d98/class_mem_1_1_heap.html">Mem::Heap</a> *p_top_down_heap = <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a39d5899e894ada5a1b5ed1607322610a">TopDownHeap</a>();</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="comment">// Check if there is enough TD heap at the moment</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">if</span> (p_top_down_heap-&gt;<a class="code" href="../../d5/d97/class_mem_1_1_allocator.html#a678098f1c240bff6983d079dcf364f79">mp_region</a>-&gt;<a class="code" href="../../d1/d75/class_mem_1_1_region.html#abc46b799bdf5dd647d2ef63ac9feb720">MemAvailable</a>() &lt; required_top_down_heap)</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    {</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    }</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    </div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;}</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160; </div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160; </div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160; </div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="comment">    Returns max floor height within specified</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0561c89872bc5f2815c5d06a18488e01"> 2757</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007">CParkManager::GetFloorHeight</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> dims, <span class="keywordtype">bool</span> *pRetUniformHeight)</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;{</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>, (<span class="stringliteral">&quot;bad bad monkey!!!&quot;</span>));</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    </div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordtype">int</span> max_height = -10000;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    </div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="keywordflow">if</span> (pRetUniformHeight)</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        *pRetUniformHeight = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="keywordtype">int</span> corner_height = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()][dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    </div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    {</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                          (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;            <span class="keywordflow">if</span> (pRetUniformHeight &amp;&amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight != corner_height)</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;                *pRetUniformHeight = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &gt; max_height)</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;                max_height = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        }</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    }</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    </div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="keywordflow">return</span> max_height;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;}</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160; </div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160; </div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160; </div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="comment">    Changes the floor height stored in the height map, A subsequent call to</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="comment">    generate_floor_pieces_from_height_map() will make the geometry.</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a691996908ee2237569b99ca8784a8b96"> 2792</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a691996908ee2237569b99ca8784a8b96">CParkManager::SetFloorHeight</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <span class="keywordtype">int</span> newHeight, <span class="keywordtype">bool</span> justDropHighest)</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;{</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;        {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;                          (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;            </div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_area(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, 0, z, 1, 1, 1);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(test_area))</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;            {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = 0;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;            }</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;            <span class="keywordflow">if</span> (justDropHighest)</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;            {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &gt; newHeight)</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = newHeight;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;            }</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = newHeight;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        }</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    }</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>));</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;}</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160; </div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a2c07eca44d2c7c8cbf9983734f760677"> 2820</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a2c07eca44d2c7c8cbf9983734f760677">CParkManager::ResetFloorHeights</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area)</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;{</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="comment">// First move all the pieces in the area such that their y&#39;s are zero.</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> metas_at_pos = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c">GetAreaMetaPieces</a>(area);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_entry = metas_at_pos.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>();</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keywordflow">while</span> (p_entry)</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    {</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <span class="keywordflow">if</span> (!p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        {</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> meta_area=p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5cac96c24586edfa719311b658213429">RelocateMetaPiece</a>(p_meta,0,-meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(),0);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            </div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;            <span class="comment">// Set the floor heights under the piece to zero. Need to do this as well</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;            <span class="comment">// as zeroing the heights for the whole area, in case the piece sticks out</span></div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;            <span class="comment">// of the area.</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;            {</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                {</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                    Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                                  (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>=0;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                }</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;            }       </div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        </div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        p_entry = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    }</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160; </div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="comment">// Then set all the floor heights to zero</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    {</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;        {</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                          (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>=0;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        }</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    }       </div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160; </div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="comment">// K: Do I need this?</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>));</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    </div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="comment">// Then rebuild the floor so that the above changes take effect.</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15">RebuildFloor</a>();</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;}   </div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160; </div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160; </div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="comment">    A &quot;column&quot; is a 3D region defined by the XZ rectangle of &#39;area&#39;. Its bottom is at height &#39;y&#39;. All the </span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="comment">    metapieces within the column will change y position by the amount specified. Floor heights within the</span></div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="comment">    column will change as well.</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="comment">    Returns true if success.</span></div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02876"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a14313a2617312d29b0006017f5739d9f"> 2876</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a14313a2617312d29b0006017f5739d9f">CParkManager::SlideColumn</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <span class="keywordtype">int</span> bottom, <span class="keywordtype">int</span> top, <span class="keywordtype">bool</span> up, <span class="keywordtype">bool</span> uneven)</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;{</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a> <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a22d2c0cd710fc5f932caabdfc8ff8f81">mFIRST_RECURSE</a>);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">if</span> (up) <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a>(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d">mUP</a>);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="keywordflow">if</span> (uneven) <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a>(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a7811f89466f9d8c0f2258fc21789b011">mUNEVEN</a>);</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    </div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    <span class="comment">/* Remove bookkeeping left from last SlideColumn */</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21e6ef5e3f550b2264aece1538e8f031">finish_slide_column</a>();</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>)</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">DestroyList</a>();</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a> = NULL;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0fc04045a28bdfa0b0a9694dbe6f78e6">m_num_metas_killed_in_slide</a> = 0;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7a38cf27d94607f7a84b1d434c197468">m_num_pieces_killed_in_slide</a> = 0;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    </div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">if</span> (uneven &amp;&amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af7caaa7776e54ce34b5702f2621f5c1f">intersection_with_riser_containing_metas</a>(area))</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    </div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a27babeffb0b766497f96107c4e1762ec">slide_column_part_one</a>(area, bottom, top, <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a>, &amp;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>))</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    {</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb617e5caea9135e5d5bc13215bf0522">fix_slide_column_part_one_failure</a>();</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afaa3d5674cd68fefe1622dc2dcc66013">slide_column_part_two</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    </div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">if</span> (!up)</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a348aedee3ff2dbd23bc426b22cf9642f">kill_pieces_in_layer_under_area</a>(area);</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    </div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;}</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160; </div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160; </div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160; </div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160; </div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160; </div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="comment">    Undoes the results of a successful SlideColumn()</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abfe1d3f53e77695384e1b95db6043ad3"> 2915</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abfe1d3f53e77695384e1b95db6043ad3">CParkManager::UndoSlideColumn</a>()</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;{</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb617e5caea9135e5d5bc13215bf0522">fix_slide_column_part_one_failure</a>();</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    </div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">mp_column_slide_list</a>;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5cac96c24586edfa719311b658213429">RelocateMetaPiece</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>(), 0, -p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a>, 0);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    }</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;}</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160; </div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;<span class="comment">// K: This is copied from CCursor::ChangeFloorHeight</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="comment">// Modified to take a GridDims parameter so that it can be used by the clipboard pasting code.</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af3606842ce6881d602a97a4b940f4db3"> 2929</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af3606842ce6881d602a97a4b940f4db3">CParkManager::ChangeFloorHeight</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> dims, <span class="keywordtype">int</span> dir)</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;{</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;<span class="comment">        Uneven floor:</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;<span class="comment">            If going up, raise to height of topmost</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="comment">            If going down, only lower ones on same level</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160; </div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <span class="keywordtype">bool</span> uniform_height;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordtype">int</span> height = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007">GetFloorHeight</a>(dims, &amp;uniform_height);</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160; </div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;<span class="comment">        Now, </span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a14313a2617312d29b0006017f5739d9f">SlideColumn</a>(dims, dims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), height, (dir &gt; 0), !uniform_height))</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    {</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        <span class="comment">//Ryan(&quot;Slide column, dir = %d, dims=&quot;, dir);</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        <span class="comment">//dims.PrintContents();</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160; </div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        <span class="comment">// K: This was required in the CCursor version of ChangeFloorHeight, can&#39;t</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <span class="comment">// call it here though cos it is a member function of CCursor ...</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="comment">//change_cell_pos(0, 0);</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        </div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <a class="code" href="../../d6/de0/class_spt_1_1_singleton_ptr.html">Spt::SingletonPtr&lt;CParkEditor&gt;</a> p_editor;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15">RebuildFloor</a>(p_editor-&gt;IsParkFull()))</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aea87b77974e723a6f489b6e47b408704">HighlightMetasWithGaps</a>(<span class="keyword">false</span>, NULL);</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;            <span class="comment">// out of memory, so reverse slide</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abfe1d3f53e77695384e1b95db6043ad3">UndoSlideColumn</a>();</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15">RebuildFloor</a>();</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;            success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;        }</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    }</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;        success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160; </div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;}</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160; </div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160; </div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160; </div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="comment">    Converts a cell based XYZ coordinate to its world coordinate equivalent.</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5919d5f837b1ab92aada74c5df9860e0"> 2978</a></span>&#160;<a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5919d5f837b1ab92aada74c5df9860e0">CParkManager::GridCoordinatesToWorld</a>(<span class="keyword">const</span> <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> &amp;cellDims, <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> *pRetDims)</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;{</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> world_pos(((<span class="keywordtype">int</span>) cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - (<span class="keywordtype">int</span>) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">CParkManager::FLOOR_MAX_WIDTH</a> / 2) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>,</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        (<span class="keywordtype">int</span>) cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>,</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;        ((<span class="keywordtype">int</span>) cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - (<span class="keywordtype">int</span>) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">CParkManager::FLOOR_MAX_LENGTH</a> / 2) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>);</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160; </div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="keywordflow">if</span> (pRetDims)</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    {</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;        (*pRetDims)[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;        (*pRetDims)[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;        (*pRetDims)[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;dims: (%d,%d,%d)-(%d,%d,%d)\n&quot;</span>, </div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;               cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(),</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;               (<span class="keywordtype">int</span>) cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - (<span class="keywordtype">int</span>) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">CParkManager::FLOOR_MAX_WIDTH</a> / 2,</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;               (<span class="keywordtype">int</span>) cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(),</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;               (<span class="keywordtype">int</span>) cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - (<span class="keywordtype">int</span>) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">CParkManager::FLOOR_MAX_LENGTH</a> / 2);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    </div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordflow">return</span> world_pos;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;}</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160; </div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160; </div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762"> 3004</a></span>&#160;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html">CParkManager</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">CParkManager::sInstance</a>()</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;{</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1e7b40522e4d268ffcb7146b02585a34">sp_instance</a>);</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1e7b40522e4d268ffcb7146b02585a34">sp_instance</a>;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;}</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160; </div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160; </div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160; </div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="comment">    The manager keeps track of a piece database that matches the selection set the user sees at the top of the screen.</span></div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03016"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a11bded867ee38d7f269066c8c86ca4a6"> 3016</a></span>&#160;<a class="code" href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html">CParkManager::CPieceSet</a> &amp;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a11bded867ee38d7f269066c8c86ca4a6">CParkManager::GetPieceSet</a>(<span class="keywordtype">int</span> setNumber, <span class="keywordtype">int</span> *pMenuSetNumber)</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;{</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    Dbg_Assert(setNumber &gt;= 0 &amp;&amp; setNumber &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a91f6281a9bfeaa3e887ecaccb92279c6aa2085afe1a45b8d383e9012da7bf225a">MAX_SETS</a>);</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    </div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <span class="keywordtype">int</span> menu_set_number = 0;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; setNumber; s++)</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    {</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[s].mVisible)</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;            menu_set_number++;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    }</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    </div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <span class="keywordflow">if</span> (pMenuSetNumber)</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;        *pMenuSetNumber = menu_set_number;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160; </div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">m_palette_set</a>[setNumber];</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;}</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160; </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160; </div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160; </div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160; </div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="comment">    y coordinates, dimensions of &#39;area&#39; not used.</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248"> 3039</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">CParkManager::IsOccupiedByRoad</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area)</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;{</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adca8222b709542adbe4a80abdf17445c">m_road_mask_tab_size</a>; i++)</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    {</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">overlap</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;        <span class="keywordflow">if</span> (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()) <a class="code" href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">overlap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &gt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>()) <a class="code" href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">overlap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()) <a class="code" href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">overlap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &gt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()) <a class="code" href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">overlap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160; </div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">overlap</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    }</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;}</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160; </div>
<div class="line"><a name="l03054"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae8f488bd2c30fd13f0f8093800430288"> 3054</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae8f488bd2c30fd13f0f8093800430288">CParkManager::CanPlacePiecesIn</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> cellDims, <span class="keywordtype">bool</span> ignoreFloorHeight)</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;{</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <a class="code" href="../../d6/de0/class_spt_1_1_singleton_ptr.html">Spt::SingletonPtr&lt;CParkEditor&gt;</a> p_editor;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <span class="keywordflow">if</span> (p_editor-&gt;IsParkFull())</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;p_editor-&gt;IsParkFull()&quot;</span>);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    }   </div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160; </div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <span class="comment">// Check if there are any pieces in the area already.</span></div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <span class="comment">// Not using GetMetaPiecesAt because it does not detect pieces in lowered cells for some reason.</span></div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> metas_at_pos = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c">GetAreaMetaPieces</a>(cellDims);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_entry = metas_at_pos.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>();</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="keywordflow">while</span> (p_entry)</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta=p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;        <span class="keywordflow">if</span> (!p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        {</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;        }</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;            </div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;        p_entry = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    }</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    </div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">if</span> (!ignoreFloorHeight)</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    {</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;        <span class="keywordtype">bool</span> uniform_floor;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;        <span class="keywordtype">int</span> floor_height = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007">GetFloorHeight</a>(cellDims, &amp;uniform_floor);</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;        <span class="keywordflow">if</span> (floor_height != cellDims.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() || !uniform_floor)</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;        {</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;floor_height != cellDims.GetY() || !uniform_floor&quot;</span>);</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        }   </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    }</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        </div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(cellDims))</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    {</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;IsOccupiedByRoad(cellDims)&quot;</span>);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    }   </div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    </div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;}</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160; </div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160; </div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;<span class="comment">// pHalf returns the half number associated with the piece, if any gap found</span></div>
<div class="line"><a name="l03100"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0bacf48f754e644058c9205635ac020"> 3100</a></span>&#160;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0bacf48f754e644058c9205635ac020">CParkManager::GetGapDescriptor</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> &amp;area, <span class="keywordtype">int</span> *pHalf)</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;{</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(1,1,1);</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> meta_list = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(area);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="keywordflow">if</span> (meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">IsEmpty</a>())</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>()-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160; </div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordtype">int</span> tab_index;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af4fb3da8e2421417a4371877fcdfc1c9">IsGapAttached</a>(p_meta, &amp;tab_index))</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    </div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *pDesc = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a6e7c6c26972006b4b54f696ff08f750e">GetGapDescriptor</a>(tab_index, pHalf);</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    Dbg_MsgAssert(pDesc, (<span class="stringliteral">&quot;couldn&#39;t find gap descriptor&quot;</span>));</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <span class="keywordflow">return</span> pDesc;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;}</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160; </div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160; </div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160; </div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;<span class="comment">    Call from:</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;<span class="comment">    read_from_compressed_map_buffer(), CParkEditor, gap adjustment code, gap name changer</span></div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;<span class="comment">    -see if meta at cursor loc</span></div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;<span class="comment">    -if user working on gap already, fail</span></div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;<span class="comment">    -if no prexisiting, remove gap-in-progress</span></div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;<span class="comment">    -build descriptor</span></div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;<span class="comment">    -add gap</span></div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03132"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a010b7b7d003d063a72203943c20fc6c0"> 3132</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a010b7b7d003d063a72203943c20fc6c0">CParkManager::AddGap</a>(<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> &amp;descriptor)</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;{</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordtype">int</span> gap_tab_index = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a77128b7982537ef06cb3fe7edbab0c6e">GetFreeGapIndex</a>();</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="keywordflow">if</span> (gap_tab_index == -1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160; </div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af691c08d4aebf6c1a13a6e823041e7e8">numCompleteHalves</a>; i++)</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    {</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        <span class="comment">// fetch piece associated with this gap half</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(1,1,1);</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;        <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> meta_list = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i]);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;        <span class="keywordflow">if</span> (meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">IsEmpty</a>())</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;        Dbg_MsgAssert(!meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">IsEmpty</a>(), (<span class="stringliteral">&quot;am expecting a metapiece here&quot;</span>));</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>()-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;        Dbg_MsgAssert(p_meta, (<span class="stringliteral">&quot;no pieces found at (%d,%d,%d)&quot;</span>, descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()));</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;        Dbg_MsgAssert(!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af4fb3da8e2421417a4371877fcdfc1c9">IsGapAttached</a>(p_meta, NULL), (<span class="stringliteral">&quot;gap is already attached&quot;</span>));</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa91f61d3a5615c23ba7ff4cc8d0d51523">CMetaPiece::mGAP_ATTACHED</a>);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        </div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i] = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;        </div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;  Placing gap half %d, loc=(%d,%d,%d-%d,%d,%d), rot=%d, left=%d, right=%d\n&quot;</span>, i,</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;             descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(), </div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;             descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(),</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;             descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#aa8834282054e90130ff1b36d77bef367">rot</a>[i], descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i], descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]);</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;        </div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        </div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;<span class="preprocessor">        #if 1</span></div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        <span class="comment">// work out gap positioning</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> gap_pos;</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        <span class="keywordtype">float</span> gap_length = 0.0f;</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        <span class="keywordtype">int</span> gap_rot = 0;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;        <span class="keywordflow">switch</span>(descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#aa8834282054e90130ff1b36d77bef367">rot</a>[i])</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;        {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            <span class="keywordflow">case</span> 0: <span class="comment">// east</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                gap_length = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i] + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>()) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> / 2.0f - 1.0f;</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> + gap_length / 2.0f - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                gap_rot = 1;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">// north</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                gap_length = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i] + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> + gap_length / 2.0f - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> / 2.0f + 1.0f;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                gap_rot = 0;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            <span class="keywordflow">case</span> 2: <span class="comment">// west</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                gap_length = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i] + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> / 2.0f + 1.0f;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> + gap_length / 2.0f - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                gap_rot = 1;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;            <span class="keywordflow">case</span> 3: <span class="comment">// south</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                gap_length = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i] + descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[i]) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> + gap_length / 2.0f - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()) * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> - <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> / 2.0f - 1.0f;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                gap_rot = 0;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;                Dbg_MsgAssert(0, (<span class="stringliteral">&quot;not a valid gap rotation&quot;</span>));</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        }</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        </div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] -= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">MAX_WIDTH</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a> / 2.0f;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;        gap_pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] -= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">MAX_LENGTH</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a> / 2.0f;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160; </div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_gap_piece = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#afcdc317ab06725b9f03fe96f26a1a4fe">CreateGapPiece</a>(gap_pos, gap_length, gap_rot);</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        p_gap_piece-&gt;<a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a50a28a73f7a71716ef1f40320729fce5">SetScaleX</a>(gap_length / <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        </div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;        <span class="comment">// create gap</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        <span class="keywordflow">if</span> (i == 0)</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a49a6a6d9b416fa674a37f78be752a1ec">StartGap</a>(p_gap_piece, p_meta, gap_tab_index);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        <span class="keywordflow">else</span>    </div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a412f4a77f4ec3704436da9877639bcb0">EndGap</a>(p_gap_piece, p_meta, gap_tab_index);</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    }   </div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160; </div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a579dfd9999535cfa5bfc5cb95340a582">tabIndex</a> = gap_tab_index;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a8c058cac710dd8916ed889556c4c179f">SetGapInfo</a>(gap_tab_index, descriptor);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160; </div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;}</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160; </div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160; </div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160; </div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment">    Called from: change cursor, cleanup, gap placement, gap adjustment, name change</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1"> 3227</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1">CParkManager::RemoveGap</a>(<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> &amp;descriptor)</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;{</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="preprocessor">    #if 1</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> half = 0; half &lt; 2; half++)</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;   removing gap half %d (%d,%d,%d),(%d,%d,%d) left=%d right=%d, index=%d\n&quot;</span>, half,</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;             descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(),</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;             descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(),</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;             descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[half], descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[half],</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a579dfd9999535cfa5bfc5cb95340a582">tabIndex</a>);</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    </div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta[2];</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> half = 0; half &lt; descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af691c08d4aebf6c1a13a6e823041e7e8">numCompleteHalves</a>; half++)</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> meta_list = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half]);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;        Dbg_MsgAssert(!meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">IsEmpty</a>(), (<span class="stringliteral">&quot;no pieces found at (%d,%d,%d)&quot;</span>, descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()));</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;        </div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="preprocessor">        #if 1</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        <span class="keywordflow">if</span> (!meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a08c2e24f7a8c07127bd9edecd4dfc111">IsSingular</a>())</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;        {</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="comment">//          printf(&quot;failed singularity, half %d\n&quot;, half);</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;            meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#af63476c98072e4b5348c64b38d48abd2">PrintContents</a>();</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        }</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        </div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <span class="comment">// go through list, find metapiece matching location above</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        <span class="comment">// there is only SUPPOSED to be one metapiece in list, but sometimes there are more</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;        <span class="comment">// and I have no idea why, so fuck it</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">GetList</a>();</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        {</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;            p_meta[half] = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area = p_meta[half]-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160; </div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;            <span class="keywordflow">if</span> (area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() == descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &amp;&amp;</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;                area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() == descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() &amp;&amp;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() == descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>())</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160; </div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;            p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;        }</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160; </div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;        <span class="comment">//p_meta[half] = meta_list.GetList()-&gt;GetConcreteMeta();</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;        p_meta[half]-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a4f75ff19e714ad00726b2b9f45f982bb">Highlight</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;        p_meta[half]-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a8b019f43f9a54f9a9cce3b542a928489">clear_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa91f61d3a5615c23ba7ff4cc8d0d51523">CMetaPiece::mGAP_ATTACHED</a>);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    }</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160; </div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordtype">int</span> tab_index;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af4fb3da8e2421417a4371877fcdfc1c9">IsGapAttached</a>(p_meta[0], &amp;tab_index))</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#adda4ef32b8a373c030555c44441aae21">RemoveGap</a>(tab_index);</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    }</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160; </div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a579dfd9999535cfa5bfc5cb95340a582">tabIndex</a> = -1;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="comment">// Reset the cancel flags to the default, to fix TT9493</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    descriptor.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#ae000285eb156ad1d6d98bc3c0842e05c">mCancelFlags</a>=<a class="code" href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a>(CRCD(0x9a27e74d,<span class="stringliteral">&quot;Cancel_Ground&quot;</span>));</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;}</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160; </div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160; </div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160; </div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160; </div>
<div class="line"><a name="l03290"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8d80eb47c0fcce2c73d2333828a1c3e3"> 3290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1">CParkManager::RemoveGap</a>(<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMeta)</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;{</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="keywordtype">int</span> tab_index;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af4fb3da8e2421417a4371877fcdfc1c9">IsGapAttached</a>(pMeta, &amp;tab_index))</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <span class="keywordtype">int</span> half;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *pDesc = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a6e7c6c26972006b4b54f696ff08f750e">GetGapDescriptor</a>(tab_index, &amp;half);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    Dbg_MsgAssert(pDesc, (<span class="stringliteral">&quot;couldn&#39;t find gap descriptor&quot;</span>));</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1">RemoveGap</a>(*pDesc);</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;}</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160; </div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160; </div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160; </div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160; </div>
<div class="line"><a name="l03306"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aea87b77974e723a6f489b6e47b408704"> 3306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aea87b77974e723a6f489b6e47b408704">CParkManager::HighlightMetasWithGaps</a>(<span class="keywordtype">bool</span> highlightOn, <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *pDesc)</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;{</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    <span class="keywordflow">while</span> (p_node)</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    {</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        <span class="keywordflow">if</span> (p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa91f61d3a5615c23ba7ff4cc8d0d51523">CMetaPiece::mGAP_ATTACHED</a>)</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;            p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a4f75ff19e714ad00726b2b9f45f982bb">Highlight</a>(highlightOn, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    }</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160; </div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a9c8fada25e2959505f7bec9faddccca4">SetGapPiecesVisible</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    </div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">if</span> (highlightOn &amp;&amp; pDesc &amp;&amp; pDesc-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a579dfd9999535cfa5bfc5cb95340a582">tabIndex</a> &gt;= 0)</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    {</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#aead99266b8af234bd81b5b7c5791417f">MakeGapWireframe</a>(pDesc-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a579dfd9999535cfa5bfc5cb95340a582">tabIndex</a>);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!highlightOn)</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    {</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a9c8fada25e2959505f7bec9faddccca4">SetGapPiecesVisible</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    }</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;}</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160; </div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;<span class="comment">// Added for use by s_generate_summary_info in mcfunc.cpp</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c2c8efe693fe40a4983a4550e16a9c2"> 3329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c2c8efe693fe40a4983a4550e16a9c2">CParkManager::GetSummaryInfoFromBuffer</a>(<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>, <span class="keywordtype">int</span> *p_numGaps, <span class="keywordtype">int</span> *p_numMetas, <a class="code" href="../../d8/de2/_defines_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *p_theme, <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_todScript, <span class="keywordtype">int</span> *p_width, <span class="keywordtype">int</span> *p_length)</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;{</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header=(<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a>*)<a class="code" href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a>;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    *p_width=p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#ae0f5ed3f88185022b482318ab906364d">mW</a>;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    *p_length=p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3df93799fcde54c687a43f5b3102540e">mL</a>;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    *p_numGaps=p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a>;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    *p_numMetas=p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a>;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    *p_theme=p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a>;</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <span class="keywordflow">if</span> (p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>)</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    {</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;        *p_todScript=p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    }</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    {</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;        *p_todScript=CRCD(0x1ca1ff20,<span class="stringliteral">&quot;default&quot;</span>);</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    }   </div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;}</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160; </div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160; </div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;<span class="comment">    Creates a &quot;stack&quot; of risers within the specified vertical column. If !simpleBuild, will keep exisiting</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;<span class="comment">    riser metapieces if they do the job.</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;<span class="comment">    &#39;top&#39; refers to cell position of top of topmost riser</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03354"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a35ac30898de50a28bc3fe98c6cd186c2"> 3354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a35ac30898de50a28bc3fe98c6cd186c2">CParkManager::output_riser_stack</a>(<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html">BuildFloorParams</a> &amp;params)</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;{</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>, (<span class="stringliteral">&quot;bad bad monkey!!!&quot;</span>));</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    </div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    Dbg_MsgAssert(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a> &gt;= -16 &amp;&amp; params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a> &lt;= 15, (<span class="stringliteral">&quot;faulty floor height %d, at (%d,%d)&quot;</span>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>));</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    </div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="keywordtype">int</span> lowest_neighbor = 10000;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    </div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <span class="comment">// work out lowest neighbor</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a> &gt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>())</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    {</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>-1][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> &lt; lowest_neighbor)</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;            lowest_neighbor = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>-1][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    }</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        lowest_neighbor = (lowest_neighbor &gt; 0) ? 0 : lowest_neighbor;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160; </div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() - 1)</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    {</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>+1][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> &lt; lowest_neighbor)</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            lowest_neighbor = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>+1][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    }</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;        lowest_neighbor = (lowest_neighbor &gt; 0) ? 0 : lowest_neighbor;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160; </div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a> &gt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>())</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>-1].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> &lt; lowest_neighbor)</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;            lowest_neighbor = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>-1].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    }</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        lowest_neighbor = (lowest_neighbor &gt; 0) ? 0 : lowest_neighbor;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160; </div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() - 1)</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    {</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>+1].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> &lt; lowest_neighbor)</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;            lowest_neighbor = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>+1].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    }</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;        lowest_neighbor = (lowest_neighbor &gt; 0) ? 0 : lowest_neighbor;</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160; </div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46">EFloorFlags</a> <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a2074b67dec5fd4d9499e3b978c087086">mHAS_BOTTOM</a>;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> road_test_area(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, 0, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>, 1, 1, 1);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">IsOccupiedByRoad</a>(road_test_area))</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    {</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;        <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46">EFloorFlags</a>(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46aba4df48d4056e79e948b7e17fee78aea">mNO_COVER</a>);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a> = 0;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    </div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="keywordflow">if</span> (lowest_neighbor &lt; params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a>)</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    {</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;        params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa117a7261b60936a3885d9b318376030">bottom</a> = lowest_neighbor;</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    }</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    {</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa117a7261b60936a3885d9b318376030">bottom</a> = params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a>-1;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;        <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46">EFloorFlags</a>(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a2074b67dec5fd4d9499e3b978c087086">mHAS_BOTTOM</a>);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    }</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160; </div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> = <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a>;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> = params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa117a7261b60936a3885d9b318376030">bottom</a>; <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> &lt; params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a>; <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>++)</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> == params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a>-1 &amp;&amp; !(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46aba4df48d4056e79e948b7e17fee78aea">mNO_COVER</a>))</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;            params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46">EFloorFlags</a>(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145">mHAS_TOP</a>);</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;        </div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> == -1)</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        {</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> &lt;= lowest_neighbor)</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;                params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 3; <span class="comment">// group 4 -- bottom level, just below surface</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 2; <span class="comment">// group 3 -- not bottom level, just below surface</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        }</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> &lt; -1)</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;        {</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> &lt;= lowest_neighbor)</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 0; <span class="comment">// group 1 -- bottom level, not touching surface</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 1; <span class="comment">// group 2 -- not bottom level, not touching surface</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        }</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;        {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> == params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a>-1)</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;            {</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> == 0)</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;                    params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 4; <span class="comment">// group 5 -- top level risers sitting on surface</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                    params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 7; <span class="comment">// group 8 -- risers sitting above surface, top level</span></div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;            }</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> == 0)</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;                params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 5; <span class="comment">// group 6 -- risers sitting on surface, but not top level</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a> = 6; <span class="comment">// group 7 -- risers sitting above surface, not top level</span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;        }       </div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        </div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;        params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a> = <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ac8eb9cebdc3a081da028d47ed40ad306">simpleBuild</a>)</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5738cfa7636cfb5ff9a38206a710c13a">build_add_floor_piece_simple</a>(params); </div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad00950b6d2f43e3ed97610dbb69fde80">build_add_floor_piece</a>(params); </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    }</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;}</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160; </div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160; </div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160; </div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160; </div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;<span class="comment">    Creates a riser metapiece, if one is needed.</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03462"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad00950b6d2f43e3ed97610dbb69fde80"> 3462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad00950b6d2f43e3ed97610dbb69fde80">CParkManager::build_add_floor_piece</a>(<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html">BuildFloorParams</a> &amp;params)</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;{</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aab436c08a863a5df696a65ae8a0d3d929">TYPE_EMPTY_BLOCK</a>;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a2074b67dec5fd4d9499e3b978c087086">mHAS_BOTTOM</a>)</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    {</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145">mHAS_TOP</a>)</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;            <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a>][0];</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;            <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a>][1];</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    }</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145">mHAS_TOP</a>)</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    {</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;        <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a>][2];</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    }</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    </div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="comment">// see if floor already included in metapiece at this position</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="keywordtype">int</span> floor_height = params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a> + 1;</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    Dbg_MsgAssert(floor_height &gt;= -16 &amp;&amp; floor_height &lt;= 15, (<span class="stringliteral">&quot;faulty floor height %d, at (%d,%d,%d)&quot;</span>, </div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;                                                              floor_height, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>));</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> floor_bit = (1&lt;&lt;(floor_height+16));</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>][params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">mEnclosedFloor</a> &amp; floor_bit)</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;preexisting riser at %d (%d,%d)!\n&quot;</span>, floor_height, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>);</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    }</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    </div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <span class="comment">// see if floor piece is already there and if it has desired type</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_dims(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>, 1, 1, 1);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(test_dims);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <span class="keywordflow">if</span> (p_node)</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    {</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;        <span class="keywordflow">if</span> (p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a> == <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        {</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;<span class="comment">            if (type == TYPE_FLOOR_BLOCK &amp;&amp; 0)</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;<span class="comment">                printf(&quot;preserving floor block at %d,%d,%d\n&quot;, </span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="comment">                       p_node-&gt;GetMeta()-&gt;GetArea().GetX(),</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;<span class="comment">                       p_node-&gt;GetMeta()-&gt;GetArea().GetY(),</span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="comment">                       p_node-&gt;GetMeta()-&gt;GetArea().GetZ());</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;<span class="comment">            */</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;            </div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;            <span class="comment">// undo mark for kill</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;            p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a8b019f43f9a54f9a9cce3b542a928489">clear_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa142b46cafebc096fc2ead1fe41fe5fd8">CMetaPiece::mMARK_FOR_KILL</a>);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;            p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">DestroyList</a>();</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;        }</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;            p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">DestroyList</a>();</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    }</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    </div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a9cd7d9e137006d39aa2c3563a6ef229a">dryRun</a>)</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    {</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;<span class="preprocessor">        #ifdef USE_BUILD_LIST</span></div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;        <span class="keyword">enum</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        {</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;            MAX_BUILD_LIST_SIZE=10000,</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        };</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;        Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>&lt;MAX_BUILD_LIST_SIZE-1,(<span class="stringliteral">&quot;Build list overflow&quot;</span>));</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160; </div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>)</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>==0,(<span class="stringliteral">&quot;Expected m_build_list_size to be 0&quot;</span>));</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="preprocessor">            #ifndef __USE_EXTERNAL_BUFFER__         </span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;            <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().FrontEndHeap());</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>=(<a class="code" href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html">SBuildListEntry</a>*)<a class="code" href="../../db/dc4/namespace_mem.html#a10246603d03405159c82320b96e3efbf">Mem::Malloc</a>(MAX_BUILD_LIST_SIZE * <span class="keyword">sizeof</span>(<a class="code" href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html">SBuildListEntry</a>));</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;            <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="preprocessor">            #else</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;            ACQUIRE_BUFFER</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a> = (<a class="code" href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html">SBuildListEntry</a>*)__EXTERNAL_BUFFER__;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;        }       </div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>[<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>].<a class="code" href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html#a41b5a54f18b133363cdbd33cd11a89bc">mType</a>=<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>;</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>);</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>[<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>].<a class="code" href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html#a62cd4e431a32717bb02b247d85b26556">mPos</a>=pos;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;        ++<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>;</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;<span class="preprocessor">        #else</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_out = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>));</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>);</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_out);</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160; </div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;        </div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> == <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aa4b95331f57bae68115d1197ee1e6e5da">TYPE_FLOOR_BLOCK</a>)</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;            <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;adding floor block at %d,%d,%d\n&quot;</span>, </div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;                   params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>,</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;                   params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>,</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;                   params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    </div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> == <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aa8973c98408b1a3ebf02fca2798b0f2f7">TYPE_FLOOR_WALL_BLOCK</a>)</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;            <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;adding floor wall block at %d,%d,%d\n&quot;</span>, </div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;                   params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>,</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;                   params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>,</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                   params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>);</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    }</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    {</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a1335d955b795aa6fa39dd813703e8cd5">addCount2</a> += <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>)-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>;</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    }</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4f6b2b1d41b3bbaf5b64a7f9de75da49">addCount</a>++;</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;}</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160; </div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160; </div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160; </div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="comment">    Creates a riser metapiece, period.</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5738cfa7636cfb5ff9a38206a710c13a"> 3575</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5738cfa7636cfb5ff9a38206a710c13a">CParkManager::build_add_floor_piece_simple</a>(<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html">BuildFloorParams</a> &amp;params)</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;{</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aab436c08a863a5df696a65ae8a0d3d929">TYPE_EMPTY_BLOCK</a>;</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a2074b67dec5fd4d9499e3b978c087086">mHAS_BOTTOM</a>)</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    {</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145">mHAS_TOP</a>)</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;            <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a>][0];</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;            <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a>][1];</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    }</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145">mHAS_TOP</a>)</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    {</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">m_riser_piece_checksum</a>[params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">heightSlotOffset</a>][2];</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    }</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    </div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    </div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_out = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>));</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos(params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">y</a>, params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a>);</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_out);</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4f6b2b1d41b3bbaf5b64a7f9de75da49">addCount</a>++;</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;}</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160; </div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160; </div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160; </div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160; </div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;<span class="comment">    Some metapieces contain risers.</span></div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a13acff60d0e5d17662f43721c768be08"> 3605</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a13acff60d0e5d17662f43721c768be08">CParkManager::apply_meta_contained_risers_to_floor</a>(<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMetaPiece, <span class="keywordtype">bool</span> add)</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;{</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>; i++)</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    {</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        <a class="code" href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">CClonedPiece</a> *p_piece = pMetaPiece-&gt;<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad5b8b071df8abe7f248744ddfd154b2b">GetContainedPiece</a>(i)-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">CastToCClonedPiece</a>();</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        </div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;        <span class="comment">// see if this piece affects floor height</span></div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        <a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">SMetaDescriptor</a> &amp;desc = pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">get_desc_at_index</a>(i);</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        <span class="keywordflow">if</span> (desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a>)</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        {</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> riser_area;</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;            p_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">GetCellDims</a>(&amp;riser_area);</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;            riser_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>;</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;            riser_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>;</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;            riser_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>;</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    </div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;            <span class="keywordtype">int</span> start_x = riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            <span class="keywordtype">int</span> end_x = start_x + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;            <span class="keywordtype">int</span> start_z = riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;            <span class="keywordtype">int</span> end_z = start_z + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;<span class="preprocessor">            #if 0</span></div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;            <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;raising floor at: (%d,%d,%d)+(%d,%d,%d), desc.mRiser is %d at 0x%x, index %d\n&quot;</span>,</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;                   pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), pMetaPiece-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(),</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;                   desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">mX</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">mY</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">mZ</a>, desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a>, &amp;desc.<a class="code" href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">mRiser</a>, i);</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = start_x; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; end_x; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;            {</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = start_z; z &lt; end_z; z++)</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;                {</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;                    Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;                                  (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;                    <span class="keywordflow">if</span> (add)</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;                    {</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &lt; riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>())</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;                            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &gt; 15)</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;                            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = 15;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &lt; -16)</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;                            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = -16;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;                    }</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;                    {</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;                        <span class="comment">// Are there non-riser metapieces above this one?</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;                        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area_above = riser_area;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;                        area_above[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>();</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;                        area_above.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">MakeInfinitelyHigh</a>();</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;                        <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> meta_list = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(area_above, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;                        <span class="keywordflow">if</span> (meta_list.<a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">IsEmpty</a>())</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;                        {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &gt; riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>())</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;                                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;                        }</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;                    }</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160; </div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> = riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a> &lt; riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>++)</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;                    {</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;                        <span class="keywordflow">if</span> (add)</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;                            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">mEnclosedFloor</a> |= (1&lt;&lt;(<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>+16+1));</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;                            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">mEnclosedFloor</a> &amp;= ~(1&lt;&lt;(<a class="code" href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">y</a>+16+1));</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;                    }</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;                    </div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;<span class="preprocessor">                    #if 0</span></div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;                    <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;  floor change: (%d,%d) to %d, flags 0x%x, bottom %d, top %d\n&quot;</span>, </div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;                           <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mEnclosedFloor,</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;                           riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + riser_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>());</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;<span class="preprocessor">                    #endif</span></div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;                }</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;            }</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        }</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    }</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;}</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160; </div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160; </div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160; </div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160; </div>
<div class="line"><a name="l03681"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af7caaa7776e54ce34b5702f2621f5c1f"> 3681</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af7caaa7776e54ce34b5702f2621f5c1f">CParkManager::intersection_with_riser_containing_metas</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area)</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;{</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89f423f3af087392036020679c179d86">MakeInfiniteOnY</a>();</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    </div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(area, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a>.GetList();</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordflow">while</span> (p_node)</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    {</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;        <span class="keywordflow">if</span> (p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa75e8b4c28ab587548e577230fd275d47">CMetaPiece::mCONTAINS_RISERS</a>)</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    }</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;}</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160; </div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160; </div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160; </div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160; </div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;<span class="comment">    Change map height. Add metapieces in column to move list. Repeat this for every metapiece in move list. No</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">    metapiece will end up in move list twice, though.</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;<span class="comment">    Good LUCK figuring this out. :)</span></div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a27babeffb0b766497f96107c4e1762ec"> 3706</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a27babeffb0b766497f96107c4e1762ec">CParkManager::slide_column_part_one</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area, <span class="keywordtype">int</span> bottom, <span class="keywordtype">int</span> top, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a> <a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a>, <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> **ppMoveList)</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;{</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_area = area;</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    test_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) bottom;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a22d2c0cd710fc5f932caabdfc8ff8f81">mFIRST_RECURSE</a>)</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89f423f3af087392036020679c179d86">MakeInfiniteOnY</a>();</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;        test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">MakeInfinitelyHigh</a>();</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160; </div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    {</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        {</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;                          (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mMarkAsSlid)</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;            {</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;                <span class="keywordtype">int</span> change_amount = 0;</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a7811f89466f9d8c0f2258fc21789b011">mUNEVEN</a>)</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;                {</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d">mUP</a>)</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;                        change_amount = top - <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;                        change_amount = (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> == top) ? -1 : 0;</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;                }</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;                {</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d">mUP</a>)</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;                        change_amount = 1;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;                        change_amount = -1;</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;                }</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;                </div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> += change_amount;</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a3f69150292cfd1788e93e283d7c48dd4">mSlideAmount</a> = change_amount;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160; </div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &lt; -16 || <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &gt; 15)</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;                {</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;                }</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;            }</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a6aee39508ea9a2210cfc3a587561c50f">mMarkAsSlid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;        }</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    }</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160; </div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <a class="code" href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">CMapListTemp</a> <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">GetMetaPiecesAt</a>(test_area, <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a>.GetList();</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <span class="keywordflow">while</span> (p_node)</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    {</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> meta_area = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;        </div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        <span class="keywordflow">if</span> (!p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>() &amp;&amp; !(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f5880dbbe6c9e3fca444123d3238cf0">CMetaPiece::mMARK_AS_SLID</a>))</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;        {</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;<span class="comment">                Are we actually going to move this meta?</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;<span class="comment">                </span></div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;<span class="comment">                Even surface:</span></div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;<span class="comment">                -yes</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;<span class="comment">                </span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;<span class="comment">                Uneven</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;<span class="comment">                -up: only if lower than top</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;<span class="comment">                -down</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;<span class="comment">            */</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;            </div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f5880dbbe6c9e3fca444123d3238cf0">CMetaPiece::mMARK_AS_SLID</a>);</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;            <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;            <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_new_node = <span class="keyword">new</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a>();</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;            <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;            p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = *ppMoveList;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;            p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = p_meta;           </div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;            *ppMoveList = p_new_node;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160; </div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;<span class="preprocessor">            #if 0</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;            <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;rising meta at: &quot;</span>);</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>().<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a192dc595be3d28c541c90bba4928f4e2">PrintContents</a>();</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;            </div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;            p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a> = 0;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a7811f89466f9d8c0f2258fc21789b011">mUNEVEN</a>)</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;            {</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d">mUP</a>)</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;                    p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a> = top - meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;                    p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a> = (meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() == top) ? -1 : 0;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;            }</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;            {</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d">mUP</a>)</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;                    p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a> = 1;</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;                    p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a> = -1;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;            }</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;            </div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a> recurse_flags = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">ESlideColumnFlags</a>(<a class="code" href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a22d2c0cd710fc5f932caabdfc8ff8f81">mFIRST_RECURSE</a>);</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a27babeffb0b766497f96107c4e1762ec">slide_column_part_one</a>(meta_area, meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), top, recurse_flags, ppMoveList))</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;        }</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    }</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160; </div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;}</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160; </div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160; </div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160; </div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160; </div>
<div class="line"><a name="l03813"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb617e5caea9135e5d5bc13215bf0522"> 3813</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb617e5caea9135e5d5bc13215bf0522">CParkManager::fix_slide_column_part_one_failure</a>()</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;{</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = 0; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    {</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; z++)</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;        {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mMarkAsSlid)</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;            {</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a6aee39508ea9a2210cfc3a587561c50f">mMarkAsSlid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> -= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a3f69150292cfd1788e93e283d7c48dd4">mSlideAmount</a>;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;            }</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &gt; 15)</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = 15;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].mHeight &lt; -16)</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = -16;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;        }</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;    }</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;}</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160; </div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160; </div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160; </div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160; </div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;<span class="comment">    Go through move list, relocate each metapiece</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afaa3d5674cd68fefe1622dc2dcc66013"> 3838</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afaa3d5674cd68fefe1622dc2dcc66013">CParkManager::slide_column_part_two</a>(<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *pMoveList)</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;{</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="comment">//Mem::Heap *p_top_down_heap = Mem::Manager::sHandle().TopDownHeap();</span></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    </div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = pMoveList;</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    <span class="keywordflow">while</span> (p_node)</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;        </div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        <span class="keywordflow">if</span> (p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a> &lt; 0)</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;        {</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a348aedee3ff2dbd23bc426b22cf9642f">kill_pieces_in_layer_under_area</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>());</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        }</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160; </div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5cac96c24586edfa719311b658213429">RelocateMetaPiece</a>(p_meta, 0, p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">mSlideAmount</a>, 0);</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160; </div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;        <span class="comment">//if (p_top_down_heap-&gt;mp_region-&gt;MemAvailable() &lt; 200000)</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;        <span class="comment">//{</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;        <span class="comment">//  GetGenerator()-&gt;GetClonedScene()-&gt;UpdateSuperSectors();</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        <span class="comment">//} </span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;        </div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    }   </div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;}</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160; </div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160; </div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160; </div>
<div class="line"><a name="l03866"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a348aedee3ff2dbd23bc426b22cf9642f"> 3866</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a348aedee3ff2dbd23bc426b22cf9642f">CParkManager::kill_pieces_in_layer_under_area</a>(<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area)</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;{</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> kill_area = area;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    kill_area[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() - 1;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    kill_area[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">H</a>] = 1;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160; </div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="preprocessor">    #if 0</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;killing metas in area: (%d,%d,%d)-(%d,%d,%d)\n&quot;</span>,</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;           kill_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(), kill_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>(), kill_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(),</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;           kill_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), kill_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), kill_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>());</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160; </div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> killed_result = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a25b1215217fe835ae1301a677df5e01f">DestroyMetasInArea</a>(kill_area, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca592474775cfa48dd36b7765d0f99ff44">mEXCLUDE_PIECES_MARKED_AS_SLID</a>);</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0fc04045a28bdfa0b0a9694dbe6f78e6">m_num_metas_killed_in_slide</a> += killed_result&gt;&gt;16;</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7a38cf27d94607f7a84b1d434c197468">m_num_pieces_killed_in_slide</a> += killed_result &amp; 0xFFFF;</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;}</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160; </div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160; </div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160; </div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160; </div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;<span class="comment">    Undo &#39;slid&#39; markers in floor map array. Turn off MARK_AS_SLID flags on metapieces.</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21e6ef5e3f550b2264aece1538e8f031"> 3889</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21e6ef5e3f550b2264aece1538e8f031">CParkManager::finish_slide_column</a>()</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;{</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    {</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        {</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;                          (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a6aee39508ea9a2210cfc3a587561c50f">mMarkAsSlid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a3f69150292cfd1788e93e283d7c48dd4">mSlideAmount</a> = 0;</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        }</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    }</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160; </div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    {</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>()-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a8b019f43f9a54f9a9cce3b542a928489">clear_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f5880dbbe6c9e3fca444123d3238cf0">CMetaPiece::mMARK_AS_SLID</a>);</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    }</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;}</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<span class="preprocessor">#ifdef USE_BUILD_LIST</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74d514765cd63c4cf3ba09021e8e2a3a"> 3911</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74d514765cd63c4cf3ba09021e8e2a3a">CParkManager::create_metas_in_build_list</a>()</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;{</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>; ++i)</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    {</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>,(<span class="stringliteral">&quot;NULL mp_build_list_entry&quot;</span>));</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_out = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>[i].mType));</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>[i].mPos, p_out);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    }   </div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>=0;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>)</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    {</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;<span class="preprocessor">        #ifndef __USE_EXTERNAL_BUFFER__</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;        <a class="code" href="../../db/dc4/namespace_mem.html#aeedb606ea94a3398fdcfa3101c5ea8d9">Mem::Free</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>);</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>=NULL;</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    }   </div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;}</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160; </div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="comment">    Turns the height map into actual riser geometry. Creates all the CConcreteMetaPieces that are needed, destroys </span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;<span class="comment">    the ones that aren&#39;t. If an existing CConcreteMetaPiece matches the height map, it is preserved.</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;<span class="comment">    The simpleBuild parameter causes all riser metapieces to be destroyed and rebuilt. Use this parameter</span></div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;<span class="comment">    when you know you&#39;ll be doing this anyway.</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;<span class="comment">    dryRun means don&#39;t actually create or destroy pieces, just make a count</span></div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03939"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a897030eed0d8e64a5af4d363405f77be"> 3939</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a897030eed0d8e64a5af4d363405f77be">CParkManager::generate_floor_pieces_from_height_map</a>(<span class="keywordtype">bool</span> simpleBuild, <span class="keywordtype">bool</span> dryRun)</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;{</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::generate_floor_pieces_from_height_map(simpleBuild = %d)&quot;</span>, simpleBuild);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    </div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    </div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    <span class="comment">//printf(&quot;=============== generate_floor_pieces_from_height_map() ========================\n&quot;);</span></div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160; </div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <span class="comment">// mark all existing floor pieces for destruction (some will be unmarked later)</span></div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <span class="keywordtype">int</span> mark_count = 0; <span class="comment">// counts all risers existing upon entering this function</span></div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    {</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>();</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;        <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;        {</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa142b46cafebc096fc2ead1fe41fe5fd8">CMetaPiece::mMARK_FOR_KILL</a>);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;            mark_count++;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        }</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    }</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    mark_count += <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0fc04045a28bdfa0b0a9694dbe6f78e6">m_num_metas_killed_in_slide</a>;</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160; </div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;<span class="preprocessor">    #ifdef USE_BUILD_LIST</span></div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>=0;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>==NULL,(<span class="stringliteral">&quot;Non-NULL mp_build_list_entry&quot;</span>));</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160; </div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    </div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>, (<span class="stringliteral">&quot;bad bad monkey!!!&quot;</span>));</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    <a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html">BuildFloorParams</a> riser_build_params;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ac8eb9cebdc3a081da028d47ed40ad306">simpleBuild</a> = simpleBuild;</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;    riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a9cd7d9e137006d39aa2c3563a6ef229a">dryRun</a> = dryRun;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4f6b2b1d41b3bbaf5b64a7f9de75da49">addCount</a> = 0; <span class="comment">// counts all risers added by the output_riser_stack() calls</span></div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a1335d955b795aa6fa39dd813703e8cd5">addCount2</a> = 0;</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() - 1; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() + 1; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    {</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() - 1; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() + 1; z++)</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;        {</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;            Dbg_MsgAssert(<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &gt;= 0 &amp;&amp; z &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> &amp;&amp; z &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>,</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;                          (<span class="stringliteral">&quot;out of bounds (%d,%d)&quot;</span>, <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>, z));</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;            riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">x</a> = <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>;</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;            riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">z</a> = z;</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;            riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">top</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>][z].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;            riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa117a7261b60936a3885d9b318376030">bottom</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>();</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a35ac30898de50a28bc3fe98c6cd186c2">output_riser_stack</a>(riser_build_params);</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        }</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160; </div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;<span class="preprocessor">        #ifdef __PLAT_XBOX__</span></div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;        <span class="comment">// On the XBox the large amount of CPU time taken up by rebuilding the park causes a glitch when</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;        <span class="comment">// wma music is playing. So make sure Pcm::Update gets called often whilst in this inner loop.</span></div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;        DirectSoundDoWork();</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;        <a class="code" href="../../de/d3e/namespace_pcm.html#af405ca6aedfbd64805e40505bd0004ab">Pcm::Update</a>();</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;<span class="preprocessor">        #endif // __PLAT_XBOX__</span></div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;<span class="preprocessor">        #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        <span class="comment">// Same for the NGC ...</span></div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;        <a class="code" href="../../de/d3e/namespace_pcm.html#af405ca6aedfbd64805e40505bd0004ab">Pcm::Update</a>();</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;<span class="preprocessor">        #endif // __PLAT_NGC__</span></div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    }</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160; </div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    <span class="comment">// remove all marked floor piece</span></div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keywordtype">int</span> kill_count = 0; <span class="comment">// counts risers killed</span></div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <span class="keywordtype">int</span> kill_count2 = 0; <span class="comment">// counts contained pieces</span></div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    <span class="keywordtype">int</span> left_count = 0; <span class="comment">// counts risers not killed plus those added</span></div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    {</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_nextNode = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();       <span class="comment">// get next node now, as DestroyConcretMeta, below, can delete current node</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;        <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *p_meta = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>();</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;        <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa142b46cafebc096fc2ead1fe41fe5fd8">CMetaPiece::mMARK_FOR_KILL</a>)</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        {</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;            kill_count++;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;            kill_count2 += p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">m_num_used_entries</a>;</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;            <span class="keywordflow">if</span> (!dryRun)</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;            {</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                <span class="comment">//p_node-&gt;GetConcreteMeta()-&gt;GetArea().PrintContents();</span></div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802">mDONT_DESTROY_PIECES_ABOVE</a>);</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;            }</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;        }</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>())</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;            left_count++;</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;        p_node = p_nextNode;</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    }</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    kill_count += <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0fc04045a28bdfa0b0a9694dbe6f78e6">m_num_metas_killed_in_slide</a>;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    kill_count2 += <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7a38cf27d94607f7a84b1d434c197468">m_num_pieces_killed_in_slide</a>;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    </div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160; </div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;<span class="preprocessor">    #ifdef USE_BUILD_LIST</span></div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ad698d8c256b91c9d38a193177985a1a8">GetClonedScene</a>()-&gt;<a class="code" href="../../de/d7a/class_nx_1_1_c_scene.html#aac9fc3daa60c4ef1743df068ad929489">UpdateSuperSectors</a>();   </div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;    <span class="keywordflow">if</span> (!dryRun)</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    {</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;        left_count+=<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">m_build_list_size</a>;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74d514765cd63c4cf3ba09021e8e2a3a">create_metas_in_build_list</a>();</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    }</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">mp_build_list_entry</a>==NULL,(<span class="stringliteral">&quot;Non-NULL mp_build_list_entry&quot;</span>));</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;        </div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="comment">// risers preexisting + risers added - risers killed == risers left</span></div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;    Dbg_Assert(dryRun || riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4f6b2b1d41b3bbaf5b64a7f9de75da49">addCount</a> == left_count + kill_count - mark_count);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    </div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    <span class="comment">//printf(&quot;riser_build_params.addCount = %d kill_count = %d, kill_count2 = %d\n&quot;,riser_build_params.addCount,kill_count,kill_count2);</span></div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    </div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <span class="comment">//if (dryRun)</span></div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    <span class="comment">//  printf(&quot;DRYRUN: &quot;);</span></div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;    <span class="comment">//printf(&quot;marked %d pieces, killed %d, not killed %d, left %d, added %d\n&quot;, </span></div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    <span class="comment">//     mark_count, kill_count, mark_count - kill_count, left_count, riser_build_params.addCount);</span></div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    <span class="comment">//printf(&quot;addCount2 = %d, killCount2 = %d\n&quot;, riser_build_params.addCount2, kill_count2);</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160; </div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    <span class="keywordflow">if</span> (dryRun &amp;&amp; (riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4f6b2b1d41b3bbaf5b64a7f9de75da49">addCount</a> &gt; kill_count || riser_build_params.<a class="code" href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a1335d955b795aa6fa39dd813703e8cd5">addCount2</a> &gt; kill_count2))</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    {</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    }</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    </div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <span class="comment">//if (dryRun &amp;&amp; (riser_build_params.addCount - kill_count &gt; 200))</span></div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    <span class="comment">//{</span></div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    <span class="comment">//  // Don&#39;t allow height changes that will result in too many pieces being created, to prevent</span></div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <span class="comment">//  // running out of memory.</span></div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="comment">//  return false;</span></div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160; </div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;}</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160; </div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160; </div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160; </div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160; </div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;<span class="comment">    Create new list if none</span></div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3300b128263d8d90d8399d2bb596de75"> 4068</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3300b128263d8d90d8399d2bb596de75">CParkManager::add_metapiece_to_node_list</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *pMetaToAdd, <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> **ppList)</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;{</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_test_node = *ppList;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;    <span class="keywordflow">while</span>(p_test_node)</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;    {</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        <span class="keywordflow">if</span> (p_test_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>() == pMetaToAdd) <span class="keywordflow">return</span>; <span class="comment">// it&#39;s in there</span></div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;        p_test_node = p_test_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;    }</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160; </div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    <span class="comment">// not in list already, so add it</span></div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_new_node = <span class="keyword">new</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a>();</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = pMetaToAdd;</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    p_new_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = *ppList;</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;    *ppList = p_new_node;</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;}</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160; </div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160; </div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160; </div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160; </div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;<span class="comment">    Opposite of above</span></div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04092"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9905eaa7ded54264bd143294115ef509"> 4092</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9905eaa7ded54264bd143294115ef509">CParkManager::remove_metapiece_from_node_list</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html">CMetaPiece</a> *pMetaToRemove, <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> **ppList)</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;{</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = *ppList;</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_prev = NULL;</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    {</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;        <span class="keywordflow">if</span> (p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">GetMeta</a>() == pMetaToRemove)</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        {</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;            <span class="keywordflow">if</span> (p_prev)</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;                p_prev-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;                *ppList = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160; </div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;            <span class="keyword">delete</span> p_node;</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        }</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;        </div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;        p_prev = p_node;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;        p_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    }</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;}</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160; </div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160; </div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160; </div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160; </div>
<div class="line"><a name="l04117"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a80150a1b343fc4ae60556567445cb669"> 4117</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a80150a1b343fc4ae60556567445cb669">CParkManager::bucketify_metapiece</a>(<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMeta)</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;{</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = 0; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    {</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;        {</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;            <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;            <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_new_entry = <span class="keyword">new</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a>();</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;            <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;            p_new_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = pMeta;</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;            </div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;            p_new_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()][z + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()];</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()][z + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()] = p_new_entry;</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;        }</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;    }</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;}</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160; </div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160; </div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160; </div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160; </div>
<div class="line"><a name="l04137"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae0acea90cbebce82c1cb786dfb3c335f"> 4137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae0acea90cbebce82c1cb786dfb3c335f">CParkManager::debucketify_metapiece</a>(<a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *pMeta)</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;{</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> = 0; <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> &lt; pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(); <a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a>++)</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    {</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>(); z++)</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        {</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;            <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_prev = NULL;</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;            <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_entry = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()][z + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()];</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;            <span class="keywordflow">while</span>(p_entry)</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;            {</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;                <span class="comment">// piece should occur only once per list</span></div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;                </div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;                <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> == pMeta)</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;                {</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;                    <span class="keywordflow">if</span> (p_prev)</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;                        p_prev-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;                        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">mp_bucket_list</a>[<a class="code" href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">x</a> + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>()][z + pMeta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">m_cell_area</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>()] = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;                    <span class="keyword">delete</span> p_entry;</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;                }</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    </div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;                p_prev = p_entry;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                p_entry = p_entry-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a>;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;            }</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;        } <span class="comment">// end for z</span></div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    } <span class="comment">// end for x</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;}</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160; </div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160; </div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160; </div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160; </div>
<div class="line"><a name="l04169"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1baa2aca5156d3494a14f7330106abd5"> 4169</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1baa2aca5156d3494a14f7330106abd5">CParkManager::create_abstract_metapieces</a>()</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;{</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::create_abstract_metapieces()&quot;</span>);</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;    </div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;<span class="comment">        This add_later stuff is so we can create singular metapieces that weren&#39;t defined in </span></div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;<span class="comment">        Ed_standard_metapieces. Every CPiece that exists must have a corresponding singular</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;<span class="comment">        metapiece, at least an abstract one.</span></div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> add_later_tab[1000];</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> add_later_count = 0;</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    </div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_metapiece_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_standard_metapieces&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    </div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="comment">// this first loop makes sure that metapieces named in EdPieces2.q actually exist</span></div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; p_metapiece_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>(); i++)</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    {</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;        <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_entry = p_metapiece_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(i);</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;        </div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;        <span class="comment">// see if singular or multiple metapiece</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> single_crc = 0;</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;        <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">GetChecksum</a>(<span class="stringliteral">&quot;single&quot;</span>, &amp;single_crc))</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;        {</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#acd8d346033b2e54f9d1fad091af11978">GetMasterPiece</a>(single_crc, <span class="keyword">false</span>);</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;        }       </div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;    } <span class="comment">// end for</span></div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160; </div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160; </div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="comment">// now, build abstract metapieces from Ed_standard_metapieces array</span></div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; p_metapiece_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>(); i++)</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    {</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;        <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_entry = p_metapiece_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(i);</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;        </div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;        <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_meta = <span class="keyword">new</span> <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a>();</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;        </div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;        <span class="comment">// see if singular or multiple metapiece</span></div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> single_crc = 0;</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;        <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_multiple_array = NULL;</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;        <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">GetChecksum</a>(<span class="stringliteral">&quot;single&quot;</span>, &amp;single_crc))</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;        {</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">initialize_desc_table</a>(1);</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;            </div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;            <a class="code" href="../../d4/d52/class_ed_1_1_c_source_piece.html">CSourcePiece</a> *p_source_piece = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#acd8d346033b2e54f9d1fad091af11978">GetMasterPiece</a>(single_crc, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;            </div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area(0, 0, 0);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;            p_source_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">GetCellDims</a>(&amp;area);</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;            <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_pos_array = NULL;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;            <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">GetArray</a>(<span class="stringliteral">&quot;pos&quot;</span>, &amp;p_pos_array))</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;            {</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;                area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(0), p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(1), p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(2));</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;            }</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160; </div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;            p_meta-&gt;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ad938a90bce77184a941ec3efeb764b">add_piece</a>(p_source_piece, &amp;area);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160; </div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;            <span class="comment">// if just a singular meta, use the name checksum already associated with single piece</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a> = p_source_piece-&gt;<a class="code" href="../../d4/d52/class_ed_1_1_c_source_piece.html#ad6a75cea46307a5f23bee920bad5a704">GetType</a>();</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;            Dbg_Assert(add_later_count &lt; 1000);</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;            add_later_tab[add_later_count++] = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a>;         </div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b">CMetaPiece::mSINGULAR</a>);</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;            </div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;            <span class="comment">// Finally, Check to see if it is a special type</span></div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;            <span class="comment">// and add it to the table of special types: </span></div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;            </div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> special_type;</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;            <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">GetChecksum</a>(CRCD(0xf176a9fd,<span class="stringliteral">&quot;special_type&quot;</span>), &amp;special_type))</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;            {</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160; </div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;                <span class="comment">// gap piece detection here ----- need to reinstate this when we do gaps                </span></div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0x2813ab8a,<span class="stringliteral">&quot;gap_placement&quot;</span>))</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9c39276c15cca0b960a10838da6817a1">CMetaPiece::mGAP_PLACEMENT</a>);</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0xfc26b6f4,<span class="stringliteral">&quot;area_selection&quot;</span>))</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afab21be7eb6483d088bc53db28fa66803a">CMetaPiece::mAREA_SELECTION</a>);</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0xffd81c08,<span class="stringliteral">&quot;rail_placement&quot;</span>))</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa66d931e44123217553a2d69ea08f2fc9">CMetaPiece::mRAIL_PLACEMENT</a>);</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;                </div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0x48fa9c7b,<span class="stringliteral">&quot;restart_1&quot;</span>))</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda065af787e48b2e8ee826d1cb792a8887">CParkGenerator::vONE_PLAYER</a>, single_crc);</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0x419183b2,<span class="stringliteral">&quot;restart_multi&quot;</span>))</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda6ffb66429982e3e1af3ac70fe420da96">CParkGenerator::vMULTIPLAYER</a>, single_crc);</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0xe69aefaf,<span class="stringliteral">&quot;restart_horse&quot;</span>))</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda12e71f38140a8263fd862ad7aa8f48b8">CParkGenerator::vHORSE</a>, single_crc);</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0xa091ce25,<span class="stringliteral">&quot;king_of_hill&quot;</span>))</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8ddaf8e2875c2b8c0c587f32e241c36fed28">CParkGenerator::vKING_OF_HILL</a>, single_crc);</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;                </div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0x74b0f4e9,<span class="stringliteral">&quot;red_flag&quot;</span>))</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;                {</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda545425aa6fd98286fc2082f474a3a1a6">CParkGenerator::vRED_FLAG</a>, single_crc);</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">CMetaPiece::mNOT_ON_GC</a>);</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;                }</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0xc893acf8,<span class="stringliteral">&quot;green_flag&quot;</span>))</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;                {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda3d160baa2091e0d102ee815309ebe903">CParkGenerator::vGREEN_FLAG</a>, single_crc);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">CMetaPiece::mNOT_ON_GC</a>);</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;                }</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0x40bdfa7e,<span class="stringliteral">&quot;blue_flag&quot;</span>))</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;                {</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda21a485de4dbef2cca27f9233636f7a06">CParkGenerator::vBLUE_FLAG</a>, single_crc);</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">CMetaPiece::mNOT_ON_GC</a>);</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;                }</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;                <span class="keywordflow">if</span> (special_type == CRCD(0x3ae047fc,<span class="stringliteral">&quot;yellow_flag&quot;</span>))</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;                {</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;                    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda9b3b4fe7e5939d372c8905d1e7997620">CParkGenerator::vYELLOW_FLAG</a>, single_crc);</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;                    p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">CMetaPiece::mNOT_ON_GC</a>);</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;                }</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;                    </div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;            }</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        }</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">GetArray</a>(<span class="stringliteral">&quot;multiple&quot;</span>, &amp;p_multiple_array))</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;        {</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;            <span class="keywordtype">bool</span> contains_risers = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">initialize_desc_table</a>(p_multiple_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>());</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;            </div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> j = 0; j &lt; p_multiple_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>(); j++)</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;            {</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;                <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_name_pos = p_multiple_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(j);</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;                </div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;                <a class="code" href="../../d4/d58/class_script_1_1_c_component.html">Script::CComponent</a> *p_name_crc_comp = p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0481773c309ece51ef8c70fc083436b">GetNextComponent</a>(NULL);</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;                Dbg_Assert(p_name_crc_comp-&gt;<a class="code" href="../../d4/d58/class_script_1_1_c_component.html#ac85f36ee412380483c287cbff5b3e102">mType</a> == <a class="code" href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21a82a1cd12d138a0227cb8e884424749b5">ESYMBOLTYPE_NAME</a>);             </div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;                <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> name_crc = p_name_crc_comp-&gt;<a class="code" href="../../d4/d58/class_script_1_1_c_component.html#a32904a2967f1608f483930640e8ed241">mChecksum</a>;</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160; </div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;                <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_pos_array = NULL;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;                p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">GetArray</a>(NONAME, &amp;p_pos_array, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;                </div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;                <a class="code" href="../../d4/d52/class_ed_1_1_c_source_piece.html">CSourcePiece</a> *p_source_piece = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#acd8d346033b2e54f9d1fad091af11978">GetMasterPiece</a>(name_crc, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;                Dbg_Assert(add_later_count &lt; 1000);</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;                add_later_tab[add_later_count++] = name_crc;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;                </div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;                <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;                p_source_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">GetCellDims</a>(&amp;area);</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;                area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(0), p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(1), p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(2));</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    </div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;                <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;                <span class="keywordflow">if</span> (p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>() &gt; 3)</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;                    <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = (<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>) p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(3);</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;                </div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;                <span class="keywordflow">if</span> (p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(CRCD(0xcd75a3f,<span class="stringliteral">&quot;riser&quot;</span>)))</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;                    contains_risers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;                p_meta-&gt;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ad938a90bce77184a941ec3efeb764b">add_piece</a>(p_source_piece, &amp;area, <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>, p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(CRCD(0xcd75a3f,<span class="stringliteral">&quot;riser&quot;</span>)));</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;            } <span class="comment">// end for</span></div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160; </div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;            <span class="keywordflow">if</span> (contains_risers)</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;                p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa75e8b4c28ab587548e577230fd275d47">CMetaPiece::mCONTAINS_RISERS</a>);</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        }</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">GetArray</a>(<span class="stringliteral">&quot;ack&quot;</span>, &amp;p_multiple_array))</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;        {</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">initialize_desc_table</a>(p_multiple_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>());</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;            </div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> j = 0; j &lt; p_multiple_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>(); j++)</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;            {</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;                <a class="code" href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a> *p_name_pos = p_multiple_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(j);</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;                </div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;                <a class="code" href="../../d4/d58/class_script_1_1_c_component.html">Script::CComponent</a> *p_name_crc_comp = p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0481773c309ece51ef8c70fc083436b">GetNextComponent</a>(NULL);</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;                Dbg_Assert(p_name_crc_comp-&gt;<a class="code" href="../../d4/d58/class_script_1_1_c_component.html#ac85f36ee412380483c287cbff5b3e102">mType</a> == <a class="code" href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21a82a1cd12d138a0227cb8e884424749b5">ESYMBOLTYPE_NAME</a>);             </div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;                <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> name_crc = p_name_crc_comp-&gt;<a class="code" href="../../d4/d58/class_script_1_1_c_component.html#a32904a2967f1608f483930640e8ed241">mChecksum</a>;</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160; </div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;                <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_pos_array = NULL;</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;                p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">GetArray</a>(NONAME, &amp;p_pos_array, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;                </div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;                <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_source_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(name_crc);</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;                </div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;                <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area = p_source_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;                area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(0), p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(1), p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(2));</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    </div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;                <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = <a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a>;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;                <span class="keywordflow">if</span> (p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>() &gt; 3)</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;                    <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = (<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>) p_pos_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">GetInteger</a>(3);</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;                </div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;                p_meta-&gt;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a99858f9bd03fcad25da123aa7f5d289c">add_piece_dumb</a>(p_source_meta, &amp;area, <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>, p_name_pos-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(CRCD(0xcd75a3f,<span class="stringliteral">&quot;riser&quot;</span>)));</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;            } <span class="comment">// end for</span></div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;        }</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;        {</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;            Dbg_MsgAssert(0, (<span class="stringliteral">&quot;screwy entry %d in Ed_standard_metapieces&quot;</span>, i));</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;        }</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;        </div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;<span class="preprocessor">        #if 1</span></div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;<span class="preprocessor">        #ifdef __NOPT_ASSERT__</span></div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> test_area = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;        Dbg_MsgAssert(test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>() &gt; 0 &amp;&amp; test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>() &gt; 0 &amp;&amp; test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>() &gt; 0, </div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;                      (<span class="stringliteral">&quot;metapiece %s has invalid dimensions (%d,%d,%d)&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>()),</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;                       test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>()));</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;<span class="preprocessor">        #if 0</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;        <span class="keywordflow">if</span> (p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>() == <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<span class="stringliteral">&quot;Sk4Ed_Fence_10x10&quot;</span>))</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;            <a class="code" href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a>(<span class="stringliteral">&quot;OY! metapiece %s has dimensions (%d,%d,%d)\n&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>()),</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;                       test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">GetH</a>(), test_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>());</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160; </div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;<span class="preprocessor">        #endif      </span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;        </div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        <span class="comment">// the name provided in EdPieces.q, if any, takes precedence</span></div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;        <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">GetChecksum</a>(<span class="stringliteral">&quot;name&quot;</span>, &amp;p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a>))</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        {</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;            <span class="comment">// this metapiece has been renamed, so we must treat it as a non-singular piece</span></div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a8b019f43f9a54f9a9cce3b542a928489">clear_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b">CMetaPiece::mSINGULAR</a>);</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;        }</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;        <span class="comment">// make sure no piece with checksum currently exists</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;        Dbg_MsgAssert(!<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a>), (<span class="stringliteral">&quot;name checksum already used for metapiece&quot;</span>));</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160; </div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;        <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(<span class="stringliteral">&quot;is_riser&quot;</span>))</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f1c16cbdfc97d87f2958c1b2da115c9">CMetaPiece::mIS_RISER</a>);</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;        <span class="keywordflow">if</span> (p_entry-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">ContainsFlag</a>(<span class="stringliteral">&quot;no_rails&quot;</span>))</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;        {</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;<span class="preprocessor">#           ifdef __NOPT_ASSERT__</span></div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;            <a class="code" href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a>(<span class="stringliteral">&quot;No rails for %s\n&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a>));</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;<span class="preprocessor">#           endif</span></div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;            p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa7b64ec5e561d8eda7f277232bc5f3859">CMetaPiece::mNO_RAILS</a>);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;        }</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;        </div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <span class="keyword">new</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a>();</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = p_meta;</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a>;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a> = p_node;</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">m_num_abstract_metapieces</a>++;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    } <span class="comment">// end for</span></div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160; </div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    </div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; add_later_count; i++)</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;    {</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(add_later_tab[i]))</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;        </div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;        <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_meta = <span class="keyword">new</span> <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a>();</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;        </div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">initialize_desc_table</a>(1);</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;        <a class="code" href="../../d4/d52/class_ed_1_1_c_source_piece.html">CSourcePiece</a> *p_source_piece = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#acd8d346033b2e54f9d1fad091af11978">GetMasterPiece</a>(add_later_tab[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160; </div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;        <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> area(0, 0, 0);</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;        p_source_piece-&gt;<a class="code" href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">GetCellDims</a>(&amp;area);</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        p_meta-&gt;<a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ad938a90bce77184a941ec3efeb764b">add_piece</a>(p_source_piece, &amp;area);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160; </div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">m_name_checksum</a> = add_later_tab[i];</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;        p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">set_flag</a>(<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b">CMetaPiece::mSINGULAR</a>);</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160; </div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">PushContext</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">GetParkEditorHeap</a>());</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <span class="keyword">new</span> <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a>();</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;        <a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a>().<a class="code" href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">PopContext</a>();</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">mp_meta</a> = p_meta;</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;        p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">mp_next</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a>;</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">mp_abstract_metapiece_list</a> = p_node;</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">m_num_abstract_metapieces</a>++;</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;    }</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;}</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160; </div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160; </div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160; </div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160; </div>
<div class="line"><a name="l04422"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec"> 4422</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">CParkManager::SetRestartTypeId</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">CParkGenerator::RestartType</a> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>, <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;{</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160; </div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <span class="comment">// Mick </span></div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;<span class="comment">//  printf (&quot;SetRestartTypeId(%d,%x)\n&quot;,type,id);   </span></div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> &gt; <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda06c23a59e887bf29f12dd36957012b22">CParkGenerator::vEMPTY</a> &amp;&amp; <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> &lt; <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda3ce742273f95a26642cd972e40d8411d">CParkGenerator::vNUM_RESTART_TYPES</a>)</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    {</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a31ab25a35d83d838070c46f31d41fa14">m_restartPieceIdTab</a>[<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>] = <a class="code" href="../../d6/d01/p__ezcommon_8h.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a>;     </div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    }</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160; </div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;<span class="comment">/*  </span></div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;<span class="comment">    switch(type)</span></div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;<span class="comment">        case CParkGenerator::vONE_PLAYER:</span></div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;<span class="comment">//          printf (&quot;Found vONE_PLAYER\n&quot;);</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;<span class="comment">            m_restartPieceIdTab[0] = id;</span></div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;<span class="comment">        case CParkGenerator::vMULTIPLAYER:</span></div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;<span class="comment">//          printf (&quot;Found vMULTIPLAYER\n&quot;);</span></div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;<span class="comment">            m_restartPieceIdTab[1] = id;</span></div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;<span class="comment">        case CParkGenerator::vHORSE:</span></div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;<span class="comment">//          printf (&quot;Found vHORSE\n&quot;);</span></div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;<span class="comment">            m_restartPieceIdTab[2] = id;</span></div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;<span class="comment">        case CParkGenerator::vKING_OF_HILL:</span></div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;<span class="comment">//          printf (&quot;Found vKING_OF_HILL\n&quot;);</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;<span class="comment">            m_restartPieceIdTab[3] = id;</span></div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;<span class="comment">        default:</span></div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;<span class="comment">            break;</span></div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;}</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160; </div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160; </div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160; </div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160; </div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;<span class="comment">// returns the type of restart piece this is, or vEMPTY is it is not a restart piece</span></div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;<span class="comment">// (vEMPTY is 0, so the return value can be treated as true/false)</span></div>
<div class="line"><a name="l04463"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0207ea29681485f462ca08af7251d579"> 4463</a></span>&#160;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">CParkGenerator::RestartType</a> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0207ea29681485f462ca08af7251d579">CParkManager::IsRestartPiece</a>(<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;{</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda065af787e48b2e8ee826d1cb792a8887">CParkGenerator::vONE_PLAYER</a>; <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a> &lt; <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda3ce742273f95a26642cd972e40d8411d">CParkGenerator::vNUM_RESTART_TYPES</a>; <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>++)</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    {</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a31ab25a35d83d838070c46f31d41fa14">m_restartPieceIdTab</a>[<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>])</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;        {</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">CParkGenerator::RestartType</a>) <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>;</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;        }</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;    }</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda06c23a59e887bf29f12dd36957012b22">CParkGenerator::vEMPTY</a>;</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160; </div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;<span class="comment">    if (id == m_restartPieceIdTab[0])</span></div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;<span class="comment">        return CParkGenerator::vONE_PLAYER;</span></div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;<span class="comment">    if (id == m_restartPieceIdTab[1])</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;<span class="comment">        return CParkGenerator::vMULTIPLAYER;</span></div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;<span class="comment">    if (id == m_restartPieceIdTab[2])</span></div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;<span class="comment">        return CParkGenerator::vHORSE;</span></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;<span class="comment">    if (id == m_restartPieceIdTab[3])</span></div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;<span class="comment">        return CParkGenerator::vKING_OF_HILL;</span></div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;<span class="comment">    return CParkGenerator::vEMPTY;</span></div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;}</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160; </div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;<span class="comment">Commented out cos I just discovered Destroy() does pretty much the same thing!</span></div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;<span class="comment">// K: This is for freeing up as much memory as possible when playing a park, so that</span></div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;<span class="comment">// the number of players can be increased. Each player requires 830K.</span></div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;<span class="comment">void CParkManager::FreeUpMemoryForPlayingPark()</span></div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;<span class="comment">    // Delete everything in the park editor heap, so that it can be removed, freeing</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;<span class="comment">    // up 900K.</span></div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;<span class="comment">    // First delete the cursor.</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;<span class="comment">    Ed::CParkEditor::Instance()-&gt;DeleteCursor();</span></div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;<span class="comment">    printf(&quot;After deleting cursor ...\n&quot;);  </span></div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;<span class="comment">    printf(&quot;Num CMapListNode&#39;s = %d\n&quot;,Ed::CMapListNode::SGetNumUsedItems());</span></div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;<span class="comment">    MemView_AnalyzeHeap(mp_generator-&gt;GetParkEditorHeap());</span></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;<span class="comment">    mp_generator-&gt;DeleteSourceAndClonedPieces();</span></div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;<span class="comment">    // Delete the concrete metapieces</span></div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;<span class="comment">    CMapListNode *p_node = mp_concrete_metapiece_list;</span></div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;<span class="comment">    while(p_node)</span></div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;<span class="comment">        CMapListNode *p_next_node = p_node-&gt;GetNext();</span></div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;<span class="comment">        delete p_node-&gt;GetConcreteMeta();</span></div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;<span class="comment">        delete p_node;</span></div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;<span class="comment">        p_node = p_next_node;</span></div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;<span class="comment">    m_num_concrete_metapieces=0;</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;<span class="comment">    mp_concrete_metapiece_list=NULL;</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;<span class="comment">    printf(&quot;After deleting CParkManager::mp_concrete_metapiece_list ...\n&quot;);    </span></div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;<span class="comment">    printf(&quot;Num CMapListNode&#39;s = %d\n&quot;,Ed::CMapListNode::SGetNumUsedItems());</span></div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;<span class="comment">    MemView_AnalyzeHeap(Ed::CParkManager::sInstance()-&gt;GetGenerator()-&gt;GetParkEditorHeap());</span></div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;<span class="comment">    // Free up the abstract metapieces. </span></div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;<span class="comment">    p_node = mp_abstract_metapiece_list;</span></div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;<span class="comment">    while(p_node)</span></div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;<span class="comment">        CMapListNode *p_next_node = p_node-&gt;GetNext();</span></div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;<span class="comment">        delete p_node-&gt;GetAbstractMeta();</span></div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;<span class="comment">        delete p_node;</span></div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;<span class="comment">        p_node = p_next_node;</span></div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;<span class="comment">    m_num_abstract_metapieces=0;</span></div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;<span class="comment">    mp_abstract_metapiece_list=NULL;</span></div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;<span class="comment">    printf(&quot;After deleting CParkManager::mp_abstract_metapiece_list ...\n&quot;);    </span></div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;<span class="comment">    printf(&quot;Num CMapListNode&#39;s = %d\n&quot;,Ed::CMapListNode::SGetNumUsedItems());</span></div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;<span class="comment">    MemView_AnalyzeHeap(Ed::CParkManager::sInstance()-&gt;GetGenerator()-&gt;GetParkEditorHeap());</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;<span class="comment">    // The park editor heap is now totally empty!</span></div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;<span class="comment">    // So delete it.</span></div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;<span class="comment">    mp_generator-&gt;DeleteParkEditorHeap();</span></div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;<span class="comment">    printf(&quot;After deleting stuff ...\n&quot;);   </span></div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;<span class="comment">    printf(&quot;Num CMapListNode&#39;s = %d\n&quot;,Ed::CMapListNode::SGetNumUsedItems());</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;<span class="comment">    MemView_AnalyzeHeap(Ed::CParkManager::sInstance()-&gt;GetGenerator()-&gt;GetParkEditorHeap());</span></div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160; </div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;<span class="comment">// K: Added type so that DESTROY_ONLY_PIECES can be passed when this function is used to clean</span></div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;<span class="comment">// up the park editor heap for deletion when playing a park.</span></div>
<div class="line"><a name="l04554"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af640e213a45553360f591b8feb636449"> 4554</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af640e213a45553360f591b8feb636449">CParkManager::destroy_concrete_metapieces</a>(<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a4ec12f38a67e0abdf109859818d85505">CParkGenerator::EDestroyType</a> <a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>)</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;{</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::destroy_concrete_metapieces()&quot;</span>);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160; </div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>);</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af0a8b41f90ca0560d7c5139e96225ab9">RemoveAllGaps</a>();</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    </div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    <span class="comment">// Commented these out because destroy_concrete_metapieces gets called via </span></div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    <span class="comment">// ScriptFreeUpMemoryForPlayingPark, which must not delete the edited rails.</span></div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    <span class="comment">// (Fix to TT2125)</span></div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;    <span class="comment">//Obj::GetRailEditor()-&gt;DestroyRailGeometry();</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;    <span class="comment">//Obj::GetRailEditor()-&gt;DestroyPostGeometry();</span></div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    </div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <span class="comment">// remove all concrete metapieces, except locked ones</span></div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    <span class="keywordflow">while</span>(p_node)</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;    {</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;        <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_next_node = p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">DestroyConcreteMeta</a>(p_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>(), <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802">mDONT_DESTROY_PIECES_ABOVE</a>);</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;        p_node = p_next_node;</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    }</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    </div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#aa23859977aaa47ec5426c19a5610ce85">DestroyAllClonedPieces</a>(<a class="code" href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a>); <span class="comment">// if any are left</span></div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;    </div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a59e8d02d3a7a94033dc8e5a092b904ef">KillRestarts</a>();       <span class="comment">// This should have been taken care of by destrying the actual concrete metas, but just to be safe....</span></div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;}</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160; </div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160; </div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;<span class="preprocessor">#ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l04583"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21997198e42f263bbc6e8b8ffc6cf388"> 4583</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21997198e42f263bbc6e8b8ffc6cf388">CParkManager::SwapMapBufferEndianness</a>()</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;{</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *)<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    </div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a35439d6ad2a24a71d09605c779c616e7">mChecksum</a>=_32(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a35439d6ad2a24a71d09605c779c616e7">mChecksum</a>);</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a0f1d3218cc974c53bf90be9b693ef282">mSizeInBytes</a>=_16(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a0f1d3218cc974c53bf90be9b693ef282">mSizeInBytes</a>);</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a>=_16(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a>);</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a>=_16(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a>);</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a4b3e3c3cf42437227ffa94809e03e1f2">mParkSize</a>=_16(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a4b3e3c3cf42437227ffa94809e03e1f2">mParkSize</a>);</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a>=_16(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a>);</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a>=_16(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a>);</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>=_32(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>);</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;    </div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_metas=(<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>*)((<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*)(p_header+1) + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a> * <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>);</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a>; ++i)</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    {</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;        p_metas[0]=_32(p_metas[0]);</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;        p_metas[1]=_32(p_metas[1]);</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;        p_metas+=2;</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    }</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    </div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    <a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *p_gap=(<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a>*)p_metas;</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a>; ++i)</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;    {</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;        p_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a6012621972fc7e733a5b8db7f370fdd8">score</a>=_16(p_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a6012621972fc7e733a5b8db7f370fdd8">score</a>);</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;        p_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8dde6360ad8b73d84ff4d46b9bfdb74a">mCancelFlags</a>=_32(p_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8dde6360ad8b73d84ff4d46b9bfdb74a">mCancelFlags</a>);</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;        ++p_gap;</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    }</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;}</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160; </div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;<span class="comment">Park editor map file format:</span></div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;<span class="comment">Header</span></div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;<span class="comment">-size</span></div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;<span class="comment">-version</span></div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;<span class="comment">-theme</span></div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;<span class="comment">-X, Z, W, L</span></div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;<span class="comment">-number of metas</span></div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;<span class="comment">Floor height array, each entry:</span></div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;<span class="comment">-height</span></div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;<span class="comment">-texture</span></div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;<span class="comment">(included risers taken care of by placed metapieces)</span></div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;<span class="comment">Meta entries:</span></div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;<span class="comment">-10 bits: index</span></div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;<span class="comment">-8 bits: X</span></div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;<span class="comment">-8 bits: Z</span></div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;<span class="comment">-6 bits: padding</span></div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;<span class="comment">-2 bits: rot</span></div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;<span class="comment">-5 bits: Y</span></div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;<span class="comment">-1 bit: padding</span></div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;<span class="comment">(total: 40)</span></div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;<span class="comment">Gap info</span></div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;<span class="comment">User-defined stamps</span></div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;<span class="comment">-number contained</span></div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;<span class="comment">    -source meta</span></div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;<span class="comment">    -8 bits: X</span></div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;<span class="comment">    -8 bits: Z</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;<span class="comment">    -6 bits: Y</span></div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;<span class="comment">    -2 bits: rot</span></div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160; </div>
<div class="line"><a name="l04650"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e"> 4650</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">CParkManager::write_compressed_map_buffer</a>()</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;{</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::write_compressed_map_buffer()&quot;</span>);  </div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    <span class="comment">//DumpUnwindStack( 20, 0 );</span></div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    </div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>)</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;        <span class="comment">// we just loaded this park, so don&#39;t touch it</span></div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;    </div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>; ++i)</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    {</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>[i]=0;</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    }</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;    </div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_save_map_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_Save_Map&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> save_map_array_size = p_save_map_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>();</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    </div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a> = (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>);</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a> = (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">m_theme</a>);</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a4b3e3c3cf42437227ffa94809e03e1f2">mParkSize</a> = (0);</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a27d061914ec80f54612448e401851951">mX</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#aad4209ea476e08f359293011848f3710">mZ</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#ae0f5ed3f88185022b482318ab906364d">mW</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3df93799fcde54c687a43f5b3102540e">mL</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a> = Ed::CParkEditor::Instance()-&gt;GetTimeOfDayScript();</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a89ccf3f4f34a8a128b73aa08fb475e3e">mMaxPlayers</a>=<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a9d754a17af088d27a2312d2d48d0ad83">GetMaxPlayers</a>();</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;    Dbg_MsgAssert(strlen(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a66dafe383e4c6378b828a55bb707ba81">mp_park_name</a>) &lt; 64,(<span class="stringliteral">&quot;Park name &#39;%s&#39; too long&quot;</span>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a66dafe383e4c6378b828a55bb707ba81">mp_park_name</a>));</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    strcpy(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a609fb4b996e13f2193c447fcf733aca6">mParkName</a>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a66dafe383e4c6378b828a55bb707ba81">mp_park_name</a>);</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160; </div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;    <a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *p_floor_entry = (<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *) (p_header + 1);      </div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    {</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        {</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;            p_floor_entry-&gt;<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html#ae707a02c92fc4899c25cd78daa614d46">mHeight</a> = (<a class="code" href="../../d8/de2/_defines_8h.html#a1a6408291ee3cfd0760a61ac64084154">sint8</a>) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].mHeight;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;            p_floor_entry++;</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;        }</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;    }</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160; </div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *p_meta_entry = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *) p_floor_entry;</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160; </div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    <span class="keywordtype">int</span> num_metas_outputted = 0;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;    <a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">CMapListNode</a> *p_meta_node = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">mp_concrete_metapiece_list</a>;</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;    <span class="keywordflow">while</span>(p_meta_node)</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;    {</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;        <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = p_meta_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">GetConcreteMeta</a>();</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;        <span class="keywordflow">if</span> (!p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">IsRiser</a>() &amp;&amp; !p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#adc0893aa1b81d3131b52a2db9544c096">IsInnerShell</a>() &amp;&amp; p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a3fef4af6f589d591e507df93c039793e">IsInPark</a>())</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;        {</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_meta_entry_first = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *) p_meta_entry;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_meta_entry_second = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *) (p_meta_entry + 4);</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160; </div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;            <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> meta_area = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">GetArea</a>();</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;            </div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> metapiece_index = 0;</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;            <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> metapiece_name_checksum = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">GetNameChecksum</a>();</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;            <span class="keywordflow">for</span> (; metapiece_index &lt; save_map_array_size; metapiece_index++)</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;            {   </div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;                <span class="keywordflow">if</span> (p_save_map_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a5fbc2c9d1db2c87fb4633333ef989559">GetChecksum</a>(metapiece_index) == metapiece_name_checksum)</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;            }</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;            </div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;            <span class="keywordflow">if</span> (metapiece_index &lt; save_map_array_size)</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;            {           </div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;                *p_meta_entry_first = metapiece_index &amp; 1023;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;                *p_meta_entry_first |= meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>() &lt;&lt; 10;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;                *p_meta_entry_first |= meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>() &lt;&lt; 18;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    </div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;                *p_meta_entry_second = p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86d8b76a63b14fbe84d4eede0e6249ca">GetRot</a>() &amp; 3;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;                *p_meta_entry_second |= ((meta_area.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + 16) &amp; 31) &lt;&lt; 2;</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;                </div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;                *p_meta_entry_first = (*p_meta_entry_first);</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;                *p_meta_entry_second = (*p_meta_entry_second);</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;                <span class="comment">//Ryan(&quot;compressed piece: 0x%x 0x%x\n&quot;, *p_meta_entry_first, *p_meta_entry_second);</span></div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;                </div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;                p_meta_entry += 8;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;                num_metas_outputted++;</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;            }</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        }</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160; </div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;        p_meta_node = p_meta_node-&gt;<a class="code" href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">GetNext</a>();</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    }</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160; </div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    <span class="keywordtype">int</span> buffer_used_size = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_meta_entry - (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_header;</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    Dbg_MsgAssert(buffer_used_size &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>, (<span class="stringliteral">&quot;compressed map buffer (%d) needs to be bigger than (%d)&quot;</span>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>,buffer_used_size));</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a> = (num_metas_outputted);    </div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    </div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    <span class="comment">/* Gap Section */</span></div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160; </div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    <span class="comment">// count number of gaps</span></div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;    <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *p_desc_tab[<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#ac3eb98005a4ce8c38770b60892de69eb">CGapManager::vMAX_GAPS</a>];</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <span class="keywordtype">int</span> num_gaps = 0;</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="keywordtype">int</span> gap;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    <span class="keywordflow">for</span> (gap = 0; gap &lt; <a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#ac3eb98005a4ce8c38770b60892de69eb">CGapManager::vMAX_GAPS</a>; gap++)</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;    {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;        <span class="keywordtype">int</span> half = 0;</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;        <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> *pDesc = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">mp_gap_manager</a>-&gt;<a class="code" href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a6e7c6c26972006b4b54f696ff08f750e">GetGapDescriptor</a>(gap, &amp;half);</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        <span class="keywordflow">if</span> (pDesc &amp;&amp; half == 0 &amp;&amp; pDesc-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af691c08d4aebf6c1a13a6e823041e7e8">numCompleteHalves</a> == 2)</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;            p_desc_tab[num_gaps++] = pDesc;</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    }</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a> = (num_gaps);</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    </div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    <span class="comment">// write gaps</span></div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *p_out_gap = (<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *) p_meta_entry;</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    <span class="keywordflow">for</span> (gap = 0; gap &lt; num_gaps; gap++)</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;    {</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;        p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a60c08a113a5fa4e85fec428219bdbae9">rot</a> = 0;</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> half = 0; half &lt; 2; half++)</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;        {</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;            p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#af8a63e2d8dad6e1528b15ad3ecc19aa1">x</a>[half] = p_desc_tab[gap]-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>(); </div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;            p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#aad86f6ef2094d71a59dd838586164853">y</a>[half] = p_desc_tab[gap]-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">GetY</a>() + (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a7fdc2708807797199790bad66dab1920">MAX_HEIGHT</a>&gt;&gt;1); </div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;            p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8757f52aed3a691aa9f18f80f46edef8">z</a>[half] = p_desc_tab[gap]-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>(); </div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;            p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a60c08a113a5fa4e85fec428219bdbae9">rot</a> |= p_desc_tab[gap]-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#aa8834282054e90130ff1b36d77bef367">rot</a>[half]&lt;&lt;(half*4);</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;            </div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;            p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a4de98e33190a23f366b67e4a7af64525">extent</a>[half] = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) ((p_desc_tab[gap]-&gt;leftExtent[half] &amp; 15) &lt;&lt; 4);</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;            p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a4de98e33190a23f366b67e4a7af64525">extent</a>[half] |= (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>) (p_desc_tab[gap]-&gt;rightExtent[half] &amp; 15);</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;            <span class="comment">//Ryan(&quot;adding gap at (%d,%d,%d)\n&quot;, p_out_gap-&gt;x[half], p_out_gap-&gt;y[half], p_out_gap-&gt;z[half]);</span></div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;        }</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;        Dbg_MsgAssert(strlen(p_desc_tab[gap]-&gt;text) &lt;= 31, (<span class="stringliteral">&quot;too many characters in gap name %s&quot;</span>, p_desc_tab[gap]-&gt;text));</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;        strcpy(p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a7bc0ecda109fa2fd4275fd0d4e16a89f">text</a>, p_desc_tab[gap]-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a4a8781fa99bb172596719ce13c7d7236">text</a>);</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;        p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a6012621972fc7e733a5b8db7f370fdd8">score</a> = ((<a class="code" href="../../d8/de2/_defines_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>) p_desc_tab[gap]-&gt;score);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;        </div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;        p_out_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8dde6360ad8b73d84ff4d46b9bfdb74a">mCancelFlags</a>=p_desc_tab[gap]-&gt;<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#ae000285eb156ad1d6d98bc3c0842e05c">mCancelFlags</a>;</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;        </div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;        p_out_gap++;</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    }</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  </div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;    buffer_used_size = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_out_gap - (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_header;</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    Dbg_MsgAssert(buffer_used_size &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>, (<span class="stringliteral">&quot;compressed map buffer (%d) needs to be bigger than (%d)&quot;</span>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>,buffer_used_size));</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a0f1d3218cc974c53bf90be9b693ef282">mSizeInBytes</a> = buffer_used_size;</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;    </div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;    <span class="comment">/* Flag section */</span></div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160; </div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>) &amp;&amp; !(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>))</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>);</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;    </div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a> + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>));</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>);</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160; </div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160; </div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a35439d6ad2a24a71d09605c779c616e7">mChecksum</a> = (<a class="code" href="../../d3/d9b/namespace_crc.html#a60ea952dd05dcbab6d54f8f922f35872">Crc::GenerateCRCCaseSensitive</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> + 4, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>-4));</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    </div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;end CParkManager::write_compressed_map_buffer()&quot;</span>);  </div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;}</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160; </div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160; </div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;<span class="comment">// Create a minimal compressed map buffer</span></div>
<div class="line"><a name="l04799"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3ad9ca4fc95eca9fe5d1a5e802675938"> 4799</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3ad9ca4fc95eca9fe5d1a5e802675938">CParkManager::fake_compressed_map_buffer</a>()</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;{</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::fake_compressed_map_buffer()&quot;</span>);   </div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    </div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;<span class="comment">//  Script::CArray *p_save_map_array = Script::GetArray(&quot;Ed_Save_Map&quot;, Script::ASSERT);</span></div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;<span class="comment">//  uint save_map_array_size = p_save_map_array-&gt;GetSize();</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    </div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa0021e0cef633e280ae0d526b1e0b406">setup_default_dimensions</a>();</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    </div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a> = (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>);</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a> = (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">m_theme</a>);</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a4b3e3c3cf42437227ffa94809e03e1f2">mParkSize</a> = (0);</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a27d061914ec80f54612448e401851951">mX</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">GetX</a>();</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#aad4209ea476e08f359293011848f3710">mZ</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">GetZ</a>();</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#ae0f5ed3f88185022b482318ab906364d">mW</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">GetW</a>();</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3df93799fcde54c687a43f5b3102540e">mL</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">GetL</a>();</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    </div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;    <a class="code" href="../../d8/d13/class_ed_1_1_c_park_editor.html">Ed::CParkEditor</a> *p_editor=Ed::CParkEditor::Instance();</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    <span class="keywordflow">if</span> (p_editor)</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    {</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a> = p_editor-&gt;<a class="code" href="../../d8/d13/class_ed_1_1_c_park_editor.html#a5a306a7a02235c126788b85eb1f5bb18">GetTimeOfDayScript</a>();</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    }</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    {</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;        p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>=0;</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    }   </div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    </div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a89ccf3f4f34a8a128b73aa08fb475e3e">mMaxPlayers</a>=2;</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    strcpy(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a609fb4b996e13f2193c447fcf733aca6">mParkName</a>, <span class="stringliteral">&quot;unnamed park&quot;</span>);</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160; </div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;    <a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *p_floor_entry = (<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *) (p_header + 1);      </div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;    {</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;        {</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;            p_floor_entry-&gt;<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html#ae707a02c92fc4899c25cd78daa614d46">mHeight</a> = 0;     <span class="comment">// (sint8) m_floor_height_map[i][j].mHeight;</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;            p_floor_entry++;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;        }</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;    }</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160; </div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *p_meta_entry = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *) p_floor_entry;</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <span class="keywordtype">int</span> num_metas_outputted = 0;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;    <span class="keywordtype">int</span> buffer_used_size = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_meta_entry - (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_header;</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a> = num_metas_outputted;  </div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a35439d6ad2a24a71d09605c779c616e7">mChecksum</a> = <a class="code" href="../../d3/d9b/namespace_crc.html#a60ea952dd05dcbab6d54f8f922f35872">Crc::GenerateCRCCaseSensitive</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a> + 4, buffer_used_size - 4);</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <span class="keywordtype">int</span> num_gaps = 0;</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a> = num_gaps;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    </div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    <span class="comment">// write gaps</span></div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    <a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *p_out_gap = (<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *) p_meta_entry;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;    buffer_used_size = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_out_gap - (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>) p_header;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    Dbg_MsgAssert(buffer_used_size &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>, (<span class="stringliteral">&quot;compressed map buffer (%d) needs to be bigger than (%d)&quot;</span>,<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">COMPRESSED_MAP_SIZE</a>,buffer_used_size));</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a0f1d3218cc974c53bf90be9b693ef282">mSizeInBytes</a> = buffer_used_size;</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    </div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    <span class="comment">/* Flag section */</span></div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160; </div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>) &amp;&amp; !(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>))</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">mNOT_SAVED_LOCAL</a>);</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    </div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a> + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>));</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>);</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    </div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;end CParkManager::fake_compressed_map_buffer()&quot;</span>);   </div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;}</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160; </div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160; </div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160; </div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160; </div>
<div class="line"><a name="l04869"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa29a4e2b6b9e303aa60a65d134831be2"> 4869</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa29a4e2b6b9e303aa60a65d134831be2">CParkManager::read_from_compressed_map_buffer</a>()</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;{</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::read_from_compressed_map_buffer()&quot;</span>);  </div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    </div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_save_map_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_Save_Map&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> dead_piece_checksum = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<span class="stringliteral">&quot;Sk4Ed_Dead&quot;</span>);</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    </div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>, (<span class="stringliteral">&quot;compressed map is invalid&quot;</span>));</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    </div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <span class="comment">// make sure latest version</span></div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    <span class="keywordflow">if</span> (p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a> != <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>)</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    {</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ace5d8a33f79b92f74370c9c42a0f4cf4">read_from_compressed_map_buffer_old</a>();</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a98a858e3cd022a68ff33d1bccc21657f">SetMaxPlayers</a>(1);</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    }</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160; </div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a27d061914ec80f54612448e401851951">mX</a>;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#aad4209ea476e08f359293011848f3710">mZ</a>;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#ae0f5ed3f88185022b482318ab906364d">mW</a>;</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3df93799fcde54c687a43f5b3102540e">mL</a>;</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">m_theme</a> = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a>;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    Ed::CParkEditor::Instance()-&gt;SetTimeOfDayScript(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>);</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;<span class="preprocessor">    #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a89ccf3f4f34a8a128b73aa08fb475e3e">mMaxPlayers</a>=2;</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a98a858e3cd022a68ff33d1bccc21657f">SetMaxPlayers</a>(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a89ccf3f4f34a8a128b73aa08fb475e3e">mMaxPlayers</a>);</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;    <span class="comment">// SG: Was setting to the incorrect number (8 when it should have been 2). I think</span></div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    <span class="comment">// it is redundant anyway as max players is set elsewhere already</span></div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    <span class="comment">//GameNet::Manager::Instance()-&gt;SetMaxPlayers(p_header-&gt;mMaxPlayers);</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;    </div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;    <a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *p_floor_entry = (<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *) (p_header + 1);      </div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;    {</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;        {</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = (int) p_floor_entry-&gt;<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html#ae707a02c92fc4899c25cd78daa614d46">mHeight</a>;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">mEnclosedFloor</a> = 0;</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;            p_floor_entry++;</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;        }</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    }</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160; </div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *p_meta_entry = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *) p_floor_entry;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>( <span class="stringliteral">&quot;****** NUM METAS WHILE READING FROM BUFFER : %d\n&quot;</span>, p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a> );</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a>; i++)</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    {</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_meta_entry_first = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *) p_meta_entry;</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_meta_entry_second = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *) (p_meta_entry + 4);</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> meta1 = *p_meta_entry_first;</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> meta2 = *p_meta_entry_second;</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;        </div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        <span class="comment">//Ryan(&quot;compressed piece: 0x%x 0x%x\n&quot;, *p_meta_entry_first, *p_meta_entry_second);</span></div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;        </div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> metapiece_index = meta1 &amp; 1023;</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> metapiece_checksum = p_save_map_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a5fbc2c9d1db2c87fb4633333ef989559">GetChecksum</a>(metapiece_index);</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160; </div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        <span class="keywordflow">if</span> (metapiece_checksum != dead_piece_checksum)</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;        {</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;            <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_source_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(metapiece_checksum);</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;            Dbg_MsgAssert(p_source_meta, (<span class="stringliteral">&quot;couldn&#39;t find abstract meta %s&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(metapiece_checksum)));</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;<span class="preprocessor">            #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;            <span class="keywordflow">if</span> (!(p_source_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">CMetaPiece::mNOT_ON_GC</a>))         </div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;            {           </div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;                <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(p_source_meta);</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;                <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos;</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;                pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = (meta1 &gt;&gt; 10) &amp; 255;</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;                pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = (meta1 &gt;&gt; 18) &amp; 255;</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;                pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = ((meta2 &gt;&gt; 2) &amp; 31) - 16;</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = meta2 &amp; 3;</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;                p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>(<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>));</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_meta);</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;            }</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;        }</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;        </div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;        p_meta_entry += 8;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    }   </div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;    </div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <span class="comment">/* Gap section */</span></div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    </div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    <a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *p_in_gap = (<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">CompressedGap</a> *) p_meta_entry;</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> g = 0; g &lt; p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a>; g++)</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;    {</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;        <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> desc;</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;        </div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> half = 0; half &lt; 2; half++)</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;        {</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#af8a63e2d8dad6e1528b15ad3ecc19aa1">x</a>[half]; </div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#aad86f6ef2094d71a59dd838586164853">y</a>[half] - (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a7fdc2708807797199790bad66dab1920">MAX_HEIGHT</a>&gt;&gt;1); </div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8757f52aed3a691aa9f18f80f46edef8">z</a>[half]; </div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#aa8834282054e90130ff1b36d77bef367">rot</a>[half] = (p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a60c08a113a5fa4e85fec428219bdbae9">rot</a>&gt;&gt;(half*4)) &amp; 15;</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;            </div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[half] = (p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a4de98e33190a23f366b67e4a7af64525">extent</a>[half]&gt;&gt;4) &amp; 15;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[half] = (p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a4de98e33190a23f366b67e4a7af64525">extent</a>[half]) &amp; 15;</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;            <span class="comment">//Ryan(&quot;adding gap at (%d,%d,%d)\n&quot;, p_in_gap-&gt;x[half], p_in_gap-&gt;y[half], p_in_gap-&gt;z[half]);</span></div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;        }</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;        Dbg_Assert(strlen(p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a7bc0ecda109fa2fd4275fd0d4e16a89f">text</a>) &lt; 32);</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;        strcpy(desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a4a8781fa99bb172596719ce13c7d7236">text</a>, p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a7bc0ecda109fa2fd4275fd0d4e16a89f">text</a>);</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;        desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a722dbc05b30a297904911f0a0ca5f610">score</a> = (int) p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a6012621972fc7e733a5b8db7f370fdd8">score</a>;</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;        desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af691c08d4aebf6c1a13a6e823041e7e8">numCompleteHalves</a> = 2;</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;        desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#ae000285eb156ad1d6d98bc3c0842e05c">mCancelFlags</a>=p_in_gap-&gt;<a class="code" href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8dde6360ad8b73d84ff4d46b9bfdb74a">mCancelFlags</a>;</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;        </div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a010b7b7d003d063a72203943c20fc6c0">AddGap</a>(desc);</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;        </div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;        p_in_gap++;</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;    }</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;    </div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>);</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>);</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;    </div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;end CParkManager::read_from_compressed_map_buffer()&quot;</span>);  </div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;}</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160; </div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160; </div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160; </div>
<div class="line"><a name="l04988"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ace5d8a33f79b92f74370c9c42a0f4cf4"> 4988</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ace5d8a33f79b92f74370c9c42a0f4cf4">CParkManager::read_from_compressed_map_buffer_old</a>()</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;{</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    Dbg_Assert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">m_state_on</a>);</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;CParkManager::read_from_compressed_map_buffer()&quot;</span>);  </div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    </div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_save_map_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_Save_Map&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> dead_piece_checksum = <a class="code" href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a>(<span class="stringliteral">&quot;Sk4Ed_Dead&quot;</span>);</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;    </div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    Dbg_MsgAssert(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">mIS_VALID</a>, (<span class="stringliteral">&quot;compressed map is invalid&quot;</span>));</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    </div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    <a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *p_header = (<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">CompressedMapHeader</a> *) <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">mp_compressed_map_buffer</a>;</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160; </div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    <span class="comment">// make sure proper version</span></div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;    Dbg_MsgAssert((p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a>) == <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">VERSION</a>-1, (<span class="stringliteral">&quot;can&#39;t read park with this version #: %d&quot;</span>, (p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">mVersion</a>)));</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    </div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;<span class="comment">//  for (int zzz = 0; zzz &lt; 16; zzz++)</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;<span class="comment">//      printf(&quot;OUT OF DATE PARK FORMAT -- SAVE NOW. OUT OF DATE PARK FORMAT -- SAVE NOW. OUT OF DATE PARK FORMAT -- SAVE NOW.\n&quot;);</span></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160; </div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a27d061914ec80f54612448e401851951">mX</a>;</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#aad4209ea476e08f359293011848f3710">mZ</a>;</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#ae0f5ed3f88185022b482318ab906364d">mW</a>;</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>[<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3df93799fcde54c687a43f5b3102540e">mL</a>;</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">m_theme</a> = (p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">mTheme</a>);</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    Ed::CParkEditor::Instance()-&gt;SetTimeOfDayScript(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">mTODScript</a>);</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;    </div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">GetGenerator</a>()-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a98a858e3cd022a68ff33d1bccc21657f">SetMaxPlayers</a>(p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a89ccf3f4f34a8a128b73aa08fb475e3e">mMaxPlayers</a>);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="comment">// SG: Was setting to the incorrect number (8 when it should have been 2). I think</span></div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;    <span class="comment">// it is redundant anyway as max players is set elsewhere already</span></div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="comment">//GameNet::Manager::Instance()-&gt;SetMaxPlayers(p_header-&gt;mMaxPlayers);</span></div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    </div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;    <a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *p_floor_entry = (<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">CompressedFloorEntry</a> *) (p_header + 1);      </div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">FLOOR_MAX_WIDTH</a>; i++)</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    {</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">FLOOR_MAX_LENGTH</a>; j++)</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;        {</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">mHeight</a> = (int) p_floor_entry-&gt;<a class="code" href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html#ae707a02c92fc4899c25cd78daa614d46">mHeight</a>;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;            <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">m_floor_height_map</a>[i][j].<a class="code" href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">mEnclosedFloor</a> = 0;</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;            p_floor_entry++;</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;        }</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;    }</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160; </div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    <a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *p_meta_entry = (<a class="code" href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *) p_floor_entry;</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    <a class="code" href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a>( <span class="stringliteral">&quot;****** NUM METAS WHILE READING FROM BUFFER : %d\n&quot;</span>, p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a> );</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">mNumMetas</a>); i++)</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    {</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_meta_entry_first = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *) p_meta_entry;</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *p_meta_entry_second = (<a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> *) (p_meta_entry + 4);</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> meta1 = (*p_meta_entry_first);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> meta2 = (*p_meta_entry_second);</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;        </div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;        <span class="comment">//Ryan(&quot;compressed piece: 0x%x 0x%x\n&quot;, *p_meta_entry_first, *p_meta_entry_second);</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;        </div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> metapiece_index = meta1 &amp; 1023;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;        <a class="code" href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> metapiece_checksum = p_save_map_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a5fbc2c9d1db2c87fb4633333ef989559">GetChecksum</a>(metapiece_index);</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160; </div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;        <span class="keywordflow">if</span> (metapiece_checksum != dead_piece_checksum)</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;        {</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;            <a class="code" href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">CAbstractMetaPiece</a> *p_source_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">GetAbstractMeta</a>(metapiece_checksum);</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;            Dbg_MsgAssert(p_source_meta, (<span class="stringliteral">&quot;couldn&#39;t find abstract meta %s&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a>(metapiece_checksum)));</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;<span class="preprocessor">            #ifdef __PLAT_NGC__</span></div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;            <span class="keywordflow">if</span> (!(p_source_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">m_flags</a> &amp; <a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">CMetaPiece::mNOT_ON_GC</a>))         </div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;<span class="preprocessor">            #endif</span></div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;            {           </div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;                <a class="code" href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">CConcreteMetaPiece</a> *p_meta = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">CreateConcreteMeta</a>(p_source_meta);</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;                <a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html">GridDims</a> pos;</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;                pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = (meta1 &gt;&gt; 10) &amp; 255;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;                pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = (meta1 &gt;&gt; 18) &amp; 255;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;                pos[<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = ((meta2 &gt;&gt; 2) &amp; 31) - 16;</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a> = meta2 &amp; 3;</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;                p_meta-&gt;<a class="code" href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">SetRot</a>(<a class="code" href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a>(<a class="code" href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">rot</a>));</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;                <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">AddMetaPieceToPark</a>(pos, p_meta);</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;            }</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;        }</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;        </div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;        p_meta_entry += 8;</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    }   </div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;    </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    <span class="comment">// Gap section</span></div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    </div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;    <a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html">CompressedGapOld</a> *p_in_gap = (<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html">CompressedGapOld</a> *) p_meta_entry;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> g = 0; g &lt; (p_header-&gt;<a class="code" href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">mNumGaps</a>); g++)</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    {</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;        <a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">CGapManager::GapDescriptor</a> desc;</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;        </div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> half = 0; half &lt; 2; half++)</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;        {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a110fd230231d46b0ed5b7e413acfbf54">x</a>[half]; </div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a03b29a5e771950755ff747e241ef31dd">y</a>[half] - (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a7fdc2708807797199790bad66dab1920">MAX_HEIGHT</a>&gt;&gt;1); </div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">loc</a>[half][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a571549d8fe7b2177e4409a5f32b5c6de">z</a>[half]; </div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#aa8834282054e90130ff1b36d77bef367">rot</a>[half] = (p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a33c4e03ee73af89fc9fb0de7082e8180">rot</a>&gt;&gt;(half*4)) &amp; 15;</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;            </div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">leftExtent</a>[half] = (p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a7fe87f363ad0319dd3c4befe8a1c8221">extent</a>[half]&gt;&gt;4) &amp; 15;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;            desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">rightExtent</a>[half] = (p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a7fe87f363ad0319dd3c4befe8a1c8221">extent</a>[half]) &amp; 15;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;            <span class="comment">//Ryan(&quot;adding gap at (%d,%d,%d)\n&quot;, p_in_gap-&gt;x[half], p_in_gap-&gt;y[half], p_in_gap-&gt;z[half]);</span></div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;        }</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;        Dbg_Assert(strlen(p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a9c2debc01ab08d1701260f26ad42fe47">text</a>) &lt; 32);</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;        strcpy(desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a4a8781fa99bb172596719ce13c7d7236">text</a>, p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a9c2debc01ab08d1701260f26ad42fe47">text</a>);</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;        desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a722dbc05b30a297904911f0a0ca5f610">score</a> = (int) (p_in_gap-&gt;<a class="code" href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a51c1987b15b04f9492b3ee8d58055df0">score</a>);</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;        desc.<a class="code" href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af691c08d4aebf6c1a13a6e823041e7e8">numCompleteHalves</a> = 2;</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;        </div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a010b7b7d003d063a72203943c20fc6c0">AddGap</a>(desc);</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;        </div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;        p_in_gap++;</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    }</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    </div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> | <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">mIN_SYNC_WITH_PARK</a>);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> = <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">ECompressedMapFlags</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">m_compressed_map_flags</a> &amp; ~<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">mIS_NEWER_THAN_PARK</a>);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    </div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    <span class="comment">// XXX</span></div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    <a class="code" href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a>(<span class="stringliteral">&quot;end CParkManager::read_from_compressed_map_buffer_old()&quot;</span>);  </div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;}</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160; </div>
<div class="line"><a name="l05102"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa0021e0cef633e280ae0d526b1e0b406"> 5102</a></span>&#160;<span class="keywordtype">void</span>    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa0021e0cef633e280ae0d526b1e0b406">CParkManager::setup_default_dimensions</a>()</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;{</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <span class="keywordtype">int</span> default_inner_dim = <a class="code" href="../../d1/d54/namespace_script.html#ac722bae4acb2ce23888cb428818f12af">Script::GetInt</a>(<span class="stringliteral">&quot;ed_default_inner_dim&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    Dbg_Assert(default_inner_dim &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">MAX_WIDTH</a> &amp;&amp; default_inner_dim &lt;= <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">MAX_LENGTH</a>);</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160; </div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(1, -4, 1);</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">m_park_far_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">MAX_WIDTH</a>, 8, <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">MAX_LENGTH</a>);</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">SetXYZ</a>(1 + (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">MAX_WIDTH</a> - default_inner_dim) / 2, -4, 1 + (<a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">MAX_LENGTH</a> - default_inner_dim) / 2);</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">m_park_near_bounds</a>.<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">SetWHL</a>(default_inner_dim, 8, default_inner_dim);</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;}</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160; </div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160; </div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160; </div>
<div class="line"><a name="l05115"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa60dabc1fad9263d10fc24cbb2c66c4b"> 5115</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa60dabc1fad9263d10fc24cbb2c66c4b">CParkManager::setup_road_mask</a>()</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;{</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;<span class="comment">        The first four entries in m_road_mask_tab will be set up in RebuildInnerShell()</span></div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;    </div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_road_mask_array = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Ed_Roadmask&quot;</span>, <a class="code" href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a>);</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adca8222b709542adbe4a80abdf17445c">m_road_mask_tab_size</a> = p_road_mask_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>();</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 4; i &lt; 4 + <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adca8222b709542adbe4a80abdf17445c">m_road_mask_tab_size</a>; i++)</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    {</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;        Dbg_Assert(i &lt; <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8b32027b782635a0f6cf1410db436d79aa432590f1d531fad448d6630148daa30">NUM_ROAD_PIECES</a>);</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;        <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *p_entry = p_road_mask_array-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a4645418616142b2a40757bcd8f15e02d">GetArray</a>(i);</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160; </div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a>] = p_entry-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#afc9a57c2e502543a7b7eb797475ace79">GetInt</a>(0);</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a>] = p_entry-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#afc9a57c2e502543a7b7eb797475ace79">GetInt</a>(1);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = p_entry-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#afc9a57c2e502543a7b7eb797475ace79">GetInt</a>(2);</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i][<a class="code" href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">L</a>] = p_entry-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#afc9a57c2e502543a7b7eb797475ace79">GetInt</a>(3);</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i][<a class="code" href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a>] = 0;</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">m_road_mask_tab</a>[i].<a class="code" href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">MakeInfinitelyHigh</a>();</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    }</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160; </div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adca8222b709542adbe4a80abdf17445c">m_road_mask_tab_size</a> += 4;</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;}</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160; </div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160; </div>
<div class="line"><a name="l05140"></a><span class="lineno"><a class="line" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab97c038ea9ba001e93f343a8cb4e75ab"> 5140</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab97c038ea9ba001e93f343a8cb4e75ab">CParkManager::setup_lighting</a>()</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;{</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;    </div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;    </div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *pThemeArray = <a class="code" href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a>(<span class="stringliteral">&quot;Editor_Light_Info&quot;</span>);</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;<span class="comment">//  Script::CArray *pSizeArray = pThemeArray-&gt;GetArray(m_currentThemeIndex);</span></div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;<span class="comment">//  Script::CScriptStructure *pLightInfo = pSizeArray-&gt;GetStructure(m_currentShellSizeIndex);</span></div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *pSizeArray = pThemeArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a4645418616142b2a40757bcd8f15e02d">GetArray</a>(0);</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;    Script::CScriptStructure *pLightInfo = pSizeArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">GetStructure</a>(0);</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160; </div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;    <span class="keywordtype">float</span> amb_const;</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;    pLightInfo-&gt;<a class="code" href="../../d2/df7/class_script_1_1_c_struct.html#acae6f1a5a02d406ab56292ec3fcfaefd">GetFloat</a>(<span class="stringliteral">&quot;ambient_const&quot;</span>, &amp;amb_const, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> ambient_rgb;</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    pLightInfo-&gt;GetVector(<span class="stringliteral">&quot;ambient_rgb&quot;</span>, &amp;ambient_rgb, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;    <span class="keywordtype">float</span> falloff_const;</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;    pLightInfo-&gt;GetFloat(<span class="stringliteral">&quot;falloff_const&quot;</span>, &amp;falloff_const, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> falloff_rgb;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;    pLightInfo-&gt;GetVector(<span class="stringliteral">&quot;falloff_rgb&quot;</span>, &amp;falloff_rgb, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    <span class="keywordtype">float</span> cursor_ambience;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    pLightInfo-&gt;GetFloat(<span class="stringliteral">&quot;cursor_ambience&quot;</span>, &amp;cursor_ambience, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;    </div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    </div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    <a class="code" href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a> *pLightArray;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;    pLightInfo-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a4645418616142b2a40757bcd8f15e02d">GetArray</a>(<span class="stringliteral">&quot;pos&quot;</span>, &amp;pLightArray, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160; </div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;    <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a88e58f299fcaa6be0d1dac62b7997f68">SetLightProps</a>(pLightArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>(), </div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;                            amb_const * ambient_rgb.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>(), amb_const * ambient_rgb.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>(), amb_const * ambient_rgb.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>(), </div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;                            falloff_const * falloff_rgb.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">GetX</a>(), falloff_const * falloff_rgb.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">GetY</a>(), falloff_const * falloff_rgb.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">GetZ</a>(),</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;                            cursor_ambience);</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160; </div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)pLightArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">GetSize</a>(); i++)</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;    {</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;        <a class="code" href="../../de/d4d/class_script_1_1_c_vector.html">Script::CVector</a> *pInPos = pLightArray-&gt;<a class="code" href="../../d0/d0b/class_script_1_1_c_array.html#a2341563b68f342033fbeae1d9ffdc0fd">GetVector</a>(i);</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;        <a class="code" href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a> outPos;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;        outPos.<a class="code" href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Set</a>(pInPos-&gt;<a class="code" href="../../de/d4d/class_script_1_1_c_vector.html#a276bcec5d6d78a8fc02d89a291d55369">mX</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">CParkGenerator::CELL_WIDTH</a>,</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;                   pInPos-&gt;<a class="code" href="../../de/d4d/class_script_1_1_c_vector.html#a187072a58633230b4d3f09614d02fece">mY</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">CParkGenerator::CELL_HEIGHT</a>,</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;                   pInPos-&gt;<a class="code" href="../../de/d4d/class_script_1_1_c_vector.html#aa0a393db506ce27b46dd736553b4821c">mZ</a> * <a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">CParkGenerator::CELL_LENGTH</a>);</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;        <a class="code" href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">mp_generator</a>-&gt;<a class="code" href="../../de/d42/class_ed_1_1_c_park_generator.html#a699e97cdc29f6863ddb33b289a5028f3">SetLight</a>(outPos, i);</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    }</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;}</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160; </div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160; </div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160; </div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160; </div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_a4f75ff19e714ad00726b2b9f45f982bb"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a4f75ff19e714ad00726b2b9f45f982bb">Ed::CConcreteMetaPiece::Highlight</a></div><div class="ttdeci">void Highlight(bool on, bool gapHighlight=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00422">EdMap.cpp:422</a></div></div>
<div class="ttc" id="anamespace_script_html_a84ac1eedf37ab70be269e8fcbdc6ea21a01c86a42bc159931779558169918551c"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21a01c86a42bc159931779558169918551c">Script::ESYMBOLTYPE_STRUCTURE</a></div><div class="ttdeci">@ ESYMBOLTYPE_STRUCTURE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc0/symboltype_8h_source.html#l00019">symboltype.h:19</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af535cb5fa81ab377ea2d071b150d5e11"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af535cb5fa81ab377ea2d071b150d5e11">Ed::CParkManager::m_riser_piece_checksum</a></div><div class="ttdeci">uint32 m_riser_piece_checksum[NUM_RISER_INFO_SLOTS][3]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00540">EdMap.h:540</a></div></div>
<div class="ttc" id="anamespace_file_html_ae1a2fc14e6df2b782caad192a3123bd5"><div class="ttname"><a href="../../de/d10/namespace_file.html#ae1a2fc14e6df2b782caad192a3123bd5">File::Write</a></div><div class="ttdeci">size_t Write(const void *addr, size_t size, size_t count, void *pFP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/ngc_2p__filesys_8cpp_source.html#l00472">p_filesys.cpp:472</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_aa09527e9552236975be71ab5aa2bda14"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#aa09527e9552236975be71ab5aa2bda14">Ed::CParkGenerator::GenerateNodeInfo</a></div><div class="ttdeci">void GenerateNodeInfo(CMapListNode *p_concrete_metapiece_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01224">ParkGen.cpp:1224</a></div></div>
<div class="ttc" id="a_park_ed_8h_html"><div class="ttname"><a href="../../de/df6/_park_ed_8h.html">ParkEd.h</a></div></div>
<div class="ttc" id="anamespace_mth_html_a97bb408ad8a8dfef08bcd81001073139"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139">Mth::ERot90</a></div><div class="ttdeci">ERot90</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/rot90_8h_source.html#l00012">rot90.h:12</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_a1f5141c3fc91cc1d39384f15a6b8060b"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a1f5141c3fc91cc1d39384f15a6b8060b">Ed::SMetaDescriptor::mpPiece</a></div><div class="ttdeci">CPiece * mpPiece</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00055">EdMap.h:55</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_a8784f22b72bb4beb8da350e8939ff604"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a8784f22b72bb4beb8da350e8939ff604">Ed::CClonedPiece::SetDesiredPos</a></div><div class="ttdeci">void SetDesiredPos(const Mth::Vector &amp;pos, ESectorEffect sectorEffect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00211">ParkGen.cpp:211</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_af691c08d4aebf6c1a13a6e823041e7e8"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af691c08d4aebf6c1a13a6e823041e7e8">Ed::CGapManager::GapDescriptor::numCompleteHalves</a></div><div class="ttdeci">int numCompleteHalves</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00034">GapManager.h:34</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a89934e7eaed26892058d0f4b1c616f6a"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a89934e7eaed26892058d0f4b1c616f6a">Ed::GridDims::SetWHL</a></div><div class="ttdeci">void SetWHL(uint8 w, uint8 h, uint8 l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00068">ParkGen.h:68</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ad00950b6d2f43e3ed97610dbb69fde80"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad00950b6d2f43e3ed97610dbb69fde80">Ed::CParkManager::build_add_floor_piece</a></div><div class="ttdeci">void build_add_floor_piece(BuildFloorParams &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03462">EdMap.cpp:3462</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a1baa2aca5156d3494a14f7330106abd5"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1baa2aca5156d3494a14f7330106abd5">Ed::CParkManager::create_abstract_metapieces</a></div><div class="ttdeci">void create_abstract_metapieces()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04169">EdMap.cpp:4169</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a311804d774d6bd07378123ea375025ce"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a311804d774d6bd07378123ea375025ce">Ed::CParkManager::GetCompressedParkWidth</a></div><div class="ttdeci">int GetCompressedParkWidth()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01416">EdMap.cpp:1416</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a897030eed0d8e64a5af4d363405f77be"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a897030eed0d8e64a5af4d363405f77be">Ed::CParkManager::generate_floor_pieces_from_height_map</a></div><div class="ttdeci">bool generate_floor_pieces_from_height_map(bool simpleBuild, bool dryRun)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03939">EdMap.cpp:3939</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_component_html_a32904a2967f1608f483930640e8ed241"><div class="ttname"><a href="../../d4/d58/class_script_1_1_c_component.html#a32904a2967f1608f483930640e8ed241">Script::CComponent::mChecksum</a></div><div class="ttdeci">uint32 mChecksum</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcf/component_8h_source.html#l00079">component.h:79</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a5adae15e4699748e0bcc630008568892"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5adae15e4699748e0bcc630008568892">Ed::CMetaPiece::MarkAsInnerShell</a></div><div class="ttdeci">void MarkAsInnerShell()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00151">EdMap.h:151</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a98a858e3cd022a68ff33d1bccc21657f"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a98a858e3cd022a68ff33d1bccc21657f">Ed::CParkGenerator::SetMaxPlayers</a></div><div class="ttdeci">void SetMaxPlayers(int maxPlayers)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00517">ParkGen.cpp:517</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_af0a8b41f90ca0560d7c5139e96225ab9"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af0a8b41f90ca0560d7c5139e96225ab9">Ed::CGapManager::RemoveAllGaps</a></div><div class="ttdeci">void RemoveAllGaps()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00278">GapManager.cpp:278</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a71c761bdce14193b10bf3c88372ba5a0"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a71c761bdce14193b10bf3c88372ba5a0">Script::CArray::GetSize</a></div><div class="ttdeci">uint32 GetSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00120">array.h:120</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_s_build_list_entry_html"><div class="ttname"><a href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html">Ed::CParkManager::SBuildListEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00543">EdMap.h:543</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_generator_1_1_mem_usage_info_html_ac04764130667563fd572dbc7bf6a90fc"><div class="ttname"><a href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html#ac04764130667563fd572dbc7bf6a90fc">Ed::CParkGenerator::MemUsageInfo::mMainHeapFree</a></div><div class="ttdeci">int mMainHeapFree</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00302">ParkGen.h:302</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afaa3d5674cd68fefe1622dc2dcc66013"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afaa3d5674cd68fefe1622dc2dcc66013">Ed::CParkManager::slide_column_part_two</a></div><div class="ttdeci">void slide_column_part_two(CMapListNode *pMoveList)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03838">EdMap.cpp:3838</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_adac960d5c3b3d2969334bf9af1a7dcfa"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adac960d5c3b3d2969334bf9af1a7dcfa">Ed::CParkManager::CreateConcreteMeta</a></div><div class="ttdeci">CConcreteMetaPiece * CreateConcreteMeta(CAbstractMetaPiece *pSource, bool isSoft=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02082">EdMap.cpp:2082</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a444a41f2331fa071a68ab1380da9b8bd"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a444a41f2331fa071a68ab1380da9b8bd">Ed::CParkManager::CompressedMapHeader::mNumMetas</a></div><div class="ttdeci">uint16 mNumMetas</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00627">EdMap.h:627</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_ad22010d6c59bd0cf34862df837b2970e"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#ad22010d6c59bd0cf34862df837b2970e">Ed::CParkManager::CPieceSet::mIsClipboardSet</a></div><div class="ttdeci">char mIsClipboardSet</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00437">EdMap.h:437</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_adca8222b709542adbe4a80abdf17445c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#adca8222b709542adbe4a80abdf17445c">Ed::CParkManager::m_road_mask_tab_size</a></div><div class="ttdeci">uint m_road_mask_tab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00719">EdMap.h:719</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a80150a1b343fc4ae60556567445cb669"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a80150a1b343fc4ae60556567445cb669">Ed::CParkManager::bucketify_metapiece</a></div><div class="ttdeci">void bucketify_metapiece(CConcreteMetaPiece *pPiece)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04117">EdMap.cpp:4117</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af06ffb35bd29d3823932e27fe231c7ea"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af06ffb35bd29d3823932e27fe231c7ea">Ed::CParkManager::ReadFromStructure</a></div><div class="ttdeci">void ReadFromStructure(Script::CStruct *p_struct, bool do_post_mem_card_load=true, bool preMadePark=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01299">EdMap.cpp:1299</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html">Ed::CParkManager::CompressedGap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00670">EdMap.h:670</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_goal_editor_component_html_aab3296bc1cd7299f209ed83fdfd46bc3"><div class="ttname"><a href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#aab3296bc1cd7299f209ed83fdfd46bc3">Obj::CGoalEditorComponent::WriteIntoStructure</a></div><div class="ttdeci">void WriteIntoStructure(Script::CStruct *p_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d33/_goal_editor_component_8cpp_source.html#l01738">GoalEditorComponent.cpp:1738</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa31432a6f8aa945c5f71ac69c0adef0aab436c08a863a5df696a65ae8a0d3d929"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aab436c08a863a5df696a65ae8a0d3d929">Ed::CParkManager::TYPE_EMPTY_BLOCK</a></div><div class="ttdeci">@ TYPE_EMPTY_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00588">EdMap.h:588</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afd829e4424afb4b476b6fddf18b4b295a7fdc2708807797199790bad66dab1920"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a7fdc2708807797199790bad66dab1920">Ed::CParkManager::MAX_HEIGHT</a></div><div class="ttdeci">@ MAX_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00307">EdMap.h:307</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_a1d8b0d9e4d6924c6450200d98113d484"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a1d8b0d9e4d6924c6450200d98113d484">Ed::CClonedPiece::GetDims</a></div><div class="ttdeci">Mth::Vector GetDims()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00358">ParkGen.cpp:358</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html">Ed::CParkGenerator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00249">ParkGen.h:249</a></div></div>
<div class="ttc" id="anamespace_script_html_aaf10cce8c51e44ea46f7789b3db96bc0"><div class="ttname"><a href="../../d1/d54/namespace_script.html#aaf10cce8c51e44ea46f7789b3db96bc0">Script::GetStructure</a></div><div class="ttdeci">CStruct * GetStructure(uint32 checksum, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00639">symboltable.cpp:639</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html">Ed::CMapListNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00255">EdMap.h:255</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a14dcc985c27d4809bfb4c0d2c4d6639a"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a14dcc985c27d4809bfb4c0d2c4d6639a">Ed::CParkGenerator::CELL_WIDTH</a></div><div class="ttdeci">static const float CELL_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00254">ParkGen.h:254</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_generator_1_1_mem_usage_info_html"><div class="ttname"><a href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html">Ed::CParkGenerator::MemUsageInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00297">ParkGen.h:297</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a66dafe383e4c6378b828a55bb707ba81"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a66dafe383e4c6378b828a55bb707ba81">Ed::CParkManager::mp_park_name</a></div><div class="ttdeci">char mp_park_name[64]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00710">EdMap.h:710</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_a22f8c82d8b3c0686d02b7e9edf95c132"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a22f8c82d8b3c0686d02b7e9edf95c132">Ed::CClonedPiece::m_pos</a></div><div class="ttdeci">Mth::Vector m_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00242">ParkGen.h:242</a></div></div>
<div class="ttc" id="anamespace_gfx_html_a3b40fd4213d96987efb02104d0068687"><div class="ttname"><a href="../../de/d47/namespace_gfx.html#a3b40fd4213d96987efb02104d0068687">Gfx::flags</a></div><div class="ttdeci">unsigned char flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d76/_boned_anim_8cpp_source.html#l01996">BonedAnim.cpp:1996</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cursor_html_a2cfb0915c1a3e54b09079438e81bb06d"><div class="ttname"><a href="../../d0/db9/class_ed_1_1_c_cursor.html#a2cfb0915c1a3e54b09079438e81bb06d">Ed::CCursor::InformOfMetapieceDeletion</a></div><div class="ttdeci">void InformOfMetapieceDeletion(CConcreteMetaPiece *pMeta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d66/_park_ed_8cpp_source.html#l01766">ParkEd.cpp:1766</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a074ac988a20bdf34111efe372c5ad860"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a074ac988a20bdf34111efe372c5ad860">Ed::CParkManager::CompressedMapHeader::mTODScript</a></div><div class="ttdeci">uint32 mTODScript</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00630">EdMap.h:630</a></div></div>
<div class="ttc" id="a_defines_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned long uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00147">Defines.h:147</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_vector_html_aa0a393db506ce27b46dd736553b4821c"><div class="ttname"><a href="../../de/d4d/class_script_1_1_c_vector.html#aa0a393db506ce27b46dd736553b4821c">Script::CVector::mZ</a></div><div class="ttdeci">float mZ</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/vecpair_8h_source.html#l00034">vecpair.h:34</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_a5ed9c553a9e8d22d1ebe60938b55ac8e"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a5ed9c553a9e8d22d1ebe60938b55ac8e">Ed::CParkManager::CPieceSet::mpName</a></div><div class="ttdeci">const char * mpName</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00432">EdMap.h:432</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_adcdde59422a3ee25f99c4dcca561f4f9"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#adcdde59422a3ee25f99c4dcca561f4f9">Ed::CMapListTemp::~CMapListTemp</a></div><div class="ttdeci">~CMapListTemp()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00919">EdMap.cpp:919</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_goal_editor_component_html_a6d8b008ed284d9331672ef322ff872a3"><div class="ttname"><a href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#a6d8b008ed284d9331672ef322ff872a3">Obj::CGoalEditorComponent::ClearOnlyParkGoals</a></div><div class="ttdeci">void ClearOnlyParkGoals()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d33/_goal_editor_component_8cpp_source.html#l02337">GoalEditorComponent.cpp:2337</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_abae5054380fbc54a31a5558fe2350e26"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abae5054380fbc54a31a5558fe2350e26">Ed::CParkManager::m_num_general_concrete_metapieces</a></div><div class="ttdeci">int m_num_general_concrete_metapieces</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00558">EdMap.h:558</a></div></div>
<div class="ttc" id="aclass_mem_1_1_c_poolable_html_ac968d0b171efaca827bda711ccf0778c"><div class="ttname"><a href="../../d6/d3a/class_mem_1_1_c_poolable.html#ac968d0b171efaca827bda711ccf0778c">Mem::CPoolable::SCreatePool</a></div><div class="ttdeci">static void SCreatePool(int num_items, char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/_poolable_8h_source.html#l00149">Poolable.h:149</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a7fe87f363ad0319dd3c4befe8a1c8221"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a7fe87f363ad0319dd3c4befe8a1c8221">Ed::CParkManager::CompressedGapOld::extent</a></div><div class="ttdeci">uint8 extent[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00662">EdMap.h:662</a></div></div>
<div class="ttc" id="aclass_mem_1_1_region_html_abc46b799bdf5dd647d2ef63ac9feb720"><div class="ttname"><a href="../../d1/d75/class_mem_1_1_region.html#abc46b799bdf5dd647d2ef63ac9feb720">Mem::Region::MemAvailable</a></div><div class="ttdeci">int MemAvailable(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d15/region_8cpp_source.html#l00316">region.cpp:316</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_a8e7e5665c6d808d07fff7cb15537ed13"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a8e7e5665c6d808d07fff7cb15537ed13">Ed::CConcreteMetaPiece::lock</a></div><div class="ttdeci">void lock()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00452">EdMap.cpp:452</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_a6012621972fc7e733a5b8db7f370fdd8"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a6012621972fc7e733a5b8db7f370fdd8">Ed::CParkManager::CompressedGap::score</a></div><div class="ttdeci">uint16 score</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00681">EdMap.h:681</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a35ac30898de50a28bc3fe98c6cd186c2"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a35ac30898de50a28bc3fe98c6cd186c2">Ed::CParkManager::output_riser_stack</a></div><div class="ttdeci">void output_riser_stack(BuildFloorParams &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03354">EdMap.cpp:3354</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9609e8604386aed130773c9dae3d9d83a14ca2757cc69aeb7f75b198b984ddfbb"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a14ca2757cc69aeb7f75b198b984ddfbb">Ed::CParkManager::mNO_FLAGS</a></div><div class="ttdeci">@ mNO_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00694">EdMap.h:694</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a59e8d02d3a7a94033dc8e5a092b904ef"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a59e8d02d3a7a94033dc8e5a092b904ef">Ed::CParkGenerator::KillRestarts</a></div><div class="ttdeci">void KillRestarts()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02907">ParkGen.cpp:2907</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_editor_html_a7d21742d7c45dad9428d67cbcdeccd02"><div class="ttname"><a href="../../d8/d13/class_ed_1_1_c_park_editor.html#a7d21742d7c45dad9428d67cbcdeccd02">Ed::CParkEditor::PostMemoryCardLoad</a></div><div class="ttdeci">void PostMemoryCardLoad(uint8 *p_map_buffer, int oldTheme)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d66/_park_ed_8cpp_source.html#l00266">ParkEd.cpp:266</a></div></div>
<div class="ttc" id="acomponent_8h_html"><div class="ttname"><a href="../../d6/dcf/component_8h.html">component.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda21a485de4dbef2cca27f9233636f7a06"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda21a485de4dbef2cca27f9233636f7a06">Ed::CParkGenerator::vBLUE_FLAG</a></div><div class="ttdeci">@ vBLUE_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00283">ParkGen.h:283</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a21997198e42f263bbc6e8b8ffc6cf388"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21997198e42f263bbc6e8b8ffc6cf388">Ed::CParkManager::SwapMapBufferEndianness</a></div><div class="ttdeci">void SwapMapBufferEndianness()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04583">EdMap.cpp:4583</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_aea160384997eb4812d98eba9f497e727"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#aea160384997eb4812d98eba9f497e727">CFeeler::GetPoint</a></div><div class="ttdeci">const Mth::Vector &amp; GetPoint() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00107">feeler.h:107</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_aa07396a8313fbbab57f417c6c396ce24"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#aa07396a8313fbbab57f417c6c396ce24">Ed::CPiece::CastToCSourcePiece</a></div><div class="ttdeci">CSourcePiece * CastToCSourcePiece()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00117">ParkGen.cpp:117</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa60dabc1fad9263d10fc24cbb2c66c4b"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa60dabc1fad9263d10fc24cbb2c66c4b">Ed::CParkManager::setup_road_mask</a></div><div class="ttdeci">void setup_road_mask()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l05115">EdMap.cpp:5115</a></div></div>
<div class="ttc" id="afilesys_8h_html"><div class="ttname"><a href="../../dd/ddd/filesys_8h.html">filesys.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#acdb116c70dab797586e649e3a71b3552abfe7e30e59313551f3dd73f3286a383b">Ed::CMetaPiece::USUAL_NUM_DESCRIPTORS</a></div><div class="ttdeci">@ USUAL_NUM_DESCRIPTORS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00189">EdMap.h:189</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_ace0cbc73f67858c36fd22c871ec61875"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#ace0cbc73f67858c36fd22c871ec61875">Ed::CParkGenerator::GetResourceSize</a></div><div class="ttdeci">int GetResourceSize(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00425">ParkGen.cpp:425</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_aa27bdd009eb62b22c75dac7b9398a902"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#aa27bdd009eb62b22c75dac7b9398a902">Script::CStruct::ContainsFlag</a></div><div class="ttdeci">bool ContainsFlag(uint32 checksum) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01846">struct.cpp:1846</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a9c8fada25e2959505f7bec9faddccca4"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a9c8fada25e2959505f7bec9faddccca4">Ed::CParkGenerator::SetGapPiecesVisible</a></div><div class="ttdeci">void SetGapPiecesVisible(bool visible)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01400">ParkGen.cpp:1400</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a86d8b76a63b14fbe84d4eede0e6249ca"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86d8b76a63b14fbe84d4eede0e6249ca">Ed::CMetaPiece::GetRot</a></div><div class="ttdeci">Mth::ERot90 GetRot()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00138">EdMap.h:138</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_af8a63e2d8dad6e1528b15ad3ecc19aa1"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#af8a63e2d8dad6e1528b15ad3ecc19aa1">Ed::CParkManager::CompressedGap::x</a></div><div class="ttdeci">uint8 x[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00672">EdMap.h:672</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af640e213a45553360f591b8feb636449"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af640e213a45553360f591b8feb636449">Ed::CParkManager::destroy_concrete_metapieces</a></div><div class="ttdeci">void destroy_concrete_metapieces(CParkGenerator::EDestroyType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04554">EdMap.cpp:4554</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_a3e33572d1f7b63084672692100c4e52d"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a3e33572d1f7b63084672692100c4e52d">Ed::CParkManager::CPieceSet::mSelectedEntry</a></div><div class="ttdeci">int mSelectedEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00435">EdMap.h:435</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html">Ed::SMetaDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00040">EdMap.h:40</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a7eb3bc73e869fee828aec11b082cd007"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7eb3bc73e869fee828aec11b082cd007">Ed::CParkManager::GetFloorHeight</a></div><div class="ttdeci">int GetFloorHeight(int x, int z)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02660">EdMap.cpp:2660</a></div></div>
<div class="ttc" id="asymboltype_8h_html"><div class="ttname"><a href="../../d9/dc0/symboltype_8h.html">symboltype.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a4e26e4fca052fc81558935aa6c3fbc7c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4e26e4fca052fc81558935aa6c3fbc7c">Ed::CParkManager::GetAreaMetaPieces</a></div><div class="ttdeci">CMapListNode * GetAreaMetaPieces(GridDims dims)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02630">EdMap.cpp:2630</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a9ad3a4a75e537011e43e8644064c6145">Ed::CParkManager::mHAS_TOP</a></div><div class="ttdeci">@ mHAS_TOP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00489">EdMap.h:489</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a855bf0f77f8ff703b6e680e69027284c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a855bf0f77f8ff703b6e680e69027284c">Ed::CParkManager::GetMapListNode</a></div><div class="ttdeci">CMapListNode * GetMapListNode(int x, int z)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02655">EdMap.cpp:2655</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_ae4b2cb12d7b97ad5c359ca15c8b4cff4"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ae4b2cb12d7b97ad5c359ca15c8b4cff4">Ed::CParkManager::BuildFloorParams::heightSlotOffset</a></div><div class="ttdeci">int heightSlotOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00498">EdMap.h:498</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_adc0893aa1b81d3131b52a2db9544c096"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#adc0893aa1b81d3131b52a2db9544c096">Ed::CMetaPiece::IsInnerShell</a></div><div class="ttdeci">bool IsInnerShell()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00143">EdMap.h:143</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a5919d5f837b1ab92aada74c5df9860e0"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5919d5f837b1ab92aada74c5df9860e0">Ed::CParkManager::GridCoordinatesToWorld</a></div><div class="ttdeci">Mth::Vector GridCoordinatesToWorld(const GridDims &amp;cellDims, Mth::Vector *pRetDims=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02978">EdMap.cpp:2978</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_afc9a57c2e502543a7b7eb797475ace79"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#afc9a57c2e502543a7b7eb797475ace79">Script::CArray::GetInt</a></div><div class="ttdeci">int GetInt(uint32 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00117">array.h:117</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_source_piece_html"><div class="ttname"><a href="../../d4/d52/class_ed_1_1_c_source_piece.html">Ed::CSourcePiece</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00174">ParkGen.h:174</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a5586a643faa145979cf18beb1e08e39a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5586a643faa145979cf18beb1e08e39a">Ed::CParkManager::decrement_meta_count</a></div><div class="ttdeci">void decrement_meta_count(uint32 pieceChecksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02404">EdMap.cpp:2404</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1a85becc4bf917c55fa546b7f11226a978"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a85becc4bf917c55fa546b7f11226a978">Ed::CPiece::mSOFT_PIECE</a></div><div class="ttdeci">@ mSOFT_PIECE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00124">ParkGen.h:124</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html">Ed::CParkManager::CPieceSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00423">EdMap.h:423</a></div></div>
<div class="ttc" id="anamespace_ed_html"><div class="ttname"><a href="../../d2/d84/namespace_ed.html">Ed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d04/_ed_rail_8h_source.html#l00037">EdRail.h:37</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a50da321d52d0c53232d722687633fe58"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a50da321d52d0c53232d722687633fe58">Ed::CMetaPiece::CastToAbstractMeta</a></div><div class="ttdeci">CAbstractMetaPiece * CastToAbstractMeta()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00136">EdMap.cpp:136</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a0c053b8b40f412f44d426e8bb53e3fd5"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0c053b8b40f412f44d426e8bb53e3fd5">Ed::CParkManager::GetCompressedMapBuffer</a></div><div class="ttdeci">uint8 * GetCompressedMapBuffer(bool markSaved=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01201">EdMap.cpp:1201</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_ae56ca588726bbd9f9488b7d918921dd5"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#ae56ca588726bbd9f9488b7d918921dd5">Ed::GridDims::GetY</a></div><div class="ttdeci">sint8 GetY() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00073">ParkGen.h:73</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1aba0d234bd787ef99e52337c720a3c6ea"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1aba0d234bd787ef99e52337c720a3c6ea">Ed::CPiece::mNO_RAILS</a></div><div class="ttdeci">@ mNO_RAILS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00133">ParkGen.h:133</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html_a14d59619fbe36a02d00b6739c4fa9172"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html#a14d59619fbe36a02d00b6739c4fa9172">Mth::Matrix::Translate</a></div><div class="ttdeci">Matrix &amp; Translate(const Vector &amp;trans)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/matrix_8inl_source.html#l00755">matrix.inl:755</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a5cac96c24586edfa719311b658213429"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5cac96c24586edfa719311b658213429">Ed::CParkManager::RelocateMetaPiece</a></div><div class="ttdeci">CConcreteMetaPiece * RelocateMetaPiece(CConcreteMetaPiece *pMeta, int changeX, int changeY, int changeZ)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02488">EdMap.cpp:2488</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_af335b83cb06ac2934f891089c295bdf9"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#af335b83cb06ac2934f891089c295bdf9">Script::CArray::GetStructure</a></div><div class="ttdeci">CStruct * GetStructure(uint32 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00528">array.cpp:528</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_a0421ac86228530fd4d38c54b194f9ce7a2da18dca90926a9c65aee9d39dcb2a16"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a0421ac86228530fd4d38c54b194f9ce7a2da18dca90926a9c65aee9d39dcb2a16">Ed::CParkManager::CPieceSet::MAX_ENTRIES</a></div><div class="ttdeci">@ MAX_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00428">EdMap.h:428</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1ae7162b2b97bf6c734c0f3eb82e6812cd"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1ae7162b2b97bf6c734c0f3eb82e6812cd">Ed::CPiece::mIN_WORLD</a></div><div class="ttdeci">@ mIN_WORLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00127">ParkGen.h:127</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a160cb13dfecec01cd788d6562de29f18">Ed::CParkManager::FLOOR_MAX_WIDTH</a></div><div class="ttdeci">@ FLOOR_MAX_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00312">EdMap.h:312</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a3ad9ca4fc95eca9fe5d1a5e802675938"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3ad9ca4fc95eca9fe5d1a5e802675938">Ed::CParkManager::fake_compressed_map_buffer</a></div><div class="ttdeci">void fake_compressed_map_buffer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04799">EdMap.cpp:4799</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_aead99266b8af234bd81b5b7c5791417f"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#aead99266b8af234bd81b5b7c5791417f">Ed::CGapManager::MakeGapWireframe</a></div><div class="ttdeci">void MakeGapWireframe(int tab_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00336">GapManager.cpp:336</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_ac30426a6b3ae21ea66aef047e6892d99"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac30426a6b3ae21ea66aef047e6892d99">Ed::CMapListNode::DestroyList</a></div><div class="ttdeci">void DestroyList()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00879">EdMap.cpp:879</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html_a019eca0aefed8bdfd54629c6dfcc81fb"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html#a019eca0aefed8bdfd54629c6dfcc81fb">Mth::Matrix::SetPos</a></div><div class="ttdeci">void SetPos(const Vector &amp;trans)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/matrix_8inl_source.html#l00770">matrix.inl:770</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a138d0769ee297cbebbf5f6e2b3dcf3ac"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a138d0769ee297cbebbf5f6e2b3dcf3ac">Ed::CParkGenerator::ClonePiece</a></div><div class="ttdeci">CClonedPiece * ClonePiece(CPiece *pMasterPiece, CPiece::EFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00697">ParkGen.cpp:697</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html">Ed::GridDims</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00062">ParkGen.h:62</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_aeb5a62959f8b3f739d850f35dc72a4e3"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#aeb5a62959f8b3f739d850f35dc72a4e3">Ed::CConcreteMetaPiece::test_for_conflict</a></div><div class="ttdeci">bool test_for_conflict(GridDims area, bool excludeRisers)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00526">EdMap.cpp:526</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_a6d4df8381bef8ab0b34448b3a251bfeb"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a6d4df8381bef8ab0b34448b3a251bfeb">Ed::CConcreteMetaPiece::SetSoftRot</a></div><div class="ttdeci">void SetSoftRot(Mth::Vector pos, float rot)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00385">EdMap.cpp:385</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a84c7ca13cb4de1c44c6374007d750659"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a84c7ca13cb4de1c44c6374007d750659">Ed::CMetaPiece::m_num_used_entries</a></div><div class="ttdeci">uint m_num_used_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00195">EdMap.h:195</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_afcb29174f3fb4ccfb05975f3f9f53dd0"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#afcb29174f3fb4ccfb05975f3f9f53dd0">Ed::CGapManager::GapDescriptor::rightExtent</a></div><div class="ttdeci">int rightExtent[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00031">GapManager.h:31</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a010b7b7d003d063a72203943c20fc6c0"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a010b7b7d003d063a72203943c20fc6c0">Ed::CParkManager::AddGap</a></div><div class="ttdeci">bool AddGap(CGapManager::GapDescriptor &amp;descriptor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03132">EdMap.cpp:3132</a></div></div>
<div class="ttc" id="acrc_8h_html"><div class="ttname"><a href="../../dc/de6/crc_8h.html">crc.h</a></div></div>
<div class="ttc" id="aclass_nx_1_1_c_scene_html_aac9fc3daa60c4ef1743df068ad929489"><div class="ttname"><a href="../../de/d7a/class_nx_1_1_c_scene.html#aac9fc3daa60c4ef1743df068ad929489">Nx::CScene::UpdateSuperSectors</a></div><div class="ttdeci">void UpdateSuperSectors(Lst::Head&lt; CSector &gt; *p_additional_remove_list=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d81/_nx_scene_8cpp_source.html#l00833">NxScene.cpp:833</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa142b46cafebc096fc2ead1fe41fe5fd8"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa142b46cafebc096fc2ead1fe41fe5fd8">Ed::CMetaPiece::mMARK_FOR_KILL</a></div><div class="ttdeci">@ mMARK_FOR_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00096">EdMap.h:96</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda065af787e48b2e8ee826d1cb792a8887"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda065af787e48b2e8ee826d1cb792a8887">Ed::CParkGenerator::vONE_PLAYER</a></div><div class="ttdeci">@ vONE_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00277">ParkGen.h:277</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa29a4e2b6b9e303aa60a65d134831be2"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa29a4e2b6b9e303aa60a65d134831be2">Ed::CParkManager::read_from_compressed_map_buffer</a></div><div class="ttdeci">void read_from_compressed_map_buffer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04869">EdMap.cpp:4869</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa91f61d3a5615c23ba7ff4cc8d0d51523"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa91f61d3a5615c23ba7ff4cc8d0d51523">Ed::CMetaPiece::mGAP_ATTACHED</a></div><div class="ttdeci">@ mGAP_ATTACHED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00108">EdMap.h:108</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_a9cd7d9e137006d39aa2c3563a6ef229a"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a9cd7d9e137006d39aa2c3563a6ef229a">Ed::CParkManager::BuildFloorParams::dryRun</a></div><div class="ttdeci">bool dryRun</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00503">EdMap.h:503</a></div></div>
<div class="ttc" id="anamespace_ed_html_a3da6d683fae7921c37baa34589a21311"><div class="ttname"><a href="../../d2/d84/namespace_ed.html#a3da6d683fae7921c37baa34589a21311">Ed::DefineSingletonClass</a></div><div class="ttdeci">DefineSingletonClass(CParkManager, &quot;Park Manager&quot;)</div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_ae6fb5321e1b725ac7be55bf867cbc31a"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ae6fb5321e1b725ac7be55bf867cbc31a">Ed::CConcreteMetaPiece::add_piece</a></div><div class="ttdeci">virtual void add_piece(CPiece *pPiece, GridDims *pPos, Mth::ERot90 rot=Mth::ROT_0, bool isRiser=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00595">EdMap.cpp:595</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_a77128b7982537ef06cb3fe7edbab0c6e"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a77128b7982537ef06cb3fe7edbab0c6e">Ed::CGapManager::GetFreeGapIndex</a></div><div class="ttdeci">int GetFreeGapIndex()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00097">GapManager.cpp:97</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html">Ed::CAbstractMetaPiece</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00234">EdMap.h:234</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ae8f488bd2c30fd13f0f8093800430288"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae8f488bd2c30fd13f0f8093800430288">Ed::CParkManager::CanPlacePiecesIn</a></div><div class="ttdeci">bool CanPlacePiecesIn(GridDims cellDims, bool ignoreFloorHeight=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03054">EdMap.cpp:3054</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a385f69e1fb9388dc865395aa970c533b"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a385f69e1fb9388dc865395aa970c533b">Ed::CParkGenerator::UnloadMasterPieces</a></div><div class="ttdeci">void UnloadMasterPieces()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01013">ParkGen.cpp:1013</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a2fd2144bcfe6904a68a9bfd12fd45ba4"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a2fd2144bcfe6904a68a9bfd12fd45ba4">Ed::GridDims::SetXYZ</a></div><div class="ttdeci">void SetXYZ(uint8 x, sint8 y, uint8 z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00067">ParkGen.h:67</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a8dccdc404bda48d83671bcc8365fc1ad"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8dccdc404bda48d83671bcc8365fc1ad">Ed::CParkManager::mp_generator</a></div><div class="ttdeci">CParkGenerator * mp_generator</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00479">EdMap.h:479</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_a9b629f7271f9ade18ce9d7d7ef924a45"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a9b629f7271f9ade18ce9d7d7ef924a45">Ed::SMetaDescriptor::mX</a></div><div class="ttdeci">uint8 mX</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00042">EdMap.h:42</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a06a2120a7cd1b28d0aae5440deb79216"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a06a2120a7cd1b28d0aae5440deb79216">Ed::CParkManager::CompressedMapHeader::mTheme</a></div><div class="ttdeci">uint16 mTheme</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00621">EdMap.h:621</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_s_build_list_entry_html_a62cd4e431a32717bb02b247d85b26556"><div class="ttname"><a href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html#a62cd4e431a32717bb02b247d85b26556">Ed::CParkManager::SBuildListEntry::mPos</a></div><div class="ttdeci">GridDims mPos</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00546">EdMap.h:546</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a4ec12f38a67e0abdf109859818d85505ae58701e17c294e41d2f0c3ee5dbd217b"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a4ec12f38a67e0abdf109859818d85505ae58701e17c294e41d2f0c3ee5dbd217b">Ed::CParkGenerator::DESTROY_PIECES_AND_SECTORS</a></div><div class="ttdeci">@ DESTROY_PIECES_AND_SECTORS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00270">ParkGen.h:270</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca4757ef8afebf0e2e2abe42ba8c719802">Ed::CParkManager::mDONT_DESTROY_PIECES_ABOVE</a></div><div class="ttdeci">@ mDONT_DESTROY_PIECES_ABOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00366">EdMap.h:366</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_a4f6b2b1d41b3bbaf5b64a7f9de75da49"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4f6b2b1d41b3bbaf5b64a7f9de75da49">Ed::CParkManager::BuildFloorParams::addCount</a></div><div class="ttdeci">int addCount</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00504">EdMap.h:504</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ab7adab45be5df3c3fa512bddf4f3adce"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab7adab45be5df3c3fa512bddf4f3adce">Ed::CParkManager::m_num_concrete_metapieces</a></div><div class="ttdeci">int m_num_concrete_metapieces</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00557">EdMap.h:557</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a362cfc180483e7a4efb7ffd590b1ee0e"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a362cfc180483e7a4efb7ffd590b1ee0e">Ed::CParkManager::m_floor_height_map</a></div><div class="ttdeci">FloorHeightEntry ** m_floor_height_map</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00607">EdMap.h:607</a></div></div>
<div class="ttc" id="a_rail_editor_component_8h_html"><div class="ttname"><a href="../../d0/d0a/_rail_editor_component_8h.html">RailEditorComponent.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a34a860870701070bcb94590d688d1e9c">Ed::CParkManager::mIN_SYNC_WITH_PARK</a></div><div class="ttdeci">@ mIN_SYNC_WITH_PARK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00695">EdMap.h:695</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a5fbc2c9d1db2c87fb4633333ef989559"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a5fbc2c9d1db2c87fb4633333ef989559">Script::CArray::GetChecksum</a></div><div class="ttdeci">uint32 GetChecksum(uint32 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00483">array.cpp:483</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_a8a92d5f32e7feb727986e7580a498e8a"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a8a92d5f32e7feb727986e7580a498e8a">Ed::CMapListTemp::GetList</a></div><div class="ttdeci">CMapListNode * GetList()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00928">EdMap.cpp:928</a></div></div>
<div class="ttc" id="a_defines_8h_html_ada7e83fdfe943aba4f1d5bf80cb66f40"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#ada7e83fdfe943aba4f1d5bf80cb66f40">sint</a></div><div class="ttdeci">signed int sint</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00137">Defines.h:137</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_aad86f6ef2094d71a59dd838586164853"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#aad86f6ef2094d71a59dd838586164853">Ed::CParkManager::CompressedGap::y</a></div><div class="ttdeci">uint8 y[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00673">EdMap.h:673</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_abfe1d3f53e77695384e1b95db6043ad3"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abfe1d3f53e77695384e1b95db6043ad3">Ed::CParkManager::UndoSlideColumn</a></div><div class="ttdeci">void UndoSlideColumn()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02915">EdMap.cpp:2915</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_source_piece_html_ad6a75cea46307a5f23bee920bad5a704"><div class="ttname"><a href="../../d4/d52/class_ed_1_1_c_source_piece.html#ad6a75cea46307a5f23bee920bad5a704">Ed::CSourcePiece::GetType</a></div><div class="ttdeci">uint32 GetType()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00182">ParkGen.cpp:182</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_ac12d3ba81a547a6726cc17ed403b3d49"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ac12d3ba81a547a6726cc17ed403b3d49">Ed::CClonedPiece::Highlight</a></div><div class="ttdeci">void Highlight(bool on, bool makePurple=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00304">ParkGen.cpp:304</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9ba4990b2d9016285c3dcf346e43c92f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9ba4990b2d9016285c3dcf346e43c92f">Ed::CParkManager::mp_gap_manager</a></div><div class="ttdeci">CGapManager * mp_gap_manager</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00734">EdMap.h:734</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_floor_height_entry_html_a3f69150292cfd1788e93e283d7c48dd4"><div class="ttname"><a href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a3f69150292cfd1788e93e283d7c48dd4">Ed::CParkManager::FloorHeightEntry::mSlideAmount</a></div><div class="ttdeci">int mSlideAmount</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00604">EdMap.h:604</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_a65cf7a62d55abad358c711fe412ceb10"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a65cf7a62d55abad358c711fe412ceb10">Ed::CMapListNode::mp_meta</a></div><div class="ttdeci">CMetaPiece * mp_meta</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00271">EdMap.h:271</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a5fc7ffad026c180b3b484dea38067b67"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5fc7ffad026c180b3b484dea38067b67">Ed::CMetaPiece::m_name_checksum</a></div><div class="ttdeci">uint32 m_name_checksum</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00197">EdMap.h:197</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_aa39e6fe5fdf1d6c48136ae26a7ad511e"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#aa39e6fe5fdf1d6c48136ae26a7ad511e">Script::CStruct::GetChecksum</a></div><div class="ttdeci">bool GetChecksum(uint32 nameChecksum, uint32 *p_checksum, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01658">struct.cpp:1658</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa6f01f0e596e699caa433acc322526367"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6f01f0e596e699caa433acc322526367">Ed::CMetaPiece::mCONCRETE_META</a></div><div class="ttdeci">@ mCONCRETE_META</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00090">EdMap.h:90</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a44b18be960888e16b7640fbe2fcc7261a22d2c0cd710fc5f932caabdfc8ff8f81"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a22d2c0cd710fc5f932caabdfc8ff8f81">Ed::CParkManager::mFIRST_RECURSE</a></div><div class="ttdeci">@ mFIRST_RECURSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00521">EdMap.h:521</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af7caaa7776e54ce34b5702f2621f5c1f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af7caaa7776e54ce34b5702f2621f5c1f">Ed::CParkManager::intersection_with_riser_containing_metas</a></div><div class="ttdeci">bool intersection_with_riser_containing_metas(GridDims area)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03681">EdMap.cpp:3681</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_ab6805f805d22e3876bcd47552a663f1a"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#ab6805f805d22e3876bcd47552a663f1a">Script::CStruct::AddInteger</a></div><div class="ttdeci">void AddInteger(uint32 nameChecksum, int integer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01039">struct.cpp:1039</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa6dd16ea98440bbf74ef47e2d6a202cc7">Ed::CMetaPiece::mNOT_ON_GC</a></div><div class="ttdeci">@ mNOT_ON_GC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00110">EdMap.h:110</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a699e97cdc29f6863ddb33b289a5028f3"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a699e97cdc29f6863ddb33b289a5028f3">Ed::CParkGenerator::SetLight</a></div><div class="ttdeci">void SetLight(Mth::Vector &amp;light_pos, int light_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01462">ParkGen.cpp:1462</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af34c6f086e7988568ef2ac781441913f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af34c6f086e7988568ef2ac781441913f">Ed::CParkManager::GetMetaPiecesAt</a></div><div class="ttdeci">CMapListNode * GetMetaPiecesAt(GridDims dims, Mth::ERot90 rot=Mth::ROT_0, CAbstractMetaPiece *pPiece=NULL, bool excludeRisers=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02546">EdMap.cpp:2546</a></div></div>
<div class="ttc" id="anamespace_file_html_a42faef384ac438a449656a07258cdbec"><div class="ttname"><a href="../../de/d10/namespace_file.html#a42faef384ac438a449656a07258cdbec">File::GetFileSize</a></div><div class="ttdeci">long GetFileSize(void *pFP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/ngc_2p__filesys_8cpp_source.html#l00272">p_filesys.cpp:272</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_a4c8af84ecde257b422fcf060ba010e7a"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#a4c8af84ecde257b422fcf060ba010e7a">Ed::CParkManager::CPieceSet::mEntryTab</a></div><div class="ttdeci">CPieceEntry mEntryTab[MAX_ENTRIES]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00433">EdMap.h:433</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a294b6088fc662e0f95d45feea3cfda70"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a294b6088fc662e0f95d45feea3cfda70">Ed::CParkManager::Destroy</a></div><div class="ttdeci">void Destroy(CParkGenerator::EDestroyType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01509">EdMap.cpp:1509</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635ab722ceeb601c72cd78fbd35f3581fdf7">W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html_a99858f9bd03fcad25da123aa7f5d289c"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a99858f9bd03fcad25da123aa7f5d289c">Ed::CAbstractMetaPiece::add_piece_dumb</a></div><div class="ttdeci">void add_piece_dumb(CAbstractMetaPiece *pMeta, GridDims *pPos, Mth::ERot90 rot, bool isRiser)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00722">EdMap.cpp:722</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a323537973b840f0a489adcdb515aca46aba4df48d4056e79e948b7e17fee78aea"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46aba4df48d4056e79e948b7e17fee78aea">Ed::CParkManager::mNO_COVER</a></div><div class="ttdeci">@ mNO_COVER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00490">EdMap.h:490</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acd1ec3e05f65d190fa03c325bf29fe7ca592474775cfa48dd36b7765d0f99ff44"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7ca592474775cfa48dd36b7765d0f99ff44">Ed::CParkManager::mEXCLUDE_PIECES_MARKED_AS_SLID</a></div><div class="ttdeci">@ mEXCLUDE_PIECES_MARKED_AS_SLID</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00369">EdMap.h:369</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_acb1e6c41089912130161decdf9df3fed"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#acb1e6c41089912130161decdf9df3fed">Ed::CParkManager::BuildFloorParams::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00496">EdMap.h:496</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a27d061914ec80f54612448e401851951"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a27d061914ec80f54612448e401851951">Ed::CParkManager::CompressedMapHeader::mX</a></div><div class="ttdeci">uint8 mX</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00623">EdMap.h:623</a></div></div>
<div class="ttc" id="aclass_mem_1_1_c_poolable_html"><div class="ttname"><a href="../../d6/d3a/class_mem_1_1_c_poolable.html">Mem::CPoolable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/_poolable_8h_source.html#l00032">Poolable.h:32</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa31432a6f8aa945c5f71ac69c0adef0aa8973c98408b1a3ebf02fca2798b0f2f7"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aa8973c98408b1a3ebf02fca2798b0f2f7">Ed::CParkManager::TYPE_FLOOR_WALL_BLOCK</a></div><div class="ttdeci">@ TYPE_FLOOR_WALL_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00590">EdMap.h:590</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a323537973b840f0a489adcdb515aca46a2074b67dec5fd4d9499e3b978c087086"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46a2074b67dec5fd4d9499e3b978c087086">Ed::CParkManager::mHAS_BOTTOM</a></div><div class="ttdeci">@ mHAS_BOTTOM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00488">EdMap.h:488</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a27babeffb0b766497f96107c4e1762ec"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a27babeffb0b766497f96107c4e1762ec">Ed::CParkManager::slide_column_part_one</a></div><div class="ttdeci">bool slide_column_part_one(GridDims area, int bottom, int top, ESlideColumnFlags flags, CMapListNode **ppMoveList)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03706">EdMap.cpp:3706</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_aa4378aeab90d46b1f6827bf25337ca80"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#aa4378aeab90d46b1f6827bf25337ca80">Ed::CParkGenerator::CalculateLighting</a></div><div class="ttdeci">void CalculateLighting(CClonedPiece *p_piece)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01472">ParkGen.cpp:1472</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_ae000285eb156ad1d6d98bc3c0842e05c"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#ae000285eb156ad1d6d98bc3c0842e05c">Ed::CGapManager::GapDescriptor::mCancelFlags</a></div><div class="ttdeci">uint32 mCancelFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00038">GapManager.h:38</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a0fc04045a28bdfa0b0a9694dbe6f78e6"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0fc04045a28bdfa0b0a9694dbe6f78e6">Ed::CParkManager::m_num_metas_killed_in_slide</a></div><div class="ttdeci">int m_num_metas_killed_in_slide</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00514">EdMap.h:514</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_a412f4a77f4ec3704436da9877639bcb0"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a412f4a77f4ec3704436da9877639bcb0">Ed::CGapManager::EndGap</a></div><div class="ttdeci">void EndGap(CClonedPiece *pGapPiece, CConcreteMetaPiece *pRegularMeta, int tab_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00130">GapManager.cpp:130</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_af94a8e757967387d8c33a56b1855b1ac"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#af94a8e757967387d8c33a56b1855b1ac">Ed::CConcreteMetaPiece::CountContainedPieces</a></div><div class="ttdeci">int CountContainedPieces()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00362">EdMap.cpp:362</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a88e58f299fcaa6be0d1dac62b7997f68"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a88e58f299fcaa6be0d1dac62b7997f68">Ed::CParkGenerator::SetLightProps</a></div><div class="ttdeci">void SetLightProps(int num_lights, float amb_const_r, float amb_const_g, float amb_const_b, float falloff_const_r, float falloff_const_g, float falloff_const_b, float cursor_ambience)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01440">ParkGen.cpp:1440</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a148578e4bcaf934dd174fe0d4b2c922d">Ed::CParkManager::mUP</a></div><div class="ttdeci">@ mUP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00520">EdMap.h:520</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a4e73ec6340f9fb57c6f94948dcf74985"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a4e73ec6340f9fb57c6f94948dcf74985">Ed::CParkGenerator::DestroyRailInfo</a></div><div class="ttdeci">void DestroyRailInfo()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01864">ParkGen.cpp:1864</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a691996908ee2237569b99ca8784a8b96"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a691996908ee2237569b99ca8784a8b96">Ed::CParkManager::SetFloorHeight</a></div><div class="ttdeci">void SetFloorHeight(GridDims area, int newHeight, bool justDropHighest)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02792">EdMap.cpp:2792</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a5cfabc42659d7b73ab472ac094c33e81"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a5cfabc42659d7b73ab472ac094c33e81">Script::CArray::SetInteger</a></div><div class="ttdeci">void SetInteger(uint32 index, int int_val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00285">array.cpp:285</a></div></div>
<div class="ttc" id="aarray_8h_html"><div class="ttname"><a href="../../db/d63/array_8h.html">array.h</a></div></div>
<div class="ttc" id="anamespace_ed_html_ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9"><div class="ttname"><a href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377a19b78f7ffca937ab75d81d9c2b0100d9">Ed::L</a></div><div class="ttdeci">@ L</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00053">ParkGen.h:53</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_abf0d5d0acf8e4b3428057d9af7b8b761a89d4fe0eccfebec4006c4438b2b6d56a"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a89d4fe0eccfebec4006c4438b2b6d56a">Ed::CClonedPiece::CHANGE_SECTOR</a></div><div class="ttdeci">@ CHANGE_SECTOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00221">ParkGen.h:221</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afab94a68ae878d8dd5dcc832aa1752bbee"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afab94a68ae878d8dd5dcc832aa1752bbee">Ed::CMetaPiece::mLOCK_AGAINST_DELETE</a></div><div class="ttdeci">@ mLOCK_AGAINST_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00104">EdMap.h:104</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a192dc595be3d28c541c90bba4928f4e2"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a192dc595be3d28c541c90bba4928f4e2">Ed::GridDims::PrintContents</a></div><div class="ttdeci">void PrintContents() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00097">EdMap.cpp:97</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_ac562f79e9f3ffe1f889473ca717d1cb1"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ac562f79e9f3ffe1f889473ca717d1cb1">Ed::CMapListNode::GetAbstractMeta</a></div><div class="ttdeci">CAbstractMetaPiece * GetAbstractMeta()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00263">EdMap.h:263</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_ad7072ac02ad7c42bad1882db14cbd8c4"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad7072ac02ad7c42bad1882db14cbd8c4">Ed::CConcreteMetaPiece::CConcreteMetaPiece</a></div><div class="ttdeci">CConcreteMetaPiece()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00353">EdMap.cpp:353</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a7b827c8daf90b247ab80761a7262eb32"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7b827c8daf90b247ab80761a7262eb32">Ed::CParkManager::HighlightMetasInArea</a></div><div class="ttdeci">void HighlightMetasInArea(GridDims area, bool on)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02256">EdMap.cpp:2256</a></div></div>
<div class="ttc" id="anamespace_mth_html_a7b9b1c529db03b284ac3fce278234cc2ac24e7e3a2765335df4beb94d4c728837"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a7b9b1c529db03b284ac3fce278234cc2ac24e7e3a2765335df4beb94d4c728837">Mth::POS</a></div><div class="ttdeci">@ POS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df4/matrix_8h_source.html#l00049">matrix.h:49</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a110fd230231d46b0ed5b7e413acfbf54"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a110fd230231d46b0ed5b7e413acfbf54">Ed::CParkManager::CompressedGapOld::x</a></div><div class="ttdeci">uint8 x[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00658">EdMap.h:658</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_aa36b83e11bc21f6a524d6ef60c223e9d"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#aa36b83e11bc21f6a524d6ef60c223e9d">Ed::GridDims::GetH</a></div><div class="ttdeci">uint8 GetH() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00076">ParkGen.h:76</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ae149ab720d7e8d7cc72a428cdc84ebfa"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae149ab720d7e8d7cc72a428cdc84ebfa">Ed::CParkManager::m_park_is_valid</a></div><div class="ttdeci">bool m_park_is_valid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00481">EdMap.h:481</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a89f423f3af087392036020679c179d86"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a89f423f3af087392036020679c179d86">Ed::GridDims::MakeInfiniteOnY</a></div><div class="ttdeci">void MakeInfiniteOnY()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00088">EdMap.cpp:88</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_a7bc0ecda109fa2fd4275fd0d4e16a89f"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a7bc0ecda109fa2fd4275fd0d4e16a89f">Ed::CParkManager::CompressedGap::text</a></div><div class="ttdeci">char text[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00680">EdMap.h:680</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a4e9259b675305e05c438df2c7c6b6623"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a4e9259b675305e05c438df2c7c6b6623">Ed::GridDims::GetX</a></div><div class="ttdeci">uint8 GetX() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00072">ParkGen.h:72</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_ac527a8e2fc184b1877112c6dbb84b411"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ac527a8e2fc184b1877112c6dbb84b411">Ed::CClonedPiece::SetSoftRot</a></div><div class="ttdeci">void SetSoftRot(float rot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00263">ParkGen.cpp:263</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a434c2a11c366bb7f3c3bd4d71c422eaf"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a434c2a11c366bb7f3c3bd4d71c422eaf">Ed::CParkGenerator::GetResourceUsageInfo</a></div><div class="ttdeci">MemUsageInfo GetResourceUsageInfo(bool printInfo=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00523">ParkGen.cpp:523</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_af0481773c309ece51ef8c70fc083436b"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#af0481773c309ece51ef8c70fc083436b">Script::CStruct::GetNextComponent</a></div><div class="ttdeci">CComponent * GetNextComponent(CComponent *p_comp=NULL) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l00824">struct.cpp:824</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afae207f535debe18ef23b8ad35658b9a8b">Ed::CMetaPiece::mSINGULAR</a></div><div class="ttdeci">@ mSINGULAR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00100">EdMap.h:100</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afe3b49be10db3c24e7a68e400f00ade5"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afe3b49be10db3c24e7a68e400f00ade5">Ed::CParkManager::RebuildNodeArray</a></div><div class="ttdeci">void RebuildNodeArray()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01668">EdMap.cpp:1668</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a9c2debc01ab08d1701260f26ad42fe47"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a9c2debc01ab08d1701260f26ad42fe47">Ed::CParkManager::CompressedGapOld::text</a></div><div class="ttdeci">char text[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00666">EdMap.h:666</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_aeb3fc85704c5e3811b7dd4bebff78b3f"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#aeb3fc85704c5e3811b7dd4bebff78b3f">Mth::Vector::Set</a></div><div class="ttdeci">Vector &amp; Set(float cx=0.0f, float cy=0.0f, float cz=0.0f, float cw=1.0f)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00368">vector.inl:368</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html_a53e305e028e93d9416f979cf26de9e09"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html#a53e305e028e93d9416f979cf26de9e09">Mth::Matrix::RotateY</a></div><div class="ttdeci">Matrix &amp; RotateY(const float angle)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/matrix_8inl_source.html#l00885">matrix.inl:885</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a5596231eabd6cf29050967d5ac83ad84">Y</a></div><div class="ttdeci">@ Y</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a2adf793600b3f15c6d15e8527a82a02c"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a2adf793600b3f15c6d15e8527a82a02c">Ed::CPiece::CastToCClonedPiece</a></div><div class="ttdeci">CClonedPiece * CastToCClonedPiece()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00126">ParkGen.cpp:126</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa9c39276c15cca0b960a10838da6817a1"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9c39276c15cca0b960a10838da6817a1">Ed::CMetaPiece::mGAP_PLACEMENT</a></div><div class="ttdeci">@ mGAP_PLACEMENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00107">EdMap.h:107</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_ade5883b0bd966389e6e3d21ac1efa1f6"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ade5883b0bd966389e6e3d21ac1efa1f6">Ed::CMetaPiece::set_flag</a></div><div class="ttdeci">void set_flag(EFlags flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00173">EdMap.h:173</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acb77e069fc32c8ffb1a6a9c0ac0faeef"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acb77e069fc32c8ffb1a6a9c0ac0faeef">Ed::CParkManager::GetShellSceneID</a></div><div class="ttdeci">uint32 GetShellSceneID()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01847">EdMap.cpp:1847</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_a8dde6360ad8b73d84ff4d46b9bfdb74a"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8dde6360ad8b73d84ff4d46b9bfdb74a">Ed::CParkManager::CompressedGap::mCancelFlags</a></div><div class="ttdeci">uint32 mCancelFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00683">EdMap.h:683</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa63810533da64391bcaeebb26c78c0ec"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa63810533da64391bcaeebb26c78c0ec">Ed::CParkManager::GetParkNearBounds</a></div><div class="ttdeci">const GridDims &amp; GetParkNearBounds()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00408">EdMap.h:408</a></div></div>
<div class="ttc" id="amath_8h_html"><div class="ttname"><a href="../../df/db1/math_8h.html">math.h</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_floor_height_entry_html_a6aee39508ea9a2210cfc3a587561c50f"><div class="ttname"><a href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a6aee39508ea9a2210cfc3a587561c50f">Ed::CParkManager::FloorHeightEntry::mMarkAsSlid</a></div><div class="ttdeci">bool mMarkAsSlid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00603">EdMap.h:603</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_af25a00fd7bed84c8aee3d7b6e86901e1"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#af25a00fd7bed84c8aee3d7b6e86901e1">Ed::CParkGenerator::NotEnoughRestartsOfType</a></div><div class="ttdeci">bool NotEnoughRestartsOfType(RestartType type, int need)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02759">ParkGen.cpp:2759</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a69b98ddb102c7e86cbde155e668cb8aa"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a69b98ddb102c7e86cbde155e668cb8aa">Ed::CPiece::GetCellDims</a></div><div class="ttdeci">void GetCellDims(GridDims *pDims)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00097">ParkGen.cpp:97</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a5d9860e75457556161201e9cf3e9732d"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a5d9860e75457556161201e9cf3e9732d">Script::CStruct::GetText</a></div><div class="ttdeci">bool GetText(uint32 nameChecksum, const char **pp_text, bool assert=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01939">struct.cpp:1939</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html">Ed::CClonedPiece</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00209">ParkGen.h:209</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_goal_editor_component_html_acc9662d2e9e1152f77d5f7bbcd05cb50"><div class="ttname"><a href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#acc9662d2e9e1152f77d5f7bbcd05cb50">Obj::CGoalEditorComponent::ReadFromStructure</a></div><div class="ttdeci">void ReadFromStructure(Script::CStruct *p_info, EBoolLoadingParkGoals loadingParkGoals=NOT_LOADING_PARK_GOALS)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d33/_goal_editor_component_8cpp_source.html#l01859">GoalEditorComponent.cpp:1859</a></div></div>
<div class="ttc" id="anamespace_script_html_a023fa80aced222388397847244805794"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a023fa80aced222388397847244805794">Script::max</a></div><div class="ttdeci">static int max</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l00492">struct.cpp:492</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_ae289132372ee1aee765a3968ba2f9307"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ae289132372ee1aee765a3968ba2f9307">Ed::CMetaPiece::IsRestartOrFlag</a></div><div class="ttdeci">bool IsRestartOrFlag()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00142">EdMap.cpp:142</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a75d655ae8e34fd3a1cc5fb9683fb5cfb"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a75d655ae8e34fd3a1cc5fb9683fb5cfb">Ed::CParkGenerator::RemoveOuterShellPieces</a></div><div class="ttdeci">void RemoveOuterShellPieces(int theme)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01093">ParkGen.cpp:1093</a></div></div>
<div class="ttc" id="a_defines_8h_html"><div class="ttname"><a href="../../d8/de2/_defines_8h.html">Defines.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a3f0bad63723cab3a38352eab9bcf9b59"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f0bad63723cab3a38352eab9bcf9b59">Ed::CParkManager::mp_column_slide_list</a></div><div class="ttdeci">CMapListNode * mp_column_slide_list</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00513">EdMap.h:513</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_af4fb3da8e2421417a4371877fcdfc1c9"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#af4fb3da8e2421417a4371877fcdfc1c9">Ed::CGapManager::IsGapAttached</a></div><div class="ttdeci">bool IsGapAttached(const CConcreteMetaPiece *pRegularMeta, int *pTabIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00202">GapManager.cpp:202</a></div></div>
<div class="ttc" id="ap__ezcommon_8h_html_a23962ea1e77aa36a3f96b0cdd496e6c4"><div class="ttname"><a href="../../d6/d01/p__ezcommon_8h.html#a23962ea1e77aa36a3f96b0cdd496e6c4">list</a></div><div class="ttdeci">ezNetCnfCombination_t list[kMaxCombinations]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d01/p__ezcommon_8h_source.html#l00005">p_ezcommon.h:5</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a29bdebad48a7375f780fcb788c7ba732"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a29bdebad48a7375f780fcb788c7ba732">Ed::CParkGenerator::DestroyClonedPiece</a></div><div class="ttdeci">void DestroyClonedPiece(CClonedPiece *pPiece)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00774">ParkGen.cpp:774</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a348aedee3ff2dbd23bc426b22cf9642f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a348aedee3ff2dbd23bc426b22cf9642f">Ed::CParkManager::kill_pieces_in_layer_under_area</a></div><div class="ttdeci">void kill_pieces_in_layer_under_area(GridDims area)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03866">EdMap.cpp:3866</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html">Script::CStruct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dec/struct_8h_source.html#l00052">struct.h:52</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ad5da890987900413d753ba570fd4dbca"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad5da890987900413d753ba570fd4dbca">Ed::CParkManager::m_compressed_map_flags</a></div><div class="ttdeci">ECompressedMapFlags m_compressed_map_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00701">EdMap.h:701</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_aa5879c6e3b01b313acdc899265a46247"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#aa5879c6e3b01b313acdc899265a46247">Mth::Vector::GetX</a></div><div class="ttdeci">float GetX(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00840">vector.inl:840</a></div></div>
<div class="ttc" id="autils_8h_html"><div class="ttname"><a href="../../d5/d60/utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a33c4e03ee73af89fc9fb0de7082e8180"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a33c4e03ee73af89fc9fb0de7082e8180">Ed::CParkManager::CompressedGapOld::rot</a></div><div class="ttdeci">uint8 rot</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00664">EdMap.h:664</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ade161910df2f4b85ad76ece944e66b6c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ade161910df2f4b85ad76ece944e66b6c">Ed::CParkManager::AddMetaPieceToPark</a></div><div class="ttdeci">void AddMetaPieceToPark(GridDims pos, CConcreteMetaPiece *pPiece)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02419">EdMap.cpp:2419</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a9a2355a997d6a2e562eff96002bb413c">Ed::CParkManager::COMPRESSED_MAP_SIZE</a></div><div class="ttdeci">@ COMPRESSED_MAP_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00315">EdMap.h:315</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_goal_editor_component_html_af8ce0b0e5f4bc7576079fc213a1f4074ab231bd26da706c585aeee59d88977881"><div class="ttname"><a href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html#af8ce0b0e5f4bc7576079fc213a1f4074ab231bd26da706c585aeee59d88977881">Obj::CGoalEditorComponent::LOADING_PARK_GOALS</a></div><div class="ttdeci">@ LOADING_PARK_GOALS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df6/_goal_editor_component_8h_source.html#l00334">GoalEditorComponent.h:334</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ae3d9192094ee91875dbbb653d0b38adf"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae3d9192094ee91875dbbb653d0b38adf">Ed::CParkManager::CParkManager</a></div><div class="ttdeci">CParkManager()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00951">EdMap.cpp:951</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_ae71c7ec575bc15738ccc6173e71d1d2d"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ae71c7ec575bc15738ccc6173e71d1d2d">Ed::CClonedPiece::GetRot</a></div><div class="ttdeci">Mth::ERot90 GetRot()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00232">ParkGen.h:232</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a4d1b327712c39b8c2a7137bf8a6d4a2a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4d1b327712c39b8c2a7137bf8a6d4a2a">Ed::CParkManager::m_dma_piece_count</a></div><div class="ttdeci">int m_dma_piece_count</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00563">EdMap.h:563</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a2341563b68f342033fbeae1d9ffdc0fd"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a2341563b68f342033fbeae1d9ffdc0fd">Script::CArray::GetVector</a></div><div class="ttdeci">CVector * GetVector(uint32 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00498">array.cpp:498</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa66d931e44123217553a2d69ea08f2fc9"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa66d931e44123217553a2d69ea08f2fc9">Ed::CMetaPiece::mRAIL_PLACEMENT</a></div><div class="ttdeci">@ mRAIL_PLACEMENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00115">EdMap.h:115</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html">Ed::CParkManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00297">EdMap.h:297</a></div></div>
<div class="ttc" id="anamespace_nx_html_ad462be29622bab9de7f93615354778d1"><div class="ttname"><a href="../../d1/d06/namespace_nx.html#ad462be29622bab9de7f93615354778d1">Nx::rot</a></div><div class="ttdeci">void rot(Mth::Vector &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01916">CollTriData.cpp:1916</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a609fb4b996e13f2193c447fcf733aca6"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a609fb4b996e13f2193c447fcf733aca6">Ed::CParkManager::CompressedMapHeader::mParkName</a></div><div class="ttdeci">char mParkName[64]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00631">EdMap.h:631</a></div></div>
<div class="ttc" id="anamespace_script_html_a84ac1eedf37ab70be269e8fcbdc6ea21a82a1cd12d138a0227cb8e884424749b5"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21a82a1cd12d138a0227cb8e884424749b5">Script::ESYMBOLTYPE_NAME</a></div><div class="ttdeci">@ ESYMBOLTYPE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc0/symboltype_8h_source.html#l00025">symboltype.h:25</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a97459bf8e737053049a7bcdabfb76ee4"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a97459bf8e737053049a7bcdabfb76ee4">Ed::CParkManager::GetTheme</a></div><div class="ttdeci">int GetTheme()</div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_a285bc6492b07f1b062df228abf1c9bef"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a285bc6492b07f1b062df228abf1c9bef">Ed::SMetaDescriptor::mRot</a></div><div class="ttdeci">uint8 mRot</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00045">EdMap.h:45</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_a187541d68607cfbc1f6a898118099134"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a187541d68607cfbc1f6a898118099134">Ed::SMetaDescriptor::mY</a></div><div class="ttdeci">uint8 mY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00043">EdMap.h:43</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_ad698d8c256b91c9d38a193177985a1a8"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#ad698d8c256b91c9d38a193177985a1a8">Ed::CParkGenerator::GetClonedScene</a></div><div class="ttdeci">Nx::CScene * GetClonedScene()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00368">ParkGen.h:368</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html_aabc921d336b652c2517407fc284d928d"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#aabc921d336b652c2517407fc284d928d">Ed::CAbstractMetaPiece::count_descriptors_expanded</a></div><div class="ttdeci">int count_descriptors_expanded()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00836">EdMap.cpp:836</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aea87b77974e723a6f489b6e47b408704"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aea87b77974e723a6f489b6e47b408704">Ed::CParkManager::HighlightMetasWithGaps</a></div><div class="ttdeci">void HighlightMetasWithGaps(bool highlightOn, CGapManager::GapDescriptor *pDesc)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03306">EdMap.cpp:3306</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_a547fe8132db738fe9bd8305a1a730482"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a547fe8132db738fe9bd8305a1a730482">Ed::CClonedPiece::SetActive</a></div><div class="ttdeci">void SetActive(bool active)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00337">ParkGen.cpp:337</a></div></div>
<div class="ttc" id="anx_8h_html"><div class="ttname"><a href="../../d7/d6c/nx_8h.html">nx.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda3ce742273f95a26642cd972e40d8411d"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda3ce742273f95a26642cd972e40d8411d">Ed::CParkGenerator::vNUM_RESTART_TYPES</a></div><div class="ttdeci">@ vNUM_RESTART_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00287">ParkGen.h:287</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_ae05673d59a4b45cd6e5cafbaa4095e09"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ae05673d59a4b45cd6e5cafbaa4095e09">Ed::CMapListNode::GetMeta</a></div><div class="ttdeci">CMetaPiece * GetMeta()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00867">EdMap.cpp:867</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_aa319b53c1f547128d8269d7c1c437f26"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aa319b53c1f547128d8269d7c1c437f26">Ed::CMapListNode::GetConcreteMeta</a></div><div class="ttdeci">CConcreteMetaPiece * GetConcreteMeta()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00262">EdMap.h:262</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_a2026ce576820f9be9e32135b6041e06c"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#a2026ce576820f9be9e32135b6041e06c">Ed::CConcreteMetaPiece::get_max_min_world_coords</a></div><div class="ttdeci">void get_max_min_world_coords(Mth::Vector &amp;max, Mth::Vector &amp;min)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00487">EdMap.cpp:487</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a44b18be960888e16b7640fbe2fcc7261a7811f89466f9d8c0f2258fc21789b011"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261a7811f89466f9d8c0f2258fc21789b011">Ed::CParkManager::mUNEVEN</a></div><div class="ttdeci">@ mUNEVEN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00519">EdMap.h:519</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_a0558a97676603f315d8d9bb93322de65"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a0558a97676603f315d8d9bb93322de65">Ed::SMetaDescriptor::mPieceName</a></div><div class="ttdeci">uint32 mPieceName</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00054">EdMap.h:54</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_acae6f1a5a02d406ab56292ec3fcfaefd"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#acae6f1a5a02d406ab56292ec3fcfaefd">Script::CStruct::GetFloat</a></div><div class="ttdeci">bool GetFloat(uint32 nameChecksum, float *p_floatValue, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01503">struct.cpp:1503</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a89ccf3f4f34a8a128b73aa08fb475e3e"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a89ccf3f4f34a8a128b73aa08fb475e3e">Ed::CParkManager::CompressedMapHeader::mMaxPlayers</a></div><div class="ttdeci">uint8 mMaxPlayers</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00629">EdMap.h:629</a></div></div>
<div class="ttc" id="a_defines_8h_html_a1a6408291ee3cfd0760a61ac64084154"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#a1a6408291ee3cfd0760a61ac64084154">sint8</a></div><div class="ttdeci">signed char sint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00138">Defines.h:138</a></div></div>
<div class="ttc" id="aclass_spt_1_1_singleton_ptr_html"><div class="ttname"><a href="../../d6/de0/class_spt_1_1_singleton_ptr.html">Spt::SingletonPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d0b/singleton_8h_source.html#l00126">singleton.h:126</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda3d160baa2091e0d102ee815309ebe903"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda3d160baa2091e0d102ee815309ebe903">Ed::CParkGenerator::vGREEN_FLAG</a></div><div class="ttdeci">@ vGREEN_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00282">ParkGen.h:282</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_ac2363df5b5e32ce7d52eafeccee0bd31"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ac2363df5b5e32ce7d52eafeccee0bd31">Ed::CMetaPiece::get_desc_at_index</a></div><div class="ttdeci">SMetaDescriptor &amp; get_desc_at_index(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00342">EdMap.cpp:342</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9bb26bc2bccc42d8b6f03fd211300f94"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9bb26bc2bccc42d8b6f03fd211300f94">Ed::CParkManager::GetParkName</a></div><div class="ttdeci">const char * GetParkName()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01400">EdMap.cpp:1400</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a3df93799fcde54c687a43f5b3102540e"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3df93799fcde54c687a43f5b3102540e">Ed::CParkManager::CompressedMapHeader::mL</a></div><div class="ttdeci">uint8 mL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00626">EdMap.h:626</a></div></div>
<div class="ttc" id="a_defines_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00133">Defines.h:133</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html_acd074a6d4b0d74ed17745145d9787a72"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#acd074a6d4b0d74ed17745145d9787a72">Ed::CAbstractMetaPiece::CAbstractMetaPiece</a></div><div class="ttdeci">CAbstractMetaPiece()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00645">EdMap.cpp:645</a></div></div>
<div class="ttc" id="acfuncs_8cpp_html_a9dd945543a1ee4d3d9f18c9fc748b66c"><div class="ttname"><a href="../../d7/d43/cfuncs_8cpp.html#a9dd945543a1ee4d3d9f18c9fc748b66c">p_buffer</a></div><div class="ttdeci">static char p_buffer[1024]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d43/cfuncs_8cpp_source.html#l00202">cfuncs.cpp:202</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aad2d5538a83cbcfca65a0abba729edcd"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aad2d5538a83cbcfca65a0abba729edcd">Ed::CParkManager::m_state_on</a></div><div class="ttdeci">bool m_state_on</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00480">EdMap.h:480</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_ab9e4db0ef7f6b6dc0cfee2b318cde2c0"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#ab9e4db0ef7f6b6dc0cfee2b318cde2c0">Ed::CClonedPiece::GetPos</a></div><div class="ttdeci">Mth::Vector GetPos()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00231">ParkGen.h:231</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a129890ee1132f04f2c98e6777431e2a4"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a129890ee1132f04f2c98e6777431e2a4">Ed::CParkManager::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01043">EdMap.cpp:1043</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acd1ec3e05f65d190fa03c325bf29fe7cae5faa1ea046247a701c9f67107fa060d"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7cae5faa1ea046247a701c9f67107fa060d">Ed::CParkManager::mDESTROY_PIECES_ABOVE</a></div><div class="ttdeci">@ mDESTROY_PIECES_ABOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00367">EdMap.h:367</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_aa50b2aac111f2530a2aa5521e8953186"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#aa50b2aac111f2530a2aa5521e8953186">CFeeler::SetStart</a></div><div class="ttdeci">void SetStart(const Mth::Vector &amp;start)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00069">feeler.cpp:69</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a8d7d01e3e97039001e1039ebf7bc830a"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a8d7d01e3e97039001e1039ebf7bc830a">Script::CStruct::AddArrayPointer</a></div><div class="ttdeci">void AddArrayPointer(uint32 nameChecksum, CArray *p_array)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01157">struct.cpp:1157</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_rail_editor_component_html_a119d6b6afa35fa1fdd62ae40c999fe01"><div class="ttname"><a href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a119d6b6afa35fa1fdd62ae40c999fe01">Obj::CRailEditorComponent::sUpdateSuperSectorsAfterDeletingRailSectors</a></div><div class="ttdeci">static bool sUpdateSuperSectorsAfterDeletingRailSectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/_rail_editor_component_8h_source.html#l00299">RailEditorComponent.h:299</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_aa7c699f23f06715652f1f934b0749c2c"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa7c699f23f06715652f1f934b0749c2c">Ed::CParkManager::BuildFloorParams::top</a></div><div class="ttdeci">int top</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00501">EdMap.h:501</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_s_build_list_entry_html_a41b5a54f18b133363cdbd33cd11a89bc"><div class="ttname"><a href="../../d8/df6/struct_ed_1_1_c_park_manager_1_1_s_build_list_entry.html#a41b5a54f18b133363cdbd33cd11a89bc">Ed::CParkManager::SBuildListEntry::mType</a></div><div class="ttdeci">uint32 mType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00545">EdMap.h:545</a></div></div>
<div class="ttc" id="ap__ezcommon_8h_html_a7441ef0865bcb3db9b8064dd7375c1ea"><div class="ttname"><a href="../../d6/d01/p__ezcommon_8h.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d01/p__ezcommon_8h_source.html#l00003">p_ezcommon.h:3</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_a4de98e33190a23f366b67e4a7af64525"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a4de98e33190a23f366b67e4a7af64525">Ed::CParkManager::CompressedGap::extent</a></div><div class="ttdeci">uint8 extent[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00676">EdMap.h:676</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a6d64288efc48c87c86b7e028a052aecb"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a6d64288efc48c87c86b7e028a052aecb">Ed::CMetaPiece::CastToConcreteMeta</a></div><div class="ttdeci">CConcreteMetaPiece * CastToConcreteMeta()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00127">EdMap.cpp:127</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_vector_html_a187072a58633230b4d3f09614d02fece"><div class="ttname"><a href="../../de/d4d/class_script_1_1_c_vector.html#a187072a58633230b4d3f09614d02fece">Script::CVector::mY</a></div><div class="ttdeci">float mY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/vecpair_8h_source.html#l00033">vecpair.h:33</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_aba7a13d6c044e9d0b77963dff8a6f4fe"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#aba7a13d6c044e9d0b77963dff8a6f4fe">Ed::CMapListNode::GetNext</a></div><div class="ttdeci">CMapListNode * GetNext()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00264">EdMap.h:264</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_aa36a4263a3e2f72f40d82d0a172b124b"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa36a4263a3e2f72f40d82d0a172b124b">Ed::CMapListTemp::CMapListTemp</a></div><div class="ttdeci">CMapListTemp(CMapListNode *p_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00911">EdMap.cpp:911</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_af967331d43cc99fa9521e479aaae54e4"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#af967331d43cc99fa9521e479aaae54e4">Ed::CConcreteMetaPiece::SetVisibility</a></div><div class="ttdeci">void SetVisibility(bool visible)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00436">EdMap.cpp:436</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a0206f348807e50f13f634d3eb6409946"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a0206f348807e50f13f634d3eb6409946">Ed::CMetaPiece::IsConcrete</a></div><div class="ttdeci">bool IsConcrete()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00149">EdMap.h:149</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_ab23c479f7f93c4f74b8d8b42fcc8c3b7"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#ab23c479f7f93c4f74b8d8b42fcc8c3b7">Ed::CParkManager::CPieceSet::mNameCrc</a></div><div class="ttdeci">uint32 mNameCrc</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00431">EdMap.h:431</a></div></div>
<div class="ttc" id="a_messages_8h_html_aac6addc0c2423369f1199f0c800de99a"><div class="ttname"><a href="../../df/de2/_messages_8h.html#aac6addc0c2423369f1199f0c800de99a">Ryan</a></div><div class="ttdeci">void Ryan(const char *A ...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/_messages_8h_source.html#l00174">Messages.h:174</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a667e4124e102a386583d9fd97eaa8d38"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a667e4124e102a386583d9fd97eaa8d38">Script::CStruct::AddStructurePointer</a></div><div class="ttdeci">void AddStructurePointer(uint32 nameChecksum, CStruct *p_structure)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01198">struct.cpp:1198</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_a3aefd91781b7f41d35e6df6a32d379d0"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#a3aefd91781b7f41d35e6df6a32d379d0">Mem::Manager::sHandle</a></div><div class="ttdeci">static Manager &amp; sHandle(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/memman_8h_source.html#l00340">memman.h:340</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a4b85a4cacee8d2f7c42bd81e5300e3d8"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a4b85a4cacee8d2f7c42bd81e5300e3d8">Ed::CParkGenerator::GetParkEditorHeap</a></div><div class="ttdeci">Mem::Heap * GetParkEditorHeap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00509">ParkGen.cpp:509</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9c1e5db23067af3ac57695811ab8173a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c1e5db23067af3ac57695811ab8173a">Ed::CParkManager::GetAbstractMeta</a></div><div class="ttdeci">CAbstractMetaPiece * GetAbstractMeta(uint32 type, int *pRetIndex=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02025">EdMap.cpp:2025</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ad0ef32b9d0a3cb11c5bea809bf3b477e"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0ef32b9d0a3cb11c5bea809bf3b477e">Ed::CParkManager::write_compressed_map_buffer</a></div><div class="ttdeci">void write_compressed_map_buffer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04650">EdMap.cpp:4650</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_a39d5899e894ada5a1b5ed1607322610a"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#a39d5899e894ada5a1b5ed1607322610a">Mem::Manager::TopDownHeap</a></div><div class="ttdeci">Heap * TopDownHeap(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/memman_8h_source.html#l00131">memman.h:131</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html">Ed::CPiece</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00107">ParkGen.h:107</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a571549d8fe7b2177e4409a5f32b5c6de"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a571549d8fe7b2177e4409a5f32b5c6de">Ed::CParkManager::CompressedGapOld::z</a></div><div class="ttdeci">uint8 z[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00660">EdMap.h:660</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_editor_html_a6542c76303b2d99873e35c8167032274"><div class="ttname"><a href="../../d8/d13/class_ed_1_1_c_park_editor.html#a6542c76303b2d99873e35c8167032274">Ed::CParkEditor::EditingCustomPark</a></div><div class="ttdeci">bool EditingCustomPark()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df6/_park_ed_8h_source.html#l00100">ParkEd.h:100</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a323537973b840f0a489adcdb515aca46"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a323537973b840f0a489adcdb515aca46">Ed::CParkManager::EFloorFlags</a></div><div class="ttdeci">EFloorFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00485">EdMap.h:485</a></div></div>
<div class="ttc" id="avecpair_8h_html"><div class="ttname"><a href="../../d1/d16/vecpair_8h.html">vecpair.h</a></div></div>
<div class="ttc" id="anamespace_script_html_ab27ea984c3280ff79948e7e660d9f6bf"><div class="ttname"><a href="../../d1/d54/namespace_script.html#ab27ea984c3280ff79948e7e660d9f6bf">Script::GetString</a></div><div class="ttdeci">const char * GetString(uint32 checksum, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00563">symboltable.cpp:563</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a7d6929b5a907965b7a7ef86dc9b90123"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a7d6929b5a907965b7a7ef86dc9b90123">Script::CStruct::GetStructure</a></div><div class="ttdeci">bool GetStructure(uint32 nameChecksum, CStruct **pp_structure, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01585">struct.cpp:1585</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a2e66f4e6cbc7cf1be6345be4cbb5fdc3"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a2e66f4e6cbc7cf1be6345be4cbb5fdc3">Ed::CPiece::GetDimsWithRot</a></div><div class="ttdeci">Mth::Vector GetDimsWithRot(Mth::ERot90 rot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00135">ParkGen.cpp:135</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a324112795d23b885999322b3a2c0ecd1"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a324112795d23b885999322b3a2c0ecd1">Ed::CParkManager::get_dma_usage</a></div><div class="ttdeci">int get_dma_usage(uint32 pieceChecksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02388">EdMap.cpp:2388</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_vector_html"><div class="ttname"><a href="../../de/d4d/class_script_1_1_c_vector.html">Script::CVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/vecpair_8h_source.html#l00018">vecpair.h:18</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a44a2c12c09e7c7b6a95deaae8139f6d8"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a44a2c12c09e7c7b6a95deaae8139f6d8">Ed::CParkGenerator::NumRestartsOfType</a></div><div class="ttdeci">int NumRestartsOfType(RestartType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02739">ParkGen.cpp:2739</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html">Mth::Vector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00088">vector.h:88</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a5738cfa7636cfb5ff9a38206a710c13a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a5738cfa7636cfb5ff9a38206a710c13a">Ed::CParkManager::build_add_floor_piece_simple</a></div><div class="ttdeci">void build_add_floor_piece_simple(BuildFloorParams &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03575">EdMap.cpp:3575</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_a722dbc05b30a297904911f0a0ca5f610"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a722dbc05b30a297904911f0a0ca5f610">Ed::CGapManager::GapDescriptor::score</a></div><div class="ttdeci">int score</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00033">GapManager.h:33</a></div></div>
<div class="ttc" id="anamespace_obj_html_a85806a9f31eb5f7031c30a6cb17d0e9d"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a85806a9f31eb5f7031c30a6cb17d0e9d">Obj::GetRailEditor</a></div><div class="ttdeci">Obj::CRailEditorComponent * GetRailEditor()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d77/_rail_editor_component_8cpp_source.html#l02886">RailEditorComponent.cpp:2886</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html">Ed::CMapListTemp</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00278">EdMap.h:278</a></div></div>
<div class="ttc" id="aclass_mem_1_1_heap_html"><div class="ttname"><a href="../../d8/d98/class_mem_1_1_heap.html">Mem::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddb/heap_8h_source.html#l00055">heap.h:55</a></div></div>
<div class="ttc" id="anamespace_obj_html_a62c9946a024434bd34e76640d7028583"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a62c9946a024434bd34e76640d7028583">Obj::GetGoalEditor</a></div><div class="ttdeci">Obj::CGoalEditorComponent * GetGoalEditor()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d33/_goal_editor_component_8cpp_source.html#l03025">GoalEditorComponent.cpp:3025</a></div></div>
<div class="ttc" id="afeeler_8h_html"><div class="ttname"><a href="../../d1/d74/feeler_8h.html">feeler.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_aa466bafadbcc9108699d380b7436d774"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#aa466bafadbcc9108699d380b7436d774">Ed::GridDims::GetW</a></div><div class="ttdeci">uint8 GetW() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00075">ParkGen.h:75</a></div></div>
<div class="ttc" id="anamespace_ed_html_a1696f071cb7b8d05a1c37244d72ebe10a20ca1590443db26f209dae27b1a87bf8"><div class="ttname"><a href="../../d2/d84/namespace_ed.html#a1696f071cb7b8d05a1c37244d72ebe10a20ca1590443db26f209dae27b1a87bf8">Ed::MAX_CLIPBOARD_METAS</a></div><div class="ttdeci">@ MAX_CLIPBOARD_METAS</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/clipboard_8h_source.html#l00028">clipboard.h:28</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a10046ca21475985b7b91a31a4db7a36b"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10046ca21475985b7b91a31a4db7a36b">Ed::CParkManager::SetCompressedMapBuffer</a></div><div class="ttdeci">void SetCompressedMapBuffer(uint8 *src_buffer, bool markNotSaved=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01231">EdMap.cpp:1231</a></div></div>
<div class="ttc" id="anamespace_file_html_a180384dc852ac3b971285fc63b1287cb"><div class="ttname"><a href="../../de/d10/namespace_file.html#a180384dc852ac3b971285fc63b1287cb">File::Open</a></div><div class="ttdeci">void * Open(const char *filename, const char *access)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/ngc_2p__filesys_8cpp_source.html#l00391">p_filesys.cpp:391</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html">Mth::Matrix</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df4/matrix_8h_source.html#l00060">matrix.h:60</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa349290459b6ad8b9d4b186894c60012"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa349290459b6ad8b9d4b186894c60012">Ed::CParkManager::mp_abstract_metapiece_list</a></div><div class="ttdeci">CMapListNode * mp_abstract_metapiece_list</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00556">EdMap.h:556</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1ad551cc8c84a4d7167bfef751c820fda3"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1ad551cc8c84a4d7167bfef751c820fda3">Ed::CPiece::mCLONED_PIECE</a></div><div class="ttdeci">@ mCLONED_PIECE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00121">ParkGen.h:121</a></div></div>
<div class="ttc" id="anamespace_script_html_ac722bae4acb2ce23888cb428818f12af"><div class="ttname"><a href="../../d1/d54/namespace_script.html#ac722bae4acb2ce23888cb428818f12af">Script::GetInt</a></div><div class="ttdeci">int GetInt(uint32 checksum, bool assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00740">symboltable.cpp:740</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_aa3dd250a89575002c5dad659d33f14d7"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa3dd250a89575002c5dad659d33f14d7">Ed::CParkManager::BuildFloorParams::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00496">EdMap.h:496</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ae25f8da3eb72427f1321dc50d4d90e15"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae25f8da3eb72427f1321dc50d4d90e15">Ed::CParkManager::RebuildFloor</a></div><div class="ttdeci">bool RebuildFloor(bool firstTestMemory=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01641">EdMap.cpp:1641</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a35439d6ad2a24a71d09605c779c616e7"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a35439d6ad2a24a71d09605c779c616e7">Ed::CParkManager::CompressedMapHeader::mChecksum</a></div><div class="ttdeci">uint32 mChecksum</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00618">EdMap.h:618</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a2c07eca44d2c7c8cbf9983734f760677"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a2c07eca44d2c7c8cbf9983734f760677">Ed::CParkManager::ResetFloorHeights</a></div><div class="ttdeci">void ResetFloorHeights(GridDims area)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02820">EdMap.cpp:2820</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a3f62675cdb3323f37f239a94dc814898"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a3f62675cdb3323f37f239a94dc814898">Script::CArray::SetStructure</a></div><div class="ttdeci">void SetStructure(uint32 index, CStruct *p_struct)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00364">array.cpp:364</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a13acff60d0e5d17662f43721c768be08"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a13acff60d0e5d17662f43721c768be08">Ed::CParkManager::apply_meta_contained_risers_to_floor</a></div><div class="ttdeci">void apply_meta_contained_risers_to_floor(CConcreteMetaPiece *pMetaPiece, bool add)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03605">EdMap.cpp:3605</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_a60c08a113a5fa4e85fec428219bdbae9"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a60c08a113a5fa4e85fec428219bdbae9">Ed::CParkManager::CompressedGap::rot</a></div><div class="ttdeci">uint8 rot</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00678">EdMap.h:678</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_component_html_ac85f36ee412380483c287cbff5b3e102"><div class="ttname"><a href="../../d4/d58/class_script_1_1_c_component.html#ac85f36ee412380483c287cbff5b3e102">Script::CComponent::mType</a></div><div class="ttdeci">uint8 mType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcf/component_8h_source.html#l00057">component.h:57</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_floor_entry_html_ae707a02c92fc4899c25cd78daa614d46"><div class="ttname"><a href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html#ae707a02c92fc4899c25cd78daa614d46">Ed::CParkManager::CompressedFloorEntry::mHeight</a></div><div class="ttdeci">sint8 mHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00652">EdMap.h:652</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_ac8eb9cebdc3a081da028d47ed40ad306"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#ac8eb9cebdc3a081da028d47ed40ad306">Ed::CParkManager::BuildFloorParams::simpleBuild</a></div><div class="ttdeci">bool simpleBuild</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00502">EdMap.h:502</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_ac775a3d6b65b301acd043c44f21be25b"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#ac775a3d6b65b301acd043c44f21be25b">Ed::CParkGenerator::ClearAutomaticRestarts</a></div><div class="ttdeci">void ClearAutomaticRestarts()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02918">ParkGen.cpp:2918</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html">Ed::CGapManager::GapDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00026">GapManager.h:26</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a5ad8642ed8d418e7178a05923dbf076f"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5ad8642ed8d418e7178a05923dbf076f">Ed::CMetaPiece::~CMetaPiece</a></div><div class="ttdeci">virtual ~CMetaPiece()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00118">EdMap.cpp:118</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a86bd8d33b4c661bd5adcdfb9e7970175"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a86bd8d33b4c661bd5adcdfb9e7970175">Ed::CMetaPiece::CMetaPiece</a></div><div class="ttdeci">CMetaPiece()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00107">EdMap.cpp:107</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a06968ecf1786f6998b51088d4a5becc8"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a06968ecf1786f6998b51088d4a5becc8">Ed::GridDims::GetZ</a></div><div class="ttdeci">uint8 GetZ() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00074">ParkGen.h:74</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a91f6281a9bfeaa3e887ecaccb92279c6aa2085afe1a45b8d383e9012da7bf225a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a91f6281a9bfeaa3e887ecaccb92279c6aa2085afe1a45b8d383e9012da7bf225a">Ed::CParkManager::MAX_SETS</a></div><div class="ttdeci">@ MAX_SETS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00442">EdMap.h:442</a></div></div>
<div class="ttc" id="achecksum_8h_html"><div class="ttname"><a href="../../dc/d31/checksum_8h.html">checksum.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ac548b141aef21d92f0be44bd5225110a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ac548b141aef21d92f0be44bd5225110a">Ed::CParkManager::SetTheme</a></div><div class="ttdeci">void SetTheme(int theme)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01390">EdMap.cpp:1390</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_a180cc532ba059d5717b486ae74170b13"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#a180cc532ba059d5717b486ae74170b13">Mth::Vector::GetY</a></div><div class="ttdeci">float GetY(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00852">vector.inl:852</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a36a6fc451137f28dcefac5660396be3a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a36a6fc451137f28dcefac5660396be3a">Ed::CParkManager::mp_compressed_map_buffer</a></div><div class="ttdeci">uint8 * mp_compressed_map_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00690">EdMap.h:690</a></div></div>
<div class="ttc" id="a_game_net_8h_html"><div class="ttname"><a href="../../db/d1c/_game_net_8h.html">GameNet.h</a></div></div>
<div class="ttc" id="anamespace_mth_html_a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139ac8f469d5352413d0e1878b966ebe4866">Mth::ROT_0</a></div><div class="ttdeci">@ ROT_0</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/rot90_8h_source.html#l00013">rot90.h:13</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ad0bacf48f754e644058c9205635ac020"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad0bacf48f754e644058c9205635ac020">Ed::CParkManager::GetGapDescriptor</a></div><div class="ttdeci">CGapManager::GapDescriptor * GetGapDescriptor(GridDims &amp;area, int *pHalf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03100">EdMap.cpp:3100</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a25cb7c6a722e35b3bd508a0e317a042f"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a25cb7c6a722e35b3bd508a0e317a042f">Ed::CMetaPiece::IsCompletelyWithinArea</a></div><div class="ttdeci">bool IsCompletelyWithinArea(const GridDims &amp;area)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00164">EdMap.cpp:164</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda12e71f38140a8263fd862ad7aa8f48b8"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda12e71f38140a8263fd862ad7aa8f48b8">Ed::CParkGenerator::vHORSE</a></div><div class="ttdeci">@ vHORSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00279">ParkGen.h:279</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_ac69b62f7d04048b3a4f93d613b4200f7"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#ac69b62f7d04048b3a4f93d613b4200f7">Ed::CParkGenerator::CELL_HEIGHT</a></div><div class="ttdeci">static const float CELL_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00255">ParkGen.h:255</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa000d40103c014f95fc9b355491db9db"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa000d40103c014f95fc9b355491db9db">Ed::CParkManager::AreMetasOutsideBounds</a></div><div class="ttdeci">bool AreMetasOutsideBounds(GridDims new_dims)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02668">EdMap.cpp:2668</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a673db26f8123ad8402a13248414f8211"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a673db26f8123ad8402a13248414f8211">Ed::CParkGenerator::InitializeMasterPieces</a></div><div class="ttdeci">void InitializeMasterPieces(int parkW, int parkH, int parkL, int theme)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00842">ParkGen.cpp:842</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ae0acea90cbebce82c1cb786dfb3c335f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ae0acea90cbebce82c1cb786dfb3c335f">Ed::CParkManager::debucketify_metapiece</a></div><div class="ttdeci">void debucketify_metapiece(CConcreteMetaPiece *pPiece)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04137">EdMap.cpp:4137</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html">Ed::CGapManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00020">GapManager.h:20</a></div></div>
<div class="ttc" id="anamespace_script_html_a4f75faaf58235bf0b28fb7203c837da8"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a4f75faaf58235bf0b28fb7203c837da8">Script::CalculateBufferSize</a></div><div class="ttdeci">uint32 CalculateBufferSize(CStruct *p_structure, uint32 tempBufferSize)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d06/utils_8cpp_source.html#l00722">utils.cpp:722</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_acd8d346033b2e54f9d1fad091af11978"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#acd8d346033b2e54f9d1fad091af11978">Ed::CParkGenerator::GetMasterPiece</a></div><div class="ttdeci">CSourcePiece * GetMasterPiece(uint32 pieceType, bool assert=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00658">ParkGen.cpp:658</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_ad6daaf8c92aecaa7be8f08f262fdee7d"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#ad6daaf8c92aecaa7be8f08f262fdee7d">Ed::CParkGenerator::GenerateCollisionInfo</a></div><div class="ttdeci">void GenerateCollisionInfo(bool assert=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01066">ParkGen.cpp:1066</a></div></div>
<div class="ttc" id="anamespace_mem_html_aeedb606ea94a3398fdcfa3101c5ea8d9"><div class="ttname"><a href="../../db/dc4/namespace_mem.html#aeedb606ea94a3398fdcfa3101c5ea8d9">Mem::Free</a></div><div class="ttdeci">void Free(void *p_mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/win32functions_8cpp_source.html#l00108">win32functions.cpp:108</a></div></div>
<div class="ttc" id="asymboltable_8h_html"><div class="ttname"><a href="../../d6/d98/symboltable_8h.html">symboltable.h</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_floor_height_entry_html_aae00d6d669c105c74ce482e84200a1b1"><div class="ttname"><a href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#aae00d6d669c105c74ce482e84200a1b1">Ed::CParkManager::FloorHeightEntry::mEnclosedFloor</a></div><div class="ttdeci">uint32 mEnclosedFloor</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00602">EdMap.h:602</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_floor_height_entry_html_a54e138a01083c7a73d86e48006a4d4bc"><div class="ttname"><a href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html#a54e138a01083c7a73d86e48006a4d4bc">Ed::CParkManager::FloorHeightEntry::mHeight</a></div><div class="ttdeci">int mHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00596">EdMap.h:596</a></div></div>
<div class="ttc" id="a_goal_editor_component_8h_html"><div class="ttname"><a href="../../d1/df6/_goal_editor_component_8h.html">GoalEditorComponent.h</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_rail_editor_component_html_a4c9c5242f85e0c10246ddf5de3362caa"><div class="ttname"><a href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a4c9c5242f85e0c10246ddf5de3362caa">Obj::CRailEditorComponent::ClipRails</a></div><div class="ttdeci">void ClipRails(float x0, float z0, float x1, float z1, EClipType clipType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d77/_rail_editor_component_8cpp_source.html#l01843">RailEditorComponent.cpp:1843</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8ddaf8e2875c2b8c0c587f32e241c36fed28"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8ddaf8e2875c2b8c0c587f32e241c36fed28">Ed::CParkGenerator::vKING_OF_HILL</a></div><div class="ttdeci">@ vKING_OF_HILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00280">ParkGen.h:280</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dd"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dd">Ed::CParkGenerator::RestartType</a></div><div class="ttdeci">RestartType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00274">ParkGen.h:274</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1">Ed::CPiece::EFlags</a></div><div class="ttdeci">EFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00115">ParkGen.h:115</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a046df9501a85c39fa2e6f53833895a72"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a046df9501a85c39fa2e6f53833895a72">Ed::CParkGenerator::AddClonedPieceToWorld</a></div><div class="ttdeci">void AddClonedPieceToWorld(CClonedPiece *pPiece)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00760">ParkGen.cpp:760</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_a2e91ed8b7d71446eaef1813766846cb0"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a2e91ed8b7d71446eaef1813766846cb0">Ed::CClonedPiece::SetDesiredRot</a></div><div class="ttdeci">void SetDesiredRot(Mth::ERot90 rot, ESectorEffect sectorEffect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00245">ParkGen.cpp:245</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a0f1d3218cc974c53bf90be9b693ef282"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a0f1d3218cc974c53bf90be9b693ef282">Ed::CParkManager::CompressedMapHeader::mSizeInBytes</a></div><div class="ttdeci">uint16 mSizeInBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00619">EdMap.h:619</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a03b29a5e771950755ff747e241ef31dd"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a03b29a5e771950755ff747e241ef31dd">Ed::CParkManager::CompressedGapOld::y</a></div><div class="ttdeci">uint8 y[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00659">EdMap.h:659</a></div></div>
<div class="ttc" id="aclipboard_8h_html"><div class="ttname"><a href="../../d5/da7/clipboard_8h.html">clipboard.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a30ec8b52c8545bdba8acee8aa6f37762"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a30ec8b52c8545bdba8acee8aa6f37762">Ed::CParkManager::sInstance</a></div><div class="ttdeci">static CParkManager * sInstance()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03004">EdMap.cpp:3004</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_ad585a34126ec8376256612ceba0d5e55"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#ad585a34126ec8376256612ceba0d5e55">Script::CArray::SetArrayType</a></div><div class="ttdeci">void SetArrayType(int size, ESymbolType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00092">array.h:92</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9c2c8efe693fe40a4983a4550e16a9c2"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9c2c8efe693fe40a4983a4550e16a9c2">Ed::CParkManager::GetSummaryInfoFromBuffer</a></div><div class="ttdeci">void GetSummaryInfoFromBuffer(uint8 *p_buffer, int *p_numGaps, int *p_numMetas, uint16 *p_theme, uint32 *p_todScript, int *p_width, int *p_length)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03329">EdMap.cpp:3329</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ab97c038ea9ba001e93f343a8cb4e75ab"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab97c038ea9ba001e93f343a8cb4e75ab">Ed::CParkManager::setup_lighting</a></div><div class="ttdeci">void setup_lighting()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l05140">EdMap.cpp:5140</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_aaf8e36abc36eecabe46bf2582035192a"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#aaf8e36abc36eecabe46bf2582035192a">Mem::Manager::PushContext</a></div><div class="ttdeci">void PushContext(Allocator *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/win32functions_8cpp_source.html#l00071">win32functions.cpp:71</a></div></div>
<div class="ttc" id="astandard_8cpp_html_a5fc8fd1788f18ada61dfda9f171c5a1a"><div class="ttname"><a href="../../df/d92/standard_8cpp.html#a5fc8fd1788f18ada61dfda9f171c5a1a">printf</a></div><div class="ttdeci">printf(&quot;%c\n&quot;, *p_itemsInList)</div></div>
<div class="ttc" id="aclass_obj_1_1_c_rail_editor_component_html_a4497ca9ccff123441122d95233b45848ac12b0c36d30a221465c80b0e6a398cc2"><div class="ttname"><a href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a4497ca9ccff123441122d95233b45848ac12b0c36d30a221465c80b0e6a398cc2">Obj::CRailEditorComponent::DELETE_POINTS_INSIDE</a></div><div class="ttdeci">@ DELETE_POINTS_INSIDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/_rail_editor_component_8h_source.html#l00268">RailEditorComponent.h:268</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a74fcfde6f4df561064a233bdf7800b00"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74fcfde6f4df561064a233bdf7800b00">Ed::CParkManager::SetParkName</a></div><div class="ttdeci">void SetParkName(const char *pName)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01433">EdMap.cpp:1433</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_entry_html_a8fab55db7f525d333a359296c960012f"><div class="ttname"><a href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a8fab55db7f525d333a359296c960012f">Ed::CParkManager::CPieceEntry::mpName</a></div><div class="ttdeci">const char * mpName</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00420">EdMap.h:420</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a87eea3885bcd165aaac29bbb6ab4818cac480bae1145ce54244a2f01adac3abe1"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a87eea3885bcd165aaac29bbb6ab4818cac480bae1145ce54244a2f01adac3abe1">Ed::CParkManager::NUM_RISER_INFO_SLOTS</a></div><div class="ttdeci">@ NUM_RISER_INFO_SLOTS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00537">EdMap.h:537</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html">Ed::CParkManager::CompressedMapHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00616">EdMap.h:616</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afab21be7eb6483d088bc53db28fa66803a"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afab21be7eb6483d088bc53db28fa66803a">Ed::CMetaPiece::mAREA_SELECTION</a></div><div class="ttdeci">@ mAREA_SELECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00113">EdMap.h:113</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a534da0c8b079c89533660449eb0124a0"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a534da0c8b079c89533660449eb0124a0">Ed::CParkManager::WriteCompressedMapBuffer</a></div><div class="ttdeci">void WriteCompressedMapBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01195">EdMap.cpp:1195</a></div></div>
<div class="ttc" id="anamespace_ed_html_a1696f071cb7b8d05a1c37244d72ebe10affa04810c046197738a9859e8b2bcd03"><div class="ttname"><a href="../../d2/d84/namespace_ed.html#a1696f071cb7b8d05a1c37244d72ebe10affa04810c046197738a9859e8b2bcd03">Ed::MAX_CLIPBOARDS</a></div><div class="ttdeci">@ MAX_CLIPBOARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/clipboard_8h_source.html#l00029">clipboard.h:29</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa4be21c46843a1249c5ffec7564c98f0f"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa4be21c46843a1249c5ffec7564c98f0f">Ed::CMetaPiece::mABSTRACT_META</a></div><div class="ttdeci">@ mABSTRACT_META</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00091">EdMap.h:91</a></div></div>
<div class="ttc" id="anamespace_script_html_ad62606d41a6c74629df87a6caaf460ea"><div class="ttname"><a href="../../d1/d54/namespace_script.html#ad62606d41a6c74629df87a6caaf460ea">Script::WriteToBuffer</a></div><div class="ttdeci">uint32 WriteToBuffer(CStruct *p_structure, uint8 *p_buffer, uint32 bufferSize, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d06/utils_8cpp_source.html#l00625">utils.cpp:625</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_a579dfd9999535cfa5bfc5cb95340a582"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a579dfd9999535cfa5bfc5cb95340a582">Ed::CGapManager::GapDescriptor::tabIndex</a></div><div class="ttdeci">int tabIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00035">GapManager.h:35</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a5211047500d88086afc1138b38b89fbe"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a5211047500d88086afc1138b38b89fbe">Ed::CParkGenerator::AddRestart</a></div><div class="ttdeci">bool AddRestart(Mth::Vector &amp;pos, int dir, GridDims &amp;dims, RestartType type, bool automatic, bool auto_copy=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02689">ParkGen.cpp:2689</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_floor_height_entry_html"><div class="ttname"><a href="../../da/d4f/struct_ed_1_1_c_park_manager_1_1_floor_height_entry.html">Ed::CParkManager::FloorHeightEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00594">EdMap.h:594</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a4645418616142b2a40757bcd8f15e02d"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a4645418616142b2a40757bcd8f15e02d">Script::CArray::GetArray</a></div><div class="ttdeci">CArray * GetArray(uint32 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00543">array.cpp:543</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a084c15c4aade27a77f94a3fe886daec8"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a084c15c4aade27a77f94a3fe886daec8">Ed::CParkManager::m_road_mask_tab</a></div><div class="ttdeci">GridDims m_road_mask_tab[NUM_ROAD_PIECES]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00718">EdMap.h:718</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a3676d56482ce970931cf8c51c56eb830"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a3676d56482ce970931cf8c51c56eb830">Ed::CParkManager::CompressedMapHeader::mNumGaps</a></div><div class="ttdeci">uint16 mNumGaps</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00628">EdMap.h:628</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda6ffb66429982e3e1af3ac70fe420da96"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda6ffb66429982e3e1af3ac70fe420da96">Ed::CParkGenerator::vMULTIPLAYER</a></div><div class="ttdeci">@ vMULTIPLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00278">ParkGen.h:278</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9d0f54d7c9414d2cb6900d8c28e824b8"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9d0f54d7c9414d2cb6900d8c28e824b8">Ed::CParkManager::EnoughMemoryToResize</a></div><div class="ttdeci">bool EnoughMemoryToResize(GridDims new_dims)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02702">EdMap.cpp:2702</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acbd07b996337d4253c91e9e242400248"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acbd07b996337d4253c91e9e242400248">Ed::CParkManager::IsOccupiedByRoad</a></div><div class="ttdeci">bool IsOccupiedByRoad(GridDims area)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03039">EdMap.cpp:3039</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_goal_editor_component_html"><div class="ttname"><a href="../../d6/d61/class_obj_1_1_c_goal_editor_component.html">Obj::CGoalEditorComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df6/_goal_editor_component_8h_source.html#l00284">GoalEditorComponent.h:284</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f5880dbbe6c9e3fca444123d3238cf0"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f5880dbbe6c9e3fca444123d3238cf0">Ed::CMetaPiece::mMARK_AS_SLID</a></div><div class="ttdeci">@ mMARK_AS_SLID</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00097">EdMap.h:97</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ac5db858dce724deab75284e0e0e89f91"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ac5db858dce724deab75284e0e0e89f91">Ed::CParkManager::GetDMAPieceCount</a></div><div class="ttdeci">int GetDMAPieceCount()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00391">EdMap.h:391</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_a71af11401be9af7efa5ab01776095dea"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#a71af11401be9af7efa5ab01776095dea">CFeeler::SetEnd</a></div><div class="ttdeci">void SetEnd(const Mth::Vector &amp;end)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00074">feeler.cpp:74</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a11c0ac39d7dc927d8da6d2e6f25c6586"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a11c0ac39d7dc927d8da6d2e6f25c6586">Script::CStruct::GetLocalString</a></div><div class="ttdeci">bool GetLocalString(uint32 nameChecksum, const char **pp_text, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01470">struct.cpp:1470</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_a8ca7e807a151079ce3f9686900c92bf4"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#a8ca7e807a151079ce3f9686900c92bf4">Ed::SMetaDescriptor::mRiser</a></div><div class="ttdeci">uint8 mRiser</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00046">EdMap.h:46</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_afbe9893a9dc5b209cb69b889713214ae"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#afbe9893a9dc5b209cb69b889713214ae">Ed::CMapListNode::mp_next</a></div><div class="ttdeci">CMapListNode * mp_next</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00272">EdMap.h:272</a></div></div>
<div class="ttc" id="ap__netcnfif_8h_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="../../d7/dbd/p__netcnfif_8h.html#ac765329451135abec74c45e1897abf26">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbd/p__netcnfif_8h_source.html#l00002">p_netcnfif.h:2</a></div></div>
<div class="ttc" id="anamespace_crc_html_a60ea952dd05dcbab6d54f8f922f35872"><div class="ttname"><a href="../../d3/d9b/namespace_crc.html#a60ea952dd05dcbab6d54f8f922f35872">Crc::GenerateCRCCaseSensitive</a></div><div class="ttdeci">uint32 GenerateCRCCaseSensitive(const char *stream, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/crc_8cpp_source.html#l00171">crc.cpp:171</a></div></div>
<div class="ttc" id="anamespace_file_html_af5cd83b01fc5f341f767beb7c0b1130c"><div class="ttname"><a href="../../de/d10/namespace_file.html#af5cd83b01fc5f341f767beb7c0b1130c">File::Close</a></div><div class="ttdeci">int Close(void *pFP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/ngc_2p__filesys_8cpp_source.html#l00425">p_filesys.cpp:425</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acd1ec3e05f65d190fa03c325bf29fe7c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7c">Ed::CParkManager::EDestroyFlags</a></div><div class="ttdeci">EDestroyFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00364">EdMap.h:364</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_a6e7c6c26972006b4b54f696ff08f750e"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a6e7c6c26972006b4b54f696ff08f750e">Ed::CGapManager::GetGapDescriptor</a></div><div class="ttdeci">GapDescriptor * GetGapDescriptor(int tab_index, int *pHalfNum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00322">GapManager.cpp:322</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda9b3b4fe7e5939d372c8905d1e7997620"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda9b3b4fe7e5939d372c8905d1e7997620">Ed::CParkGenerator::vYELLOW_FLAG</a></div><div class="ttdeci">@ vYELLOW_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00284">ParkGen.h:284</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_generator_1_1_mem_usage_info_html_a94f217cc1ffb9830b3d06d6edf58b123"><div class="ttname"><a href="../../d0/d42/struct_ed_1_1_c_park_generator_1_1_mem_usage_info.html#a94f217cc1ffb9830b3d06d6edf58b123">Ed::CParkGenerator::MemUsageInfo::mParkHeapFree</a></div><div class="ttdeci">int mParkHeapFree</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00300">ParkGen.h:300</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html">Ed::CParkManager::BuildFloorParams</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00493">EdMap.h:493</a></div></div>
<div class="ttc" id="aclass_c_feeler_html"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html">CFeeler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d74/feeler_8h_source.html#l00029">feeler.h:29</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html_a1804e9a7e04b35441a127e6c897eddb4"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a1804e9a7e04b35441a127e6c897eddb4">Ed::CAbstractMetaPiece::GetContainedPiece</a></div><div class="ttdeci">CPiece * GetContainedPiece(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00653">EdMap.cpp:653</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a1f1fab05dba222adba629cc7b7b529f0"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1f1fab05dba222adba629cc7b7b529f0">Ed::CParkManager::RebuildInnerShell</a></div><div class="ttdeci">void RebuildInnerShell(GridDims newNearBounds)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01861">EdMap.cpp:1861</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_a50a28a73f7a71716ef1f40320729fce5"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#a50a28a73f7a71716ef1f40320729fce5">Ed::CClonedPiece::SetScaleX</a></div><div class="ttdeci">void SetScaleX(float scaleX)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l00281">ParkGen.cpp:281</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a44b18be960888e16b7640fbe2fcc7261"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a44b18be960888e16b7640fbe2fcc7261">Ed::CParkManager::ESlideColumnFlags</a></div><div class="ttdeci">ESlideColumnFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00517">EdMap.h:517</a></div></div>
<div class="ttc" id="anamespace_script_html_a720f483ddaf679483fe9e801b314bdae"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a720f483ddaf679483fe9e801b314bdae">Script::ReadFromBuffer</a></div><div class="ttdeci">uint8 * ReadFromBuffer(CStruct *p_structure, uint8 *p_buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d06/utils_8cpp_source.html#l00743">utils.cpp:743</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_rail_editor_component_html_a00237c42a3837d4dda64af27fd99876e"><div class="ttname"><a href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a00237c42a3837d4dda64af27fd99876e">Obj::CRailEditorComponent::ReadFromStructure</a></div><div class="ttdeci">void ReadFromStructure(Script::CStruct *p_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d77/_rail_editor_component_8cpp_source.html#l02051">RailEditorComponent.cpp:2051</a></div></div>
<div class="ttc" id="anamespacename_html"><div class="ttname"><a href="../../db/dfb/namespacename.html">name</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/template_8cpp_source.html#l00031">template.cpp:31</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a4142fd786ee6da405fc8c66d685d42e7"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a4142fd786ee6da405fc8c66d685d42e7">Ed::CParkManager::GetAbstractMetaByIndex</a></div><div class="ttdeci">CAbstractMetaPiece * GetAbstractMetaByIndex(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02055">EdMap.cpp:2055</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html_ad5b8b071df8abe7f248744ddfd154b2b"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html#ad5b8b071df8abe7f248744ddfd154b2b">Ed::CConcreteMetaPiece::GetContainedPiece</a></div><div class="ttdeci">CPiece * GetContainedPiece(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00370">EdMap.cpp:370</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a93207021c40d7d06a8c0e0614144bc35"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a93207021c40d7d06a8c0e0614144bc35">Ed::CPiece::GetFlags</a></div><div class="ttdeci">EFlags GetFlags()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00136">ParkGen.h:136</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html_a51c1987b15b04f9492b3ee8d58055df0"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html#a51c1987b15b04f9492b3ee8d58055df0">Ed::CParkManager::CompressedGapOld::score</a></div><div class="ttdeci">uint16 score</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00667">EdMap.h:667</a></div></div>
<div class="ttc" id="aclass_mem_1_1_allocator_html_a678098f1c240bff6983d079dcf364f79"><div class="ttname"><a href="../../d5/d97/class_mem_1_1_allocator.html#a678098f1c240bff6983d079dcf364f79">Mem::Allocator::mp_region</a></div><div class="ttdeci">Region * mp_region</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dfe/alloc_8h_source.html#l00224">alloc.h:224</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ab0ceb14f57e544e11e94005017371184">Ed::CParkManager::mIS_VALID</a></div><div class="ttdeci">@ mIS_VALID</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00696">EdMap.h:696</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_af63476c98072e4b5348c64b38d48abd2"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#af63476c98072e4b5348c64b38d48abd2">Ed::CMapListTemp::PrintContents</a></div><div class="ttdeci">void PrintContents()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00936">EdMap.cpp:936</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a283dce45704587975791104fc7e5feed"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a283dce45704587975791104fc7e5feed">Ed::CMetaPiece::GetContainedPiece</a></div><div class="ttdeci">virtual CPiece * GetContainedPiece(int index)=0</div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_aa122372d239a29d2fcc9145c9d3f7088"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aa122372d239a29d2fcc9145c9d3f7088">Ed::CParkManager::CPieceSet::mTotalEntries</a></div><div class="ttdeci">int mTotalEntries</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00434">EdMap.h:434</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1acd8454128ab89607842b636a76b8b52f"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1acd8454128ab89607842b636a76b8b52f">Ed::CPiece::mFLOOR</a></div><div class="ttdeci">@ mFLOOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00130">ParkGen.h:130</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_a4a8781fa99bb172596719ce13c7d7236"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a4a8781fa99bb172596719ce13c7d7236">Ed::CGapManager::GapDescriptor::text</a></div><div class="ttdeci">char text[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00032">GapManager.h:32</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_abd2d8850a1fd8d7d9ead8ab06c222d9c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#abd2d8850a1fd8d7d9ead8ab06c222d9c">Ed::CParkManager::increment_meta_count</a></div><div class="ttdeci">void increment_meta_count(uint32 pieceChecksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02396">EdMap.cpp:2396</a></div></div>
<div class="ttc" id="anamespace_mth_html_a97bb408ad8a8dfef08bcd81001073139a32efea0ebb5db47a7cceb94fde19d246"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a32efea0ebb5db47a7cceb94fde19d246">Mth::ROT_270</a></div><div class="ttdeci">@ ROT_270</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/rot90_8h_source.html#l00016">rot90.h:16</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af3606842ce6881d602a97a4b940f4db3"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af3606842ce6881d602a97a4b940f4db3">Ed::CParkManager::ChangeFloorHeight</a></div><div class="ttdeci">bool ChangeFloorHeight(GridDims dims, int dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02929">EdMap.cpp:2929</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a74d514765cd63c4cf3ba09021e8e2a3a"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a74d514765cd63c4cf3ba09021e8e2a3a">Ed::CParkManager::create_metas_in_build_list</a></div><div class="ttdeci">void create_metas_in_build_list()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03911">EdMap.cpp:3911</a></div></div>
<div class="ttc" id="anamespace_ed_html_ae88bda17c9142c4cbaaea14251ffc2c7ae1c34fa51acb20b03835c223ff061e27"><div class="ttname"><a href="../../d2/d84/namespace_ed.html#ae88bda17c9142c4cbaaea14251ffc2c7ae1c34fa51acb20b03835c223ff061e27">Ed::MAX_THEMES</a></div><div class="ttdeci">@ MAX_THEMES</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df6/_park_ed_8h_source.html#l00039">ParkEd.h:39</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_abb36774f5d45c40c479f9975c7a06d58"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#abb36774f5d45c40c479f9975c7a06d58">Ed::GridDims::operator[]</a></div><div class="ttdeci">uint8 &amp; operator[](sint i)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00069">EdMap.cpp:69</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a9c273fa6f8cfd6890d6e7b0c1e2c8ab0"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9c273fa6f8cfd6890d6e7b0c1e2c8ab0">Ed::CMetaPiece::IsRiser</a></div><div class="ttdeci">bool IsRiser()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00142">EdMap.h:142</a></div></div>
<div class="ttc" id="a_park_gen_8h_html_a659b9a568467738a77e1c327b0da801e"><div class="ttname"><a href="../../d6/d71/_park_gen_8h.html#a659b9a568467738a77e1c327b0da801e">ParkEd</a></div><div class="ttdeci">void ParkEd(const char *A ...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00010">ParkGen.h:10</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f1c16cbdfc97d87f2958c1b2da115c9"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa9f1c16cbdfc97d87f2958c1b2da115c9">Ed::CMetaPiece::mIS_RISER</a></div><div class="ttdeci">@ mIS_RISER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00095">EdMap.h:95</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a093ed608ab26cedcf2504ea05f565673"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a093ed608ab26cedcf2504ea05f565673">Ed::CParkManager::GetCompressedParkLength</a></div><div class="ttdeci">int GetCompressedParkLength()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01424">EdMap.cpp:1424</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cursor_html_afdec7b232baa896872430baa7f987944"><div class="ttname"><a href="../../d0/db9/class_ed_1_1_c_cursor.html#afdec7b232baa896872430baa7f987944">Ed::CCursor::sInstance</a></div><div class="ttdeci">static CCursor * sInstance(bool assert=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d66/_park_ed_8cpp_source.html#l02692">ParkEd.cpp:2692</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a7a38cf27d94607f7a84b1d434c197468"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a7a38cf27d94607f7a84b1d434c197468">Ed::CParkManager::m_num_pieces_killed_in_slide</a></div><div class="ttdeci">int m_num_pieces_killed_in_slide</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00515">EdMap.h:515</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a49c79546032fdadb74b1cb94aa9ef6d2"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a49c79546032fdadb74b1cb94aa9ef6d2">Script::CStruct::AddVector</a></div><div class="ttdeci">void AddVector(uint32 nameChecksum, float x, float y, float z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01087">struct.cpp:1087</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_adda4ef32b8a373c030555c44441aae21"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#adda4ef32b8a373c030555c44441aae21">Ed::CGapManager::RemoveGap</a></div><div class="ttdeci">void RemoveGap(int tab_index, bool unregisterGapFromGoalEditor=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00238">GapManager.cpp:238</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_af331f18ebd79560bf2be6e444e8b4259"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#af331f18ebd79560bf2be6e444e8b4259">Ed::CGapManager::GapDescriptor::leftExtent</a></div><div class="ttdeci">int leftExtent[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00030">GapManager.h:30</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_editor_html"><div class="ttname"><a href="../../d8/d13/class_ed_1_1_c_park_editor.html">Ed::CParkEditor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df6/_park_ed_8h_source.html#l00048">ParkEd.h:48</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a1a6055b76831db397f24d7f2d911f6d7"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a1a6055b76831db397f24d7f2d911f6d7">Ed::GridDims::GridDims</a></div><div class="ttdeci">GridDims(uint8 x=0, sint8 y=0, uint8 z=0, uint8 w=0, uint8 h=0, uint8 l=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00056">EdMap.cpp:56</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_ac8809e6b1b000f5e38ffe26fdc51db65"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#ac8809e6b1b000f5e38ffe26fdc51db65">Ed::GridDims::m_dims</a></div><div class="ttdeci">uint8 m_dims[6]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00086">ParkGen.h:86</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295ae10c3fc2eb53715c43c7a8d860d44cb2">Ed::CParkManager::MAX_WIDTH</a></div><div class="ttdeci">@ MAX_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00305">EdMap.h:305</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1ac93eca46b581b7074e1db2fb65b812ef"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1ac93eca46b581b7074e1db2fb65b812ef">Ed::CPiece::mSOURCE_PIECE</a></div><div class="ttdeci">@ mSOURCE_PIECE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00120">ParkGen.h:120</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_a57c89c07acd67f38c88797f32592fea1"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#a57c89c07acd67f38c88797f32592fea1">Ed::CGapManager::GapDescriptor::loc</a></div><div class="ttdeci">GridDims loc[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00028">GapManager.h:28</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a1a4b743e9de3e84ed6efc336b30b0dd2"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a1a4b743e9de3e84ed6efc336b30b0dd2">Ed::CParkGenerator::ReadInRailInfo</a></div><div class="ttdeci">void ReadInRailInfo()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01691">ParkGen.cpp:1691</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a401ddc0041f9b5af8ad78c2343d4157a"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a401ddc0041f9b5af8ad78c2343d4157a">Script::CArray::GetInteger</a></div><div class="ttdeci">int GetInteger(uint32 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00437">array.cpp:437</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afafc0134996a52ba8db125a06b42816ac4">Ed::CMetaPiece::mIN_PARK</a></div><div class="ttdeci">@ mIN_PARK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00093">EdMap.h:93</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a2c20505f1d78bb633e9ba03fab127fa7"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a2c20505f1d78bb633e9ba03fab127fa7">Ed::CParkManager::CompressedMapHeader::mVersion</a></div><div class="ttdeci">uint16 mVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00620">EdMap.h:620</a></div></div>
<div class="ttc" id="a_messages_8h_html_a03fb230ad9263a5f6126da49d67feac0"><div class="ttname"><a href="../../df/de2/_messages_8h.html#a03fb230ad9263a5f6126da49d67feac0">Dbg_Printf</a></div><div class="ttdeci">void Dbg_Printf(const char *A ...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de2/_messages_8h_source.html#l00111">Messages.h:111</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_ac3eb98005a4ce8c38770b60892de69eb"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#ac3eb98005a4ce8c38770b60892de69eb">Ed::CGapManager::vMAX_GAPS</a></div><div class="ttdeci">static const int vMAX_GAPS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00042">GapManager.h:42</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_ae81b424a57e0d99a5624ee123c01d5f5"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#ae81b424a57e0d99a5624ee123c01d5f5">Ed::CMapListTemp::mp_list</a></div><div class="ttdeci">CMapListNode * mp_list</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00291">EdMap.h:291</a></div></div>
<div class="ttc" id="a_ed_map_8cpp_html_abc91d4ea1434470a81016203dec42780"><div class="ttname"><a href="../../dc/df2/_ed_map_8cpp.html#abc91d4ea1434470a81016203dec42780">DefinePoolableClass</a></div><div class="ttdeci">DefinePoolableClass(Ed::CMapListNode)</div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_aa23859977aaa47ec5426c19a5610ce85"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#aa23859977aaa47ec5426c19a5610ce85">Ed::CParkGenerator::DestroyAllClonedPieces</a></div><div class="ttdeci">void DestroyAllClonedPieces(EDestroyType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l01355">ParkGen.cpp:1355</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a19e5c6155b6183ba7d12857d57b216f8"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a19e5c6155b6183ba7d12857d57b216f8">Ed::CParkGenerator::GetRestartDims</a></div><div class="ttdeci">GridDims GetRestartDims(RestartType type, int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02788">ParkGen.cpp:2788</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_cloned_piece_html_abf0d5d0acf8e4b3428057d9af7b8b761a04c8c64aa92eb014bef03e16e16d5fcc"><div class="ttname"><a href="../../db/dbe/class_ed_1_1_c_cloned_piece.html#abf0d5d0acf8e4b3428057d9af7b8b761a04c8c64aa92eb014bef03e16e16d5fcc">Ed::CClonedPiece::MARKER_ONLY</a></div><div class="ttdeci">@ MARKER_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00220">ParkGen.h:220</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a148f8f6bc239cff60340c410df449c71"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a148f8f6bc239cff60340c410df449c71">Script::CStruct::AddChecksum</a></div><div class="ttdeci">void AddChecksum(uint32 nameChecksum, uint32 checksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01071">struct.cpp:1071</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_concrete_meta_piece_html"><div class="ttname"><a href="../../d6/daa/class_ed_1_1_c_concrete_meta_piece.html">Ed::CConcreteMetaPiece</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00204">EdMap.h:204</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a4ec12f38a67e0abdf109859818d85505"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a4ec12f38a67e0abdf109859818d85505">Ed::CParkGenerator::EDestroyType</a></div><div class="ttdeci">EDestroyType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00268">ParkGen.h:268</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a5dc06726540952954198c06c4b57d5e4"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a5dc06726540952954198c06c4b57d5e4">Ed::CMetaPiece::GetNameChecksum</a></div><div class="ttdeci">uint32 GetNameChecksum()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00136">EdMap.h:136</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_old_html"><div class="ttname"><a href="../../d7/d30/struct_ed_1_1_c_park_manager_1_1_compressed_gap_old.html">Ed::CParkManager::CompressedGapOld</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00656">EdMap.h:656</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_a8c058cac710dd8916ed889556c4c179f"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a8c058cac710dd8916ed889556c4c179f">Ed::CGapManager::SetGapInfo</a></div><div class="ttdeci">void SetGapInfo(int tab_index, GapDescriptor &amp;descriptor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00184">GapManager.cpp:184</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html">Script::CArray</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00024">array.h:24</a></div></div>
<div class="ttc" id="aclass_mem_1_1_manager_html_a7c4cba14870f002aee0243e16114f443"><div class="ttname"><a href="../../d2/d0a/class_mem_1_1_manager.html#a7c4cba14870f002aee0243e16114f443">Mem::Manager::PopContext</a></div><div class="ttdeci">void PopContext(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/win32functions_8cpp_source.html#l00075">win32functions.cpp:75</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_af0638a7b3a0ea5a15b3f4ee0536869c9"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#af0638a7b3a0ea5a15b3f4ee0536869c9">Script::CStruct::GetArray</a></div><div class="ttdeci">bool GetArray(uint32 nameChecksum, CArray **pp_array, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01609">struct.cpp:1609</a></div></div>
<div class="ttc" id="anamespace_nx_html_a6a17d6914fc4d83136bd326e196a9877"><div class="ttname"><a href="../../d1/d06/namespace_nx.html#a6a17d6914fc4d83136bd326e196a9877">Nx::x</a></div><div class="ttdeci">static Mth::Vector x</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01913">CollTriData.cpp:1913</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_gap_manager_html_a49a6a6d9b416fa674a37f78be752a1ec"><div class="ttname"><a href="../../d8/d62/class_ed_1_1_c_gap_manager.html#a49a6a6d9b416fa674a37f78be752a1ec">Ed::CGapManager::StartGap</a></div><div class="ttdeci">void StartGap(CClonedPiece *pGapPiece, CConcreteMetaPiece *pRegularMeta, int tab_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d16/_gap_manager_8cpp_source.html#l00108">GapManager.cpp:108</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a11bded867ee38d7f269066c8c86ca4a6"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a11bded867ee38d7f269066c8c86ca4a6">Ed::CParkManager::GetPieceSet</a></div><div class="ttdeci">CPieceSet &amp; GetPieceSet(int setNumber, int *pMenuSetNumber=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03016">EdMap.cpp:3016</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a3300b128263d8d90d8399d2bb596de75"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3300b128263d8d90d8399d2bb596de75">Ed::CParkManager::add_metapiece_to_node_list</a></div><div class="ttdeci">void add_metapiece_to_node_list(CMetaPiece *pPieceToAdd, CMapListNode **ppList)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04068">EdMap.cpp:4068</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635a58833a3110c570fb05130d40c365d1e4">X</a></div><div class="ttdeci">@ X</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_a4b3e3c3cf42437227ffa94809e03e1f2"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#a4b3e3c3cf42437227ffa94809e03e1f2">Ed::CParkManager::CompressedMapHeader::mParkSize</a></div><div class="ttdeci">uint16 mParkSize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00622">EdMap.h:622</a></div></div>
<div class="ttc" id="amusic_8h_html"><div class="ttname"><a href="../../db/d10/music_8h.html">music.h</a></div></div>
<div class="ttc" id="anamespace_script_html_aa0c62774649e1e3abcab019ea335a3ad"><div class="ttname"><a href="../../d1/d54/namespace_script.html#aa0c62774649e1e3abcab019ea335a3ad">Script::GetInteger</a></div><div class="ttdeci">int GetInteger(uint32 checksum, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00514">symboltable.cpp:514</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_editor_html_a5a306a7a02235c126788b85eb1f5bb18"><div class="ttname"><a href="../../d8/d13/class_ed_1_1_c_park_editor.html#a5a306a7a02235c126788b85eb1f5bb18">Ed::CParkEditor::GetTimeOfDayScript</a></div><div class="ttdeci">uint32 GetTimeOfDayScript()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df6/_park_ed_8h_source.html#l00113">ParkEd.h:113</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a1c20c05e4ffb8670508e21cbbe485bec"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1c20c05e4ffb8670508e21cbbe485bec">Ed::CParkManager::SetRestartTypeId</a></div><div class="ttdeci">void SetRestartTypeId(CParkGenerator::RestartType type, uint32 id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04422">EdMap.cpp:4422</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9bbcf8c7fc53ec6430153481fa6e83fd"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9bbcf8c7fc53ec6430153481fa6e83fd">Ed::CParkManager::IsMapSavedLocally</a></div><div class="ttdeci">bool IsMapSavedLocally()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01255">EdMap.cpp:1255</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a4672ce5896a9910876e39d805a473d39"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a4672ce5896a9910876e39d805a473d39">Ed::CMetaPiece::NoRails</a></div><div class="ttdeci">bool NoRails()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00145">EdMap.h:145</a></div></div>
<div class="ttc" id="anamespace_nx_html_a05e83dec9126204c2b3db66d2c6158f0"><div class="ttname"><a href="../../d1/d06/namespace_nx.html#a05e83dec9126204c2b3db66d2c6158f0">Nx::y</a></div><div class="ttdeci">static Mth::Vector y</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/_coll_tri_data_8cpp_source.html#l01914">CollTriData.cpp:1914</a></div></div>
<div class="ttc" id="a_defines_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00134">Defines.h:134</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a95beb9cb7f3bb72fec3d10c417cd8c99"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a95beb9cb7f3bb72fec3d10c417cd8c99">Ed::CMetaPiece::m_flags</a></div><div class="ttdeci">EFlags m_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00179">EdMap.h:179</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_aa117a7261b60936a3885d9b318376030"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#aa117a7261b60936a3885d9b318376030">Ed::CParkManager::BuildFloorParams::bottom</a></div><div class="ttdeci">int bottom</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00500">EdMap.h:500</a></div></div>
<div class="ttc" id="astruct_8h_html"><div class="ttname"><a href="../../df/dec/struct_8h.html">struct.h</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_gap_html_a8757f52aed3a691aa9f18f80f46edef8"><div class="ttname"><a href="../../d5/d6b/struct_ed_1_1_c_park_manager_1_1_compressed_gap.html#a8757f52aed3a691aa9f18f80f46edef8">Ed::CParkManager::CompressedGap::z</a></div><div class="ttdeci">uint8 z[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00674">EdMap.h:674</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_afcdc317ab06725b9f03fe96f26a1a4fe"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#afcdc317ab06725b9f03fe96f26a1a4fe">Ed::CParkGenerator::CreateGapPiece</a></div><div class="ttdeci">CClonedPiece * CreateGapPiece(Mth::Vector &amp;pos, float length, int rot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02941">ParkGen.cpp:2941</a></div></div>
<div class="ttc" id="anamespace_mth_html_a97bb408ad8a8dfef08bcd81001073139a539524bdfe925b759487b1a8c653fe85"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139a539524bdfe925b759487b1a8c653fe85">Mth::ROT_180</a></div><div class="ttdeci">@ ROT_180</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/rot90_8h_source.html#l00015">rot90.h:15</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5af"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5af">Ed::CMetaPiece::EFlags</a></div><div class="ttdeci">EFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00088">EdMap.h:88</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_aa217013df258b0b0f48a7440fc962894"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#aa217013df258b0b0f48a7440fc962894">Ed::GridDims::GetL</a></div><div class="ttdeci">uint8 GetL() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00077">ParkGen.h:77</a></div></div>
<div class="ttc" id="ascript_8h_html"><div class="ttname"><a href="../../de/d7f/script_8h.html">script.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aab29f1a394b0f9b7aeb1a4bd2a969efd"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aab29f1a394b0f9b7aeb1a4bd2a969efd">Ed::CParkManager::AccessDisk</a></div><div class="ttdeci">void AccessDisk(bool save, int fileSlot)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01445">EdMap.cpp:1445</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a880ed2ff0af3127cbf7b44efb635b36b"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a880ed2ff0af3127cbf7b44efb635b36b">Ed::CParkManager::DestroyConcreteMeta</a></div><div class="ttdeci">void DestroyConcreteMeta(CConcreteMetaPiece *pMeta, EDestroyFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02190">EdMap.cpp:2190</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html_a8ed74daebde045c5b119c6421c0046a6"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ed74daebde045c5b119c6421c0046a6">Ed::CAbstractMetaPiece::get_desc_with_expansion</a></div><div class="ttdeci">SMetaDescriptor get_desc_with_expansion(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00765">EdMap.cpp:765</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a10a26dfd72c5e8fe56f646e6730b82d8"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10a26dfd72c5e8fe56f646e6730b82d8">Ed::CParkManager::m_theme</a></div><div class="ttdeci">int m_theme</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00576">EdMap.h:576</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a8f02f037354dc5559e90e07e7b8f5c45"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8f02f037354dc5559e90e07e7b8f5c45">Ed::CParkManager::m_num_abstract_metapieces</a></div><div class="ttdeci">int m_num_abstract_metapieces</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00559">EdMap.h:559</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83a7c10eb4e43e4b6faf0c911702320b469">Ed::CParkManager::mNOT_SAVED_LOCAL</a></div><div class="ttdeci">@ mNOT_SAVED_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00699">EdMap.h:699</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a33351dec8a4908d91f7b5bbe7f7bdeb7"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a33351dec8a4908d91f7b5bbe7f7bdeb7">Ed::CMetaPiece::m_rot</a></div><div class="ttdeci">int m_rot</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00180">EdMap.h:180</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa5066239bacd7688609adba33b9a5ff9"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa5066239bacd7688609adba33b9a5ff9">Ed::CParkManager::m_total_sets</a></div><div class="ttdeci">int m_total_sets</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00612">EdMap.h:612</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_af04e066b851ff29e3e0650aab13d34c1"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#af04e066b851ff29e3e0650aab13d34c1">Ed::CMetaPiece::BuildElement3dSectorsArray</a></div><div class="ttdeci">void BuildElement3dSectorsArray(Script::CArray *pArray)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00290">EdMap.cpp:290</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a25b1215217fe835ae1301a677df5e01f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a25b1215217fe835ae1301a677df5e01f">Ed::CParkManager::DestroyMetasInArea</a></div><div class="ttdeci">uint32 DestroyMetasInArea(GridDims area, EDestroyFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02367">EdMap.cpp:2367</a></div></div>
<div class="ttc" id="avector_8h_html_a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a726ca809ffd3d67ab4b8476646f26635aa70478ce277ffc322f8e1e3418e07355">Z</a></div><div class="ttdeci">@ Z</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00068">vector.h:68</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa75e8b4c28ab587548e577230fd275d47"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa75e8b4c28ab587548e577230fd275d47">Ed::CMetaPiece::mCONTAINS_RISERS</a></div><div class="ttdeci">@ mCONTAINS_RISERS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00112">EdMap.h:112</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ab0e4c581febe46e82cf04ce6fdc63cfe"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab0e4c581febe46e82cf04ce6fdc63cfe">Ed::CParkManager::mp_bucket_list</a></div><div class="ttdeci">CMapListNode * mp_bucket_list[FLOOR_MAX_WIDTH][FLOOR_MAX_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00564">EdMap.h:564</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a9cb31b3e85c4bacf97205392bdf6e8eb"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9cb31b3e85c4bacf97205392bdf6e8eb">Ed::CMetaPiece::GetRelativePosOfContainedPiece</a></div><div class="ttdeci">Mth::Vector GetRelativePosOfContainedPiece(int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00271">EdMap.cpp:271</a></div></div>
<div class="ttc" id="anamespace_mth_html_a97bb408ad8a8dfef08bcd81001073139abb99d83cc3f5792e32e0a40fa32079d0"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a97bb408ad8a8dfef08bcd81001073139abb99d83cc3f5792e32e0a40fa32079d0">Mth::ROT_90</a></div><div class="ttdeci">@ ROT_90</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/rot90_8h_source.html#l00014">rot90.h:14</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a779a762e95c114cc0a329b12dc20c55d"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a779a762e95c114cc0a329b12dc20c55d">Ed::CMetaPiece::GetArea</a></div><div class="ttdeci">const GridDims &amp; GetArea()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00135">EdMap.h:135</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a655221aef3bc9dbaaf7b41ed806cd67f">Ed::CParkManager::FLOOR_MAX_LENGTH</a></div><div class="ttdeci">@ FLOOR_MAX_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00313">EdMap.h:313</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_aa641d0a5048217233d58f18c73d68f25"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#aa641d0a5048217233d58f18c73d68f25">Ed::CMapListTemp::IsEmpty</a></div><div class="ttdeci">bool IsEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00284">EdMap.h:284</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_struct_html_a1e85eee5e600de8358db26f6c777e42d"><div class="ttname"><a href="../../d2/df7/class_script_1_1_c_struct.html#a1e85eee5e600de8358db26f6c777e42d">Script::CStruct::GetInteger</a></div><div class="ttdeci">bool GetInteger(uint32 nameChecksum, int *p_integerValue, EAssertType assert=NO_ASSERT) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/struct_8cpp_source.html#l01480">struct.cpp:1480</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda06c23a59e887bf29f12dd36957012b22"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda06c23a59e887bf29f12dd36957012b22">Ed::CParkGenerator::vEMPTY</a></div><div class="ttdeci">@ vEMPTY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00276">ParkGen.h:276</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a90c4c1429a48870aa0161fa21009cd2b"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a90c4c1429a48870aa0161fa21009cd2b">Ed::CParkManager::WriteIntoStructure</a></div><div class="ttdeci">void WriteIntoStructure(Script::CStruct *p_struct)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01264">EdMap.cpp:1264</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ad22855adba0684ae2c95f3be81621a53"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ad22855adba0684ae2c95f3be81621a53">Ed::CParkManager::GetGenerator</a></div><div class="ttdeci">CParkGenerator * GetGenerator()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00323">EdMap.h:323</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_aaa447a5fa231591d693b8cffdd7bad03"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaa447a5fa231591d693b8cffdd7bad03">Ed::CMetaPiece::m_first_desc_tab</a></div><div class="ttdeci">SMetaDescriptor m_first_desc_tab[USUAL_NUM_DESCRIPTORS]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00192">EdMap.h:192</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_a0108f7d02bb8c948fe5f5e69c67b1292"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#a0108f7d02bb8c948fe5f5e69c67b1292">Ed::CMapListNode::VerifyIntegrity</a></div><div class="ttdeci">void VerifyIntegrity()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00893">EdMap.cpp:893</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a8a55d8b194213ffef4707d3addf87679"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8a55d8b194213ffef4707d3addf87679">Ed::CParkManager::GetParkChecksum</a></div><div class="ttdeci">uint32 GetParkChecksum()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01408">EdMap.cpp:1408</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a9d754a17af088d27a2312d2d48d0ad83"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a9d754a17af088d27a2312d2d48d0ad83">Ed::CParkGenerator::GetMaxPlayers</a></div><div class="ttdeci">int GetMaxPlayers()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00313">ParkGen.h:313</a></div></div>
<div class="ttc" id="anamespace_obj_html_a41de3a7404e71e185c1b30ee620ebcae"><div class="ttname"><a href="../../d2/d10/namespace_obj.html#a41de3a7404e71e185c1b30ee620ebcae">Obj::overlap</a></div><div class="ttdeci">static float overlap(float a, float b, float c, float d)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfa/rail_8cpp_source.html#l00330">rail.cpp:330</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_node_html_ad4e53e83d0e25f3e7c89711f090f2285"><div class="ttname"><a href="../../d0/dd9/class_ed_1_1_c_map_list_node.html#ad4e53e83d0e25f3e7c89711f090f2285">Ed::CMapListNode::mSlideAmount</a></div><div class="ttdeci">int mSlideAmount</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00268">EdMap.h:268</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_array_html_a54248747f1372c9247b71703853e5bfc"><div class="ttname"><a href="../../d0/d0b/class_script_1_1_c_array.html#a54248747f1372c9247b71703853e5bfc">Script::CArray::SetSizeAndType</a></div><div class="ttdeci">void SetSizeAndType(int size, ESymbolType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2a/array_8cpp_source.html#l00135">array.cpp:135</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a175ad8669d9743d0c0be374f9a0a9f8d"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a175ad8669d9743d0c0be374f9a0a9f8d">Ed::CParkGenerator::CELL_LENGTH</a></div><div class="ttdeci">static const float CELL_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00256">ParkGen.h:256</a></div></div>
<div class="ttc" id="anamespace_pcm_html_af405ca6aedfbd64805e40505bd0004ab"><div class="ttname"><a href="../../de/d3e/namespace_pcm.html#af405ca6aedfbd64805e40505bd0004ab">Pcm::Update</a></div><div class="ttdeci">void Update(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d8a/music_8cpp_source.html#l01890">music.cpp:1890</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_ae3ca81b57530909208627bf3e6767e83"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#ae3ca81b57530909208627bf3e6767e83">Ed::CPiece::GetDims</a></div><div class="ttdeci">virtual Mth::Vector GetDims()=0</div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html">Ed::CMetaPiece</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00082">EdMap.h:82</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a2d7a25b67804434c0868cb4d86df25de"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a2d7a25b67804434c0868cb4d86df25de">Ed::CMetaPiece::mp_additional_desc_tab</a></div><div class="ttdeci">SMetaDescriptor * mp_additional_desc_tab</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00193">EdMap.h:193</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a9d6bd6874739bd690b4f352d24c33248"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a9d6bd6874739bd690b4f352d24c33248">Ed::CMetaPiece::m_total_entries</a></div><div class="ttdeci">uint m_total_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00194">EdMap.h:194</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_a118826c5e39b694fe8fd635e28bc5f53"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a118826c5e39b694fe8fd635e28bc5f53">Ed::CParkManager::BuildFloorParams::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00496">EdMap.h:496</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_ae0f5ed3f88185022b482318ab906364d"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#ae0f5ed3f88185022b482318ab906364d">Ed::CParkManager::CompressedMapHeader::mW</a></div><div class="ttdeci">uint8 mW</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00625">EdMap.h:625</a></div></div>
<div class="ttc" id="aclass_c_feeler_html_aea1151612313752f5457aa1b15eca92b"><div class="ttname"><a href="../../dc/d35/class_c_feeler.html#aea1151612313752f5457aa1b15eca92b">CFeeler::GetCollision</a></div><div class="ttdeci">bool GetCollision(const Mth::Vector &amp;start, const Mth::Vector &amp;end, bool movables=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/feeler_8cpp_source.html#l00366">feeler.cpp:366</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a10e7c022bd7f7388f7c3cc4e8a98456ca9859ccf80bae6688520fb42192126bfd">Ed::CParkManager::VERSION</a></div><div class="ttdeci">@ VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00688">EdMap.h:688</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_a4817ee1e48601187389fc6941c514eff"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a4817ee1e48601187389fc6941c514eff">Ed::CParkManager::BuildFloorParams::flags</a></div><div class="ttdeci">EFloorFlags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00497">EdMap.h:497</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a3fef4af6f589d591e507df93c039793e"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a3fef4af6f589d591e507df93c039793e">Ed::CMetaPiece::IsInPark</a></div><div class="ttdeci">bool IsInPark()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00140">EdMap.h:140</a></div></div>
<div class="ttc" id="anamespace_ed_html_ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e"><div class="ttname"><a href="../../d2/d84/namespace_ed.html#ac3e8f04b3e34e38ddebd7c4f6437c377af5ecc1ac4d559efec0388a6757d3849e">Ed::H</a></div><div class="ttdeci">@ H</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00052">ParkGen.h:52</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83ad737e02b1687b17e101e60cb86199790">Ed::CParkManager::mIS_NEWER_THAN_PARK</a></div><div class="ttdeci">@ mIS_NEWER_THAN_PARK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00697">EdMap.h:697</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a8b32027b782635a0f6cf1410db436d79aa432590f1d531fad448d6630148daa30"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a8b32027b782635a0f6cf1410db436d79aa432590f1d531fad448d6630148daa30">Ed::CParkManager::NUM_ROAD_PIECES</a></div><div class="ttdeci">@ NUM_ROAD_PIECES</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00716">EdMap.h:716</a></div></div>
<div class="ttc" id="anamespace_script_html_aa331360f088c15972ac441ecb8b40cd9"><div class="ttname"><a href="../../d1/d54/namespace_script.html#aa331360f088c15972ac441ecb8b40cd9">Script::GenerateCRC</a></div><div class="ttdeci">uint32 GenerateCRC(const char *p_string)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0f/script_8cpp_source.html#l03521">script.cpp:3521</a></div></div>
<div class="ttc" id="anamespace_script_html_a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a1dbce4b634727b78b34e4f40ad1ba884ab2e8f3e4dd999c157c1c26dbd463e1a8">Script::ASSERT</a></div><div class="ttdeci">@ ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d49/scriptdefs_8h_source.html#l00016">scriptdefs.h:16</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a3f48682316be0df7e368a458c4441162"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3f48682316be0df7e368a458c4441162">Ed::CParkManager::m_park_near_bounds</a></div><div class="ttdeci">GridDims m_park_near_bounds</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00583">EdMap.h:583</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afd829e4424afb4b476b6fddf18b4b295a997c0ef29ffcfd5de6a25ec1c756469d">Ed::CParkManager::MAX_LENGTH</a></div><div class="ttdeci">@ MAX_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00306">EdMap.h:306</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_ab3b74e50e9d0daabcfb6b8d9092ae426"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#ab3b74e50e9d0daabcfb6b8d9092ae426">Ed::CMetaPiece::SetRot</a></div><div class="ttdeci">void SetRot(Mth::ERot90 rot)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00178">EdMap.cpp:178</a></div></div>
<div class="ttc" id="anamespace_script_html_ae80ed69ea4edcbcbbbd4985a6efdcd6e"><div class="ttname"><a href="../../d1/d54/namespace_script.html#ae80ed69ea4edcbcbbbd4985a6efdcd6e">Script::FindChecksumName</a></div><div class="ttdeci">const char * FindChecksumName(uint32 checksum)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/checksum_8cpp_source.html#l00252">checksum.cpp:252</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ace5d8a33f79b92f74370c9c42a0f4cf4"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ace5d8a33f79b92f74370c9c42a0f4cf4">Ed::CParkManager::read_from_compressed_map_buffer_old</a></div><div class="ttdeci">void read_from_compressed_map_buffer_old()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04988">EdMap.cpp:4988</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_entry_html_a6ab0780e8863e5c0febc3d7ded4401d7"><div class="ttname"><a href="../../d1/db8/class_ed_1_1_c_park_manager_1_1_c_piece_entry.html#a6ab0780e8863e5c0febc3d7ded4401d7">Ed::CParkManager::CPieceEntry::mNameCrc</a></div><div class="ttdeci">uint32 mNameCrc</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00419">EdMap.h:419</a></div></div>
<div class="ttc" id="aclass_mth_1_1_vector_html_a09bf1a16a342e3424a5768a7f754d5ed"><div class="ttname"><a href="../../d1/d08/class_mth_1_1_vector.html#a09bf1a16a342e3424a5768a7f754d5ed">Mth::Vector::GetZ</a></div><div class="ttdeci">float GetZ(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5f/vector_8inl_source.html#l00864">vector.inl:864</a></div></div>
<div class="ttc" id="anamespace_dbg_html_ab406a8cc16de5046c7d9fd09c9de5e22"><div class="ttname"><a href="../../da/d37/namespace_dbg.html#ab406a8cc16de5046c7d9fd09c9de5e22">Dbg::sprintf</a></div><div class="ttdeci">sprintf(tmp1, &quot;FILE:      %s(%d) &quot;, file, line)</div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aac2a9f6e7cc9f932709109eb49b80088"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aac2a9f6e7cc9f932709109eb49b80088">Ed::CParkManager::m_park_far_bounds</a></div><div class="ttdeci">GridDims m_park_far_bounds</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00584">EdMap.h:584</a></div></div>
<div class="ttc" id="aclass_mth_1_1_matrix_html_a06a07c27b6ed6a037b5dfaaeb5ba6cb2"><div class="ttname"><a href="../../d9/d37/class_mth_1_1_matrix.html#a06a07c27b6ed6a037b5dfaaeb5ba6cb2">Mth::Matrix::Ident</a></div><div class="ttdeci">Matrix &amp; Ident(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/matrix_8inl_source.html#l00043">matrix.inl:43</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa31432a6f8aa945c5f71ac69c0adef0aa4b95331f57bae68115d1197ee1e6e5da"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa31432a6f8aa945c5f71ac69c0adef0aa4b95331f57bae68115d1197ee1e6e5da">Ed::CParkManager::TYPE_FLOOR_BLOCK</a></div><div class="ttdeci">@ TYPE_FLOOR_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00589">EdMap.h:589</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_gap_manager_1_1_gap_descriptor_html_aa8834282054e90130ff1b36d77bef367"><div class="ttname"><a href="../../db/d04/struct_ed_1_1_c_gap_manager_1_1_gap_descriptor.html#aa8834282054e90130ff1b36d77bef367">Ed::CGapManager::GapDescriptor::rot</a></div><div class="ttdeci">int rot[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d58/_gap_manager_8h_source.html#l00029">GapManager.h:29</a></div></div>
<div class="ttc" id="a_ed_map_8h_html"><div class="ttname"><a href="../../df/d54/_ed_map_8h.html">EdMap.h</a></div></div>
<div class="ttc" id="anamespace_script_html_a84ac1eedf37ab70be269e8fcbdc6ea21af2eca5380b5f9edf380b1ea9121c03eb"><div class="ttname"><a href="../../d1/d54/namespace_script.html#a84ac1eedf37ab70be269e8fcbdc6ea21af2eca5380b5f9edf380b1ea9121c03eb">Script::ESYMBOLTYPE_INTEGER</a></div><div class="ttdeci">@ ESYMBOLTYPE_INTEGER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc0/symboltype_8h_source.html#l00010">symboltype.h:10</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_1_1_c_piece_set_html_aaa5f3b5b0b0d118fa546ff4738749f2f"><div class="ttname"><a href="../../d4/dd4/class_ed_1_1_c_park_manager_1_1_c_piece_set.html#aaa5f3b5b0b0d118fa546ff4738749f2f">Ed::CParkManager::CPieceSet::mVisible</a></div><div class="ttdeci">char mVisible</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00436">EdMap.h:436</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a582ed7f63dfe42b2b3c4e16c8a3cd5afa7b64ec5e561d8eda7f277232bc5f3859"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a582ed7f63dfe42b2b3c4e16c8a3cd5afa7b64ec5e561d8eda7f277232bc5f3859">Ed::CMetaPiece::mNO_RAILS</a></div><div class="ttdeci">@ mNO_RAILS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00105">EdMap.h:105</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a8b019f43f9a54f9a9cce3b542a928489"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a8b019f43f9a54f9a9cce3b542a928489">Ed::CMetaPiece::clear_flag</a></div><div class="ttdeci">void clear_flag(EFlags flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00174">EdMap.h:174</a></div></div>
<div class="ttc" id="aclass_mem_1_1_c_poolable_html_a5007b3f54159e9e13fac32e73e387863"><div class="ttname"><a href="../../d6/d3a/class_mem_1_1_c_poolable.html#a5007b3f54159e9e13fac32e73e387863">Mem::CPoolable::SRemovePool</a></div><div class="ttdeci">static void SRemovePool()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/_poolable_8h_source.html#l00180">Poolable.h:180</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a3e628d075bba59d82db25fe012a6ce08"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a3e628d075bba59d82db25fe012a6ce08">Ed::CParkGenerator::RemoveRestart</a></div><div class="ttdeci">void RemoveRestart(const GridDims &amp;dims, RestartType type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0b/_park_gen_8cpp_source.html#l02860">ParkGen.cpp:2860</a></div></div>
<div class="ttc" id="anamespace_mem_html_a10246603d03405159c82320b96e3efbf"><div class="ttname"><a href="../../db/dc4/namespace_mem.html#a10246603d03405159c82320b96e3efbf">Mem::Malloc</a></div><div class="ttdeci">void * Malloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dda/win32functions_8cpp_source.html#l00103">win32functions.cpp:103</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_a739766ffe6ec403aee479197ae8e632f"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#a739766ffe6ec403aee479197ae8e632f">Ed::CMetaPiece::initialize_desc_table</a></div><div class="ttdeci">void initialize_desc_table(int numEntries)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00312">EdMap.cpp:312</a></div></div>
<div class="ttc" id="aclass_mem_1_1_c_poolable_html_a3b0839619703951053424bb7f5918638"><div class="ttname"><a href="../../d6/d3a/class_mem_1_1_c_poolable.html#a3b0839619703951053424bb7f5918638">Mem::CPoolable::SPrintInfo</a></div><div class="ttdeci">static void SPrintInfo()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/_poolable_8h_source.html#l00233">Poolable.h:233</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a21e6ef5e3f550b2264aece1538e8f031"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a21e6ef5e3f550b2264aece1538e8f031">Ed::CParkManager::finish_slide_column</a></div><div class="ttdeci">void finish_slide_column()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03889">EdMap.cpp:3889</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a99f4c81a0f4c7285d6667c7480d732ba"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a99f4c81a0f4c7285d6667c7480d732ba">Ed::CParkManager::RebuildWholePark</a></div><div class="ttdeci">void RebuildWholePark(bool clearPark)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01565">EdMap.cpp:1565</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_rail_editor_component_html_a7e4bd8bf9e76b47f4e6dc5495b974152"><div class="ttname"><a href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a7e4bd8bf9e76b47f4e6dc5495b974152">Obj::CRailEditorComponent::WriteIntoStructure</a></div><div class="ttdeci">void WriteIntoStructure(Script::CStruct *p_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d77/_rail_editor_component_8cpp_source.html#l02002">RailEditorComponent.cpp:2002</a></div></div>
<div class="ttc" id="astruct_ed_1_1_s_meta_descriptor_html_aa541c6a03264e6031054dbf0f10acb4a"><div class="ttname"><a href="../../d2/d8c/struct_ed_1_1_s_meta_descriptor.html#aa541c6a03264e6031054dbf0f10acb4a">Ed::SMetaDescriptor::mZ</a></div><div class="ttdeci">uint8 mZ</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00044">EdMap.h:44</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a1e7b40522e4d268ffcb7146b02585a34"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a1e7b40522e4d268ffcb7146b02585a34">Ed::CParkManager::sp_instance</a></div><div class="ttdeci">static CParkManager * sp_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00736">EdMap.h:736</a></div></div>
<div class="ttc" id="anamespace_file_html_ae5e5ed0fd4834fc2e0e1c29edc62fc02"><div class="ttname"><a href="../../de/d10/namespace_file.html#ae5e5ed0fd4834fc2e0e1c29edc62fc02">File::Read</a></div><div class="ttdeci">size_t Read(void *addr, size_t size, size_t count, void *pFP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbe/ngc_2p__filesys_8cpp_source.html#l00443">p_filesys.cpp:443</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_build_floor_params_html_a1335d955b795aa6fa39dd813703e8cd5"><div class="ttname"><a href="../../da/d6e/struct_ed_1_1_c_park_manager_1_1_build_floor_params.html#a1335d955b795aa6fa39dd813703e8cd5">Ed::CParkManager::BuildFloorParams::addCount2</a></div><div class="ttdeci">int addCount2</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00505">EdMap.h:505</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a14313a2617312d29b0006017f5739d9f"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a14313a2617312d29b0006017f5739d9f">Ed::CParkManager::SlideColumn</a></div><div class="ttdeci">bool SlideColumn(GridDims area, int bottom, int top, bool up, bool uneven)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l02876">EdMap.cpp:2876</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_generator_html_a25a8ba8d5444759a8b94c097f5a0e8dda545425aa6fd98286fc2082f474a3a1a6"><div class="ttname"><a href="../../de/d42/class_ed_1_1_c_park_generator.html#a25a8ba8d5444759a8b94c097f5a0e8dda545425aa6fd98286fc2082f474a3a1a6">Ed::CParkGenerator::vRED_FLAG</a></div><div class="ttdeci">@ vRED_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00281">ParkGen.h:281</a></div></div>
<div class="ttc" id="a_defines_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="../../d8/de2/_defines_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de2/_defines_8h_source.html#l00135">Defines.h:135</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_floor_entry_html"><div class="ttname"><a href="../../d6/da4/struct_ed_1_1_c_park_manager_1_1_compressed_floor_entry.html">Ed::CParkManager::CompressedFloorEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00650">EdMap.h:650</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afb1041ddd2e22c13f6b72d242bdff45d"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb1041ddd2e22c13f6b72d242bdff45d">Ed::CParkManager::mp_build_list_entry</a></div><div class="ttdeci">SBuildListEntry * mp_build_list_entry</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00549">EdMap.h:549</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a3a391082564f9a31fb7972f1d1ada364"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3a391082564f9a31fb7972f1d1ada364">Ed::CParkManager::m_palette_set</a></div><div class="ttdeci">CPieceSet m_palette_set[MAX_SETS]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00611">EdMap.h:611</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_abstract_meta_piece_html_a8ad938a90bce77184a941ec3efeb764b"><div class="ttname"><a href="../../d0/da2/class_ed_1_1_c_abstract_meta_piece.html#a8ad938a90bce77184a941ec3efeb764b">Ed::CAbstractMetaPiece::add_piece</a></div><div class="ttdeci">virtual void add_piece(CPiece *pPiece, GridDims *pPos, Mth::ERot90 rot=Mth::ROT_0, bool isRiser=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00671">EdMap.cpp:671</a></div></div>
<div class="ttc" id="adma_8h_html"><div class="ttname"><a href="../../d9/d95/dma_8h.html">dma.h</a></div></div>
<div class="ttc" id="anamespace_mth_html_a5a88e8aff5b7bdd63a88cd62c1485814"><div class="ttname"><a href="../../d5/db9/namespace_mth.html#a5a88e8aff5b7bdd63a88cd62c1485814">Mth::DegToRad</a></div><div class="ttdeci">float DegToRad(float degrees)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/_math_2math_8h_source.html#l00447">math.h:447</a></div></div>
<div class="ttc" id="aclass_ed_1_1_grid_dims_html_a96d5d2c51198c39edb269a201c83aa33"><div class="ttname"><a href="../../da/d40/class_ed_1_1_grid_dims.html#a96d5d2c51198c39edb269a201c83aa33">Ed::GridDims::MakeInfinitelyHigh</a></div><div class="ttdeci">void MakeInfinitelyHigh()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l00079">EdMap.cpp:79</a></div></div>
<div class="ttc" id="astruct_ed_1_1_c_park_manager_1_1_compressed_map_header_html_aad4209ea476e08f359293011848f3710"><div class="ttname"><a href="../../d9/d29/struct_ed_1_1_c_park_manager_1_1_compressed_map_header.html#aad4209ea476e08f359293011848f3710">Ed::CParkManager::CompressedMapHeader::mZ</a></div><div class="ttdeci">uint8 mZ</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00624">EdMap.h:624</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a84cc1225041881f660cf7ffa548eb920"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a84cc1225041881f660cf7ffa548eb920">Ed::CParkManager::~CParkManager</a></div><div class="ttdeci">~CParkManager()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01011">EdMap.cpp:1011</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_af5bea7aa6f3b89d7b70e09e39fa3a097"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#af5bea7aa6f3b89d7b70e09e39fa3a097">Ed::CParkManager::mp_concrete_metapiece_list</a></div><div class="ttdeci">CMapListNode * mp_concrete_metapiece_list</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00555">EdMap.h:555</a></div></div>
<div class="ttc" id="anamespace_script_html_aacb275494688d5b51c565c932f27f76c"><div class="ttname"><a href="../../d1/d54/namespace_script.html#aacb275494688d5b51c565c932f27f76c">Script::GetArray</a></div><div class="ttdeci">CArray * GetArray(uint32 checksum, EAssertType assert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/symboltable_8cpp_source.html#l00671">symboltable.cpp:671</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_meta_piece_html_aaf61f2877e7d36dff8e81232f4b83643"><div class="ttname"><a href="../../da/d0e/class_ed_1_1_c_meta_piece.html#aaf61f2877e7d36dff8e81232f4b83643">Ed::CMetaPiece::m_cell_area</a></div><div class="ttdeci">GridDims m_cell_area</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00177">EdMap.h:177</a></div></div>
<div class="ttc" id="a_ed_rail_8h_html"><div class="ttname"><a href="../../d0/d04/_ed_rail_8h.html">EdRail.h</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a31ab25a35d83d838070c46f31d41fa14"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a31ab25a35d83d838070c46f31d41fa14">Ed::CParkManager::m_restartPieceIdTab</a></div><div class="ttdeci">uint32 m_restartPieceIdTab[CParkGenerator::vNUM_RESTART_TYPES]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00725">EdMap.h:725</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a3eb1a50ae447b0fb1773884a542b5e19"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a3eb1a50ae447b0fb1773884a542b5e19">Ed::CParkManager::m_build_list_size</a></div><div class="ttdeci">int m_build_list_size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00548">EdMap.h:548</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9905eaa7ded54264bd143294115ef509"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9905eaa7ded54264bd143294115ef509">Ed::CParkManager::remove_metapiece_from_node_list</a></div><div class="ttdeci">void remove_metapiece_from_node_list(CMetaPiece *pPieceToRemove, CMapListNode **ppList)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04092">EdMap.cpp:4092</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a9609e8604386aed130773c9dae3d9d83"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a9609e8604386aed130773c9dae3d9d83">Ed::CParkManager::ECompressedMapFlags</a></div><div class="ttdeci">ECompressedMapFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00692">EdMap.h:692</a></div></div>
<div class="ttc" id="aclass_obj_1_1_c_rail_editor_component_html_a1fe5821185edc231a34617e89288f07b"><div class="ttname"><a href="../../dc/d9e/class_obj_1_1_c_rail_editor_component.html#a1fe5821185edc231a34617e89288f07b">Obj::CRailEditorComponent::RefreshGeometry</a></div><div class="ttdeci">void RefreshGeometry()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d77/_rail_editor_component_8cpp_source.html#l01756">RailEditorComponent.cpp:1756</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_vector_html_a276bcec5d6d78a8fc02d89a291d55369"><div class="ttname"><a href="../../de/d4d/class_script_1_1_c_vector.html#a276bcec5d6d78a8fc02d89a291d55369">Script::CVector::mX</a></div><div class="ttdeci">float mX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/vecpair_8h_source.html#l00030">vecpair.h:30</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a0207ea29681485f462ca08af7251d579"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a0207ea29681485f462ca08af7251d579">Ed::CParkManager::IsRestartPiece</a></div><div class="ttdeci">CParkGenerator::RestartType IsRestartPiece(uint32 id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l04463">EdMap.cpp:4463</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_piece_html_a47a3c1d55ff05ff2343048e1b417bcb1a9c47ebd0069160895eb9af1a269b955a"><div class="ttname"><a href="../../de/d7f/class_ed_1_1_c_piece.html#a47a3c1d55ff05ff2343048e1b417bcb1a9c47ebd0069160895eb9af1a269b955a">Ed::CPiece::mNO_FLAGS</a></div><div class="ttdeci">@ mNO_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d71/_park_gen_8h_source.html#l00117">ParkGen.h:117</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_a45cd8ca249e638ffd66fa7e4346ade2c"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#a45cd8ca249e638ffd66fa7e4346ade2c">Ed::CParkManager::GetClipboardProportionUsed</a></div><div class="ttdeci">float GetClipboardProportionUsed()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l01179">EdMap.cpp:1179</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_ab1366acc0ad92804af45eefeb28a8cd1"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#ab1366acc0ad92804af45eefeb28a8cd1">Ed::CParkManager::RemoveGap</a></div><div class="ttdeci">void RemoveGap(CGapManager::GapDescriptor &amp;descriptor)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03227">EdMap.cpp:3227</a></div></div>
<div class="ttc" id="aclass_script_1_1_c_component_html"><div class="ttname"><a href="../../d4/d58/class_script_1_1_c_component.html">Script::CComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcf/component_8h_source.html#l00027">component.h:27</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_acd1ec3e05f65d190fa03c325bf29fe7caa91a16d71b4cfe900e191a7d2b37a652"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#acd1ec3e05f65d190fa03c325bf29fe7caa91a16d71b4cfe900e191a7d2b37a652">Ed::CParkManager::mEXCLUDE_RISERS</a></div><div class="ttdeci">@ mEXCLUDE_RISERS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00368">EdMap.h:368</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_afb617e5caea9135e5d5bc13215bf0522"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#afb617e5caea9135e5d5bc13215bf0522">Ed::CParkManager::fix_slide_column_part_one_failure</a></div><div class="ttdeci">void fix_slide_column_part_one_failure()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l03813">EdMap.cpp:3813</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_map_list_temp_html_a08c2e24f7a8c07127bd9edecd4dfc111"><div class="ttname"><a href="../../d9/dad/class_ed_1_1_c_map_list_temp.html#a08c2e24f7a8c07127bd9edecd4dfc111">Ed::CMapListTemp::IsSingular</a></div><div class="ttdeci">bool IsSingular()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d54/_ed_map_8h_source.html#l00285">EdMap.h:285</a></div></div>
<div class="ttc" id="aclass_ed_1_1_c_park_manager_html_aa0021e0cef633e280ae0d526b1e0b406"><div class="ttname"><a href="../../d0/d5c/class_ed_1_1_c_park_manager.html#aa0021e0cef633e280ae0d526b1e0b406">Ed::CParkManager::setup_default_dimensions</a></div><div class="ttdeci">void setup_default_dimensions()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/_ed_map_8cpp_source.html#l05102">EdMap.cpp:5102</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_cb119f6858e5de5e037b1f81563a60c1.html">sk</a></li><li class="navelem"><a class="el" href="../../dir_d5e5e18ec57b4022b7d89e2c4d28d3c5.html">ParkEditor2</a></li><li class="navelem"><a class="el" href="../../dc/df2/_ed_map_8cpp.html">EdMap.cpp</a></li>
    <li class="footer">Документация по OpenTHUG. Последние изменения: Вс 26 Апр 2020 03:47:35. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
